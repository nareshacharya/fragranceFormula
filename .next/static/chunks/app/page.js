/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/page"],{

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _components_PerfumeFormulaBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/PerfumeFormulaBuilder */ \"(app-pages-browser)/./components/PerfumeFormulaBuilder.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction Home() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PerfumeFormulaBuilder__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/app/page.tsx\",\n        lineNumber: 7,\n        columnNumber: 10\n    }, this);\n}\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR3VFO0FBRXhELFNBQVNDO0lBQ3RCLHFCQUFPLDhEQUFDRCx5RUFBcUJBOzs7OztBQUMvQjtLQUZ3QkMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYXJlc2gucGVudGFwYXRpL0RvY3VtZW50cy9Qcm9qZWN0cy9mcmFncmFuY2VGb3JtdWxhL2FwcC9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2UgY2xpZW50JztcblxuaW1wb3J0IFBlcmZ1bWVGb3JtdWxhQnVpbGRlciBmcm9tICdAL2NvbXBvbmVudHMvUGVyZnVtZUZvcm11bGFCdWlsZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZSgpIHtcbiAgcmV0dXJuIDxQZXJmdW1lRm9ybXVsYUJ1aWxkZXIgLz47XG59XG4iXSwibmFtZXMiOlsiUGVyZnVtZUZvcm11bGFCdWlsZGVyIiwiSG9tZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/FormulaCanvas.tsx":
/*!**************************************!*\
  !*** ./components/FormulaCanvas.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FormulaCanvas)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/core */ \"(app-pages-browser)/./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/sortable */ \"(app-pages-browser)/./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @dnd-kit/utilities */ \"(app-pages-browser)/./node_modules/@dnd-kit/utilities/dist/utilities.esm.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$(), _s5 = $RefreshSig$(), _s6 = $RefreshSig$(), _s7 = $RefreshSig$();\n\n\n\n\n\nfunction IngredientDetailPopup(param) {\n    let { ingredient, onClose } = param;\n    _s();\n    const [expandedSections, setExpandedSections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set([\n        \"basic\"\n    ]));\n    const toggleSection = (sectionId)=>{\n        const newExpanded = new Set(expandedSections);\n        if (newExpanded.has(sectionId)) {\n            newExpanded.delete(sectionId);\n        } else {\n            newExpanded.add(sectionId);\n        }\n        setExpandedSections(newExpanded);\n    };\n    const sections = [\n        {\n            id: \"basic\",\n            title: \"Basic Information\",\n            icon: \"ri-information-line\",\n            content: [\n                {\n                    label: \"Name\",\n                    value: ingredient.name\n                },\n                {\n                    label: \"CAS Number\",\n                    value: ingredient.casNo || \"N/A\"\n                },\n                {\n                    label: \"Category\",\n                    value: ingredient.category || \"N/A\"\n                },\n                {\n                    label: \"Subcategory\",\n                    value: ingredient.subcategory || \"N/A\"\n                },\n                {\n                    label: \"Description\",\n                    value: ingredient.description || \"N/A\"\n                }\n            ]\n        },\n        {\n            id: \"olfactive\",\n            title: \"Olfactive Profile\",\n            icon: \"ri-nose-line\",\n            content: [\n                {\n                    label: \"Olfactive Family\",\n                    value: ingredient.olfactiveFamily || \"Floral\"\n                },\n                {\n                    label: \"Top Note\",\n                    value: ingredient.topNote || \"Fresh, Green\"\n                },\n                {\n                    label: \"Heart Note\",\n                    value: ingredient.heartNote || \"Floral, Sweet\"\n                },\n                {\n                    label: \"Base Note\",\n                    value: ingredient.baseNote || \"Woody, Musky\"\n                },\n                {\n                    label: \"Intensity\",\n                    value: ingredient.intensity || \"7/10\"\n                },\n                {\n                    label: \"Longevity\",\n                    value: ingredient.longevity || \"6-8 hours\"\n                }\n            ]\n        },\n        {\n            id: \"technical\",\n            title: \"Technical Properties\",\n            icon: \"ri-flask-line\",\n            content: [\n                {\n                    label: \"Molecular Weight\",\n                    value: ingredient.molecularWeight || \"154.25 g/mol\"\n                },\n                {\n                    label: \"Boiling Point\",\n                    value: ingredient.boilingPoint || \"215°C\"\n                },\n                {\n                    label: \"Flash Point\",\n                    value: ingredient.flashPoint || \"93°C\"\n                },\n                {\n                    label: \"Solubility\",\n                    value: ingredient.solubility || \"Ethanol, Oil\"\n                },\n                {\n                    label: \"Stability\",\n                    value: ingredient.stability || \"Stable under normal conditions\"\n                },\n                {\n                    label: \"pH\",\n                    value: ingredient.pH || \"6.5-7.5\"\n                }\n            ]\n        },\n        {\n            id: \"regulations\",\n            title: \"Regulations & Certifications\",\n            icon: \"ri-shield-check-line\",\n            content: [\n                {\n                    label: \"IFRA Category\",\n                    value: ingredient.ifraCategory || \"Category 1-4\"\n                },\n                {\n                    label: \"IFRA Restriction\",\n                    value: ingredient.ifraRestriction || \"0.1% max\"\n                },\n                {\n                    label: \"EU Cosmetic Regulation\",\n                    value: ingredient.euRegulation || \"Compliant\"\n                },\n                {\n                    label: \"FDA Status\",\n                    value: ingredient.fdaStatus || \"GRAS\"\n                },\n                {\n                    label: \"Halal Certified\",\n                    value: ingredient.halalCertified || \"Yes\"\n                },\n                {\n                    label: \"Vegan\",\n                    value: ingredient.vegan || \"Yes\"\n                }\n            ]\n        },\n        {\n            id: \"usage\",\n            title: \"Usage & Recommendations\",\n            icon: \"ri-lightbulb-line\",\n            content: [\n                {\n                    label: \"Recommended Usage\",\n                    value: ingredient.recommendedUsage || \"0.5-2.0%\"\n                },\n                {\n                    label: \"Blends Well With\",\n                    value: ingredient.blendsWellWith || \"Rose, Jasmine, Sandalwood\"\n                },\n                {\n                    label: \"Application\",\n                    value: ingredient.application || \"Fine Fragrance, Personal Care\"\n                },\n                {\n                    label: \"Storage\",\n                    value: ingredient.storage || \"Cool, dry place, away from light\"\n                },\n                {\n                    label: \"Shelf Life\",\n                    value: ingredient.shelfLife || \"24 months\"\n                }\n            ]\n        },\n        {\n            id: \"sustainability\",\n            title: \"Sustainability\",\n            icon: \"ri-leaf-line\",\n            content: [\n                {\n                    label: \"Origin\",\n                    value: ingredient.origin || \"France\"\n                },\n                {\n                    label: \"Extraction Method\",\n                    value: ingredient.extractionMethod || \"Steam Distillation\"\n                },\n                {\n                    label: \"Sustainability Score\",\n                    value: ingredient.sustainabilityScore || \"8/10\"\n                },\n                {\n                    label: \"Carbon Footprint\",\n                    value: ingredient.carbonFootprint || \"Low\"\n                },\n                {\n                    label: \"Biodegradability\",\n                    value: ingredient.biodegradability || \"Readily biodegradable\"\n                }\n            ]\n        }\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 border-b border-gray-200 flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center space-x-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"ri-flask-fill text-blue-600\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 164,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 163,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-lg font-semibold text-gray-900\",\n                                            children: ingredient.name\n                                        }, void 0, false, {\n                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                            lineNumber: 167,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-500\",\n                                            children: \"Complete Ingredient Profile\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                            lineNumber: 170,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 166,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 162,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-close-line\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 179,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 175,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 161,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 max-h-[calc(90vh-100px)] overflow-y-auto\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: sections.map((section)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"border border-gray-200 rounded-lg\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>toggleSection(section.id),\n                                        className: \"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 rounded-lg transition-colors \".concat(expandedSections.has(section.id) ? \"bg-gray-50\" : \"\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-5 h-5 flex items-center justify-center\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"\".concat(section.icon, \" text-gray-600\")\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                            lineNumber: 198,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                        lineNumber: 197,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-gray-900\",\n                                                        children: section.title\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                        lineNumber: 200,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 196,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-4 h-4 flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"ri-arrow-\".concat(expandedSections.has(section.id) ? \"up\" : \"down\", \"-s-line text-gray-400\")\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                    lineNumber: 205,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 204,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 190,\n                                        columnNumber: 17\n                                    }, this),\n                                    expandedSections.has(section.id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-3 pb-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-2 gap-3\",\n                                            children: section.content.map((item, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-white p-2 rounded border border-gray-100\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs font-medium text-gray-500 mb-1\",\n                                                            children: item.label\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                            lineNumber: 221,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm text-gray-900\",\n                                                            children: item.value\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                            lineNumber: 224,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, index, true, {\n                                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                    lineNumber: 217,\n                                                    columnNumber: 25\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                            lineNumber: 215,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 214,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, section.id, true, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 186,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 183,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n            lineNumber: 160,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n        lineNumber: 159,\n        columnNumber: 5\n    }, this);\n}\n_s(IngredientDetailPopup, \"GKzw5qXsTR2Ad5JHfF7PqrZMaos=\");\n_c = IngredientDetailPopup;\nfunction DeleteConfirmationModal(param) {\n    let { trialName, onConfirm, onCancel } = param;\n    _s1();\n    const [confirmText, setConfirmText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const isConfirmValid = confirmText === trialName;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg max-w-md w-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"ri-alert-line text-red-600\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 334,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 333,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold text-gray-900\",\n                                children: \"Delete Trial\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 332,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600 mb-4\",\n                        children: [\n                            'This action cannot be undone. This will permanently delete the trial \"',\n                            trialName,\n                            '\" and all its formulation data.'\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 341,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                children: [\n                                    'Type \"',\n                                    trialName,\n                                    '\" to confirm deletion:'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 347,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: confirmText,\n                                onChange: (e)=>setConfirmText(e.target.value),\n                                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500\",\n                                placeholder: trialName\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 350,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 346,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-end gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onCancel,\n                                className: \"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\",\n                                children: \"Cancel\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 360,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onConfirm,\n                                disabled: !isConfirmValid,\n                                className: \"px-4 py-2 rounded-lg transition-colors \".concat(isConfirmValid ? \"bg-red-600 text-white hover:bg-red-700\" : \"bg-gray-300 text-gray-500 cursor-not-allowed\"),\n                                children: \"Delete Trial\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 366,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 359,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 331,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n            lineNumber: 330,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n        lineNumber: 329,\n        columnNumber: 5\n    }, this);\n}\n_s1(DeleteConfirmationModal, \"Vn5sy9DDQjf2YdkYHpZNCv+uTmM=\");\n_c1 = DeleteConfirmationModal;\nfunction TrialTab(param) {\n    let { trial, isActive, onClick, onDelete, onRename, canDelete } = param;\n    _s2();\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [editName, setEditName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(trial.name);\n    const handleSaveName = ()=>{\n        if (editName.trim()) {\n            onRename(editName.trim());\n        }\n        setIsEditing(false);\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\") {\n            handleSaveName();\n        } else if (e.key === \"Escape\") {\n            setEditName(trial.name);\n            setIsEditing(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"group relative flex items-center gap-2 px-4 py-2 rounded-lg cursor-pointer transition-all whitespace-nowrap \".concat(isActive ? \"bg-blue-100 text-blue-800 border border-blue-200\" : \"bg-gray-50 text-gray-600 hover:bg-gray-100 border border-transparent\"),\n        onClick: onClick,\n        children: [\n            isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"text\",\n                value: editName,\n                onChange: (e)=>setEditName(e.target.value),\n                onBlur: handleSaveName,\n                onKeyPress: handleKeyPress,\n                className: \"bg-transparent border-none outline-none text-sm font-medium w-20\",\n                autoFocus: true,\n                onClick: (e)=>e.stopPropagation()\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 430,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-sm font-medium\",\n                onDoubleClick: (e)=>{\n                    e.stopPropagation();\n                    setIsEditing(true);\n                },\n                children: trial.name\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 441,\n                columnNumber: 9\n            }, this),\n            canDelete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onDelete();\n                },\n                className: \"w-4 h-4 flex items-center justify-center rounded-full transition-colors \".concat(isActive ? \"text-blue-600 hover:bg-blue-200\" : \"text-gray-400 hover:bg-gray-200 hover:text-gray-600\", \" opacity-0 group-hover:opacity-100\"),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"ri-close-line text-xs\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 464,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 453,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n        lineNumber: 421,\n        columnNumber: 5\n    }, this);\n}\n_s2(TrialTab, \"Z6NfJjUcxZwFvO2aHV3lP8gturE=\");\n_c2 = TrialTab;\nfunction CupProgress(param) {\n    let { totalIngredients, totalConcentration, totalQuantity, totalCost, maxConcentration = 100 } = param;\n    const fillPercentage = Math.min(totalConcentration / maxConcentration * 100, 100);\n    const isOverfilled = totalConcentration > maxConcentration;\n    const bottleColor = isOverfilled ? \"#EF4444\" : \"#8B5CF6\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center justify-between gap-8 px-4 py-3 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative flex-shrink-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-24 h-28 relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                width: \"96\",\n                                height: \"112\",\n                                viewBox: \"0 0 96 112\",\n                                className: \"absolute inset-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                        x: \"38\",\n                                        y: \"12\",\n                                        width: \"20\",\n                                        height: \"12\",\n                                        fill: \"none\",\n                                        stroke: \"#E5E7EB\",\n                                        strokeWidth: \"1.5\",\n                                        rx: \"1\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 506,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                        x: \"36\",\n                                        y: \"8\",\n                                        width: \"24\",\n                                        height: \"6\",\n                                        fill: \"#D1D5DB\",\n                                        rx: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 517,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M18 24 L18 90 Q18 98 26 98 L70 98 Q78 98 78 90 L78 24 Z\",\n                                        fill: \"none\",\n                                        stroke: \"#E5E7EB\",\n                                        strokeWidth: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 519,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M38 24 Q18 24 18 24 L78 24 Q58 24 58 24\",\n                                        fill: \"none\",\n                                        stroke: \"#E5E7EB\",\n                                        strokeWidth: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 526,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"defs\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"clipPath\", {\n                                                id: \"bottleClip\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M20 26 L20 88 Q20 96 26 96 L70 96 Q76 96 76 88 L76 26 Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                    lineNumber: 536,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 535,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"linearGradient\", {\n                                                id: \"liquidGradient\",\n                                                x1: \"0%\",\n                                                y1: \"0%\",\n                                                x2: \"100%\",\n                                                y2: \"100%\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"stop\", {\n                                                        offset: \"0%\",\n                                                        stopColor: bottleColor,\n                                                        stopOpacity: \"0.8\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                        lineNumber: 545,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"stop\", {\n                                                        offset: \"100%\",\n                                                        stopColor: bottleColor,\n                                                        stopOpacity: \"0.6\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                        lineNumber: 546,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 538,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 534,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                        x: \"20\",\n                                        y: 26 + 70 * (100 - fillPercentage) / 100,\n                                        width: \"56\",\n                                        height: 70 * fillPercentage / 100,\n                                        fill: \"url(#liquidGradient)\",\n                                        clipPath: \"url(#bottleClip)\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"animate\", {\n                                            attributeName: \"opacity\",\n                                            values: \"0.6;0.8;0.6\",\n                                            dur: \"3s\",\n                                            repeatCount: \"indefinite\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                            lineNumber: 558,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 550,\n                                        columnNumber: 13\n                                    }, this),\n                                    fillPercentage > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ellipse\", {\n                                        cx: \"48\",\n                                        cy: 26 + 70 * (100 - fillPercentage) / 100,\n                                        rx: \"28\",\n                                        ry: \"3\",\n                                        fill: bottleColor,\n                                        opacity: \"0.8\",\n                                        clipPath: \"url(#bottleClip)\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"animate\", {\n                                                attributeName: \"ry\",\n                                                values: \"3;4;3\",\n                                                dur: \"2.5s\",\n                                                repeatCount: \"indefinite\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 577,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"animate\", {\n                                                attributeName: \"opacity\",\n                                                values: \"0.8;1;0.8\",\n                                                dur: \"2s\",\n                                                repeatCount: \"indefinite\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 583,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 568,\n                                        columnNumber: 15\n                                    }, this),\n                                    fillPercentage > 15 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                        x: \"48\",\n                                        y: 26 + 70 * (100 - fillPercentage) / 100 + 70 * fillPercentage / 200,\n                                        textAnchor: \"middle\",\n                                        dominantBaseline: \"middle\",\n                                        fill: \"white\",\n                                        fontSize: \"14\",\n                                        fontWeight: \"bold\",\n                                        style: {\n                                            textShadow: \"0 1px 2px rgba(0,0,0,0.3)\"\n                                        },\n                                        children: [\n                                            totalConcentration.toFixed(1),\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 594,\n                                        columnNumber: 15\n                                    }, this),\n                                    fillPercentage > 20 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                cx: \"38\",\n                                                cy: \"50\",\n                                                r: \"1\",\n                                                fill: \"#FBBF24\",\n                                                opacity: \"0.8\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"animate\", {\n                                                    attributeName: \"opacity\",\n                                                    values: \"0.8;0.2;0.8\",\n                                                    dur: \"1.5s\",\n                                                    repeatCount: \"indefinite\",\n                                                    begin: \"0s\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                    lineNumber: 616,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 615,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                cx: \"58\",\n                                                cy: \"60\",\n                                                r: \"1\",\n                                                fill: \"#FBBF24\",\n                                                opacity: \"0.6\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"animate\", {\n                                                    attributeName: \"opacity\",\n                                                    values: \"0.6;0.1;0.6\",\n                                                    dur: \"1.8s\",\n                                                    repeatCount: \"indefinite\",\n                                                    begin: \"0.5s\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                    lineNumber: 625,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 624,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                cx: \"42\",\n                                                cy: \"75\",\n                                                r: \"1\",\n                                                fill: \"#FBBF24\",\n                                                opacity: \"0.7\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"animate\", {\n                                                    attributeName: \"opacity\",\n                                                    values: \"0.7;0.2;0.7\",\n                                                    dur: \"2.2s\",\n                                                    repeatCount: \"indefinite\",\n                                                    begin: \"1s\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                    lineNumber: 634,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 633,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                cx: \"64\",\n                                                cy: \"45\",\n                                                r: \"1\",\n                                                fill: \"#FBBF24\",\n                                                opacity: \"0.5\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"animate\", {\n                                                    attributeName: \"opacity\",\n                                                    values: \"0.5;0.1;0.5\",\n                                                    dur: \"2.8s\",\n                                                    repeatCount: \"indefinite\",\n                                                    begin: \"1.5s\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                    lineNumber: 643,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 642,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 499,\n                                columnNumber: 11\n                            }, this),\n                            isOverfilled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute -top-4 left-1/2 transform -translate-x-1/2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center animate-pulse\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"ri-error-warning-line text-white text-sm\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 659,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 658,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 657,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 497,\n                        columnNumber: 9\n                    }, this),\n                    fillPercentage <= 15 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute -bottom-6 left-1/2 transform -translate-x-1/2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm font-bold px-3 py-1 rounded-full shadow-sm \".concat(isOverfilled ? \"bg-red-100 text-red-700\" : \"bg-purple-100 text-purple-700\"),\n                            children: [\n                                totalConcentration.toFixed(1),\n                                \"%\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 668,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 667,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 496,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 grid grid-cols-4 gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3 bg-white/80 rounded-lg px-4 py-3 shadow-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"ri-flask-line text-blue-600 text-sm\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 685,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 684,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-bold text-lg text-gray-900\",\n                                        children: totalIngredients\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 688,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm text-gray-500\",\n                                        children: \"Ingredients\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 691,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 687,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 683,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3 bg-white/80 rounded-lg px-4 py-3 shadow-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"ri-scales-3-line text-amber-600 text-sm\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 697,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 696,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-bold text-lg text-gray-900\",\n                                        children: totalQuantity.toFixed(1)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 700,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm text-gray-500\",\n                                        children: \"ml Volume\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 703,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 699,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 695,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3 bg-white/80 rounded-lg px-4 py-3 shadow-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"ri-money-dollar-circle-line text-green-600 text-sm\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 709,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 708,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-bold text-lg text-gray-900\",\n                                        children: [\n                                            \"$\",\n                                            totalCost.toFixed(0)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 712,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm text-gray-500\",\n                                        children: \"Total Cost\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 715,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 711,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 707,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3 bg-white/80 rounded-lg px-4 py-3 shadow-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"ri-percent-line text-purple-600 text-sm\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 721,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 720,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-bold text-lg \".concat(isOverfilled ? \"text-red-600\" : \"text-gray-900\"),\n                                        children: [\n                                            totalConcentration.toFixed(1),\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 724,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm text-gray-500\",\n                                        children: \"Concentration\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 731,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 723,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 719,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 682,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n        lineNumber: 494,\n        columnNumber: 5\n    }, this);\n}\n_c3 = CupProgress;\nfunction FormulaCanvas(param) {\n    let { ingredients, onAddIngredient, onRemoveIngredient, onUpdateIngredient, onUpdateIngredients } = param;\n    var _trials_find;\n    _s3();\n    const [showConfigModal, setShowConfigModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showDeleteModal, setShowDeleteModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [trialCounter, setTrialCounter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [trials, setTrials] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        {\n            id: \"trial-1\",\n            name: \"Trial 1\",\n            ingredients: [],\n            createdAt: new Date()\n        }\n    ]);\n    const [activeTrialId, setActiveTrialId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"trial-1\");\n    const [columns, setColumns] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [formulaConfig, setFormulaConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [validationResults, setValidationResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [sortConfig, setSortConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [trialsScrollIndex, setTrialsScrollIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const { setNodeRef, isOver } = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useDroppable)({\n        id: \"formula-canvas\"\n    });\n    // Memoize active trial and current ingredients to prevent unnecessary recalculations\n    const activeTrial = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"FormulaCanvas.useMemo[activeTrial]\": ()=>trials.find({\n                \"FormulaCanvas.useMemo[activeTrial]\": (t)=>t.id === activeTrialId\n            }[\"FormulaCanvas.useMemo[activeTrial]\"])\n    }[\"FormulaCanvas.useMemo[activeTrial]\"], [\n        trials,\n        activeTrialId\n    ]);\n    const currentIngredients = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"FormulaCanvas.useMemo[currentIngredients]\": ()=>(activeTrial === null || activeTrial === void 0 ? void 0 : activeTrial.ingredients) || []\n    }[\"FormulaCanvas.useMemo[currentIngredients]\"], [\n        activeTrial === null || activeTrial === void 0 ? void 0 : activeTrial.ingredients\n    ]);\n    // Load configuration only once on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FormulaCanvas.useEffect\": ()=>{\n            let isMounted = true;\n            const loadConfig = {\n                \"FormulaCanvas.useEffect.loadConfig\": async ()=>{\n                    try {\n                        const [columnConfig, formulaConfigData] = await Promise.all([\n                            Promise.resolve().then(function webpackMissingModule() { var e = new Error(\"Cannot find module '@/lib/columnConfig.json'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }),\n                            Promise.resolve().then(function webpackMissingModule() { var e = new Error(\"Cannot find module '@/lib/formulaConfig.json'\"); e.code = 'MODULE_NOT_FOUND'; throw e; })\n                        ]);\n                        if (isMounted) {\n                            setColumns(columnConfig.defaultColumns);\n                            setFormulaConfig(formulaConfigData);\n                        }\n                    } catch (error) {\n                        console.error(\"Failed to load configuration:\", error);\n                        if (isMounted) {\n                            setColumns([\n                                {\n                                    id: \"name\",\n                                    header: \"Compound\",\n                                    width: \"25%\",\n                                    visible: true,\n                                    type: \"text\"\n                                },\n                                {\n                                    id: \"cas\",\n                                    header: \"CAS No\",\n                                    width: \"12%\",\n                                    visible: true,\n                                    type: \"text\"\n                                },\n                                {\n                                    id: \"concentration\",\n                                    header: \"Concentration (%)\",\n                                    width: \"12%\",\n                                    visible: true,\n                                    type: \"number\"\n                                },\n                                {\n                                    id: \"quantity\",\n                                    header: \"Quantity (ml)\",\n                                    width: \"12%\",\n                                    visible: true,\n                                    type: \"number\"\n                                },\n                                {\n                                    id: \"cost\",\n                                    header: \"Cost ($)\",\n                                    width: \"10%\",\n                                    visible: true,\n                                    type: \"currency\"\n                                },\n                                {\n                                    id: \"actions\",\n                                    header: \"Actions\",\n                                    width: \"10%\",\n                                    visible: true,\n                                    type: \"actions\"\n                                }\n                            ]);\n                            setFormulaConfig({\n                                maxConcentration: 100,\n                                regulations: {\n                                    ifraCategories: {},\n                                    allergens: {\n                                        required: [],\n                                        declarationThreshold: 0.001\n                                    }\n                                },\n                                validations: {\n                                    concentrationLimits: {\n                                        individual: {\n                                            min: 0,\n                                            max: 50\n                                        },\n                                        total: {\n                                            min: 0,\n                                            max: 100\n                                        }\n                                    },\n                                    quantityLimits: {\n                                        individual: {\n                                            min: 0,\n                                            max: 1000\n                                        }\n                                    }\n                                }\n                            });\n                        }\n                    }\n                    return ({\n                        \"FormulaCanvas.useEffect.loadConfig\": ()=>{\n                            isMounted = false;\n                        }\n                    })[\"FormulaCanvas.useEffect.loadConfig\"];\n                }\n            }[\"FormulaCanvas.useEffect.loadConfig\"];\n            loadConfig();\n        }\n    }[\"FormulaCanvas.useEffect\"], []);\n    // Memoize ingredients equality check\n    const ingredientsEqual = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FormulaCanvas.useCallback[ingredientsEqual]\": (arr1, arr2)=>{\n            if (arr1.length !== arr2.length) return false;\n            return arr1.every({\n                \"FormulaCanvas.useCallback[ingredientsEqual]\": (ing, index)=>{\n                    const other = arr2[index];\n                    return other && ing.id === other.id && ing.concentration === other.concentration && ing.quantity === other.quantity;\n                }\n            }[\"FormulaCanvas.useCallback[ingredientsEqual]\"]);\n        }\n    }[\"FormulaCanvas.useCallback[ingredientsEqual]\"], []);\n    // Update active trial when ingredients change - but only when actually different\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FormulaCanvas.useEffect\": ()=>{\n            if (!ingredientsEqual(ingredients, currentIngredients)) {\n                setTrials({\n                    \"FormulaCanvas.useEffect\": (prev)=>prev.map({\n                            \"FormulaCanvas.useEffect\": (trial)=>trial.id === activeTrialId ? {\n                                    ...trial,\n                                    ingredients: [\n                                        ...ingredients\n                                    ]\n                                } : trial\n                        }[\"FormulaCanvas.useEffect\"])\n                }[\"FormulaCanvas.useEffect\"]);\n            }\n        }\n    }[\"FormulaCanvas.useEffect\"], [\n        ingredients,\n        currentIngredients,\n        activeTrialId,\n        ingredientsEqual\n    ]);\n    // Update trial counter only when trials array changes\n    const maxTrialNumber = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"FormulaCanvas.useMemo[maxTrialNumber]\": ()=>{\n            return trials.reduce({\n                \"FormulaCanvas.useMemo[maxTrialNumber]\": (max, trial)=>{\n                    const match = trial.id.match(/trial-(\\d+)/);\n                    return match ? Math.max(max, parseInt(match[1])) : max;\n                }\n            }[\"FormulaCanvas.useMemo[maxTrialNumber]\"], 0);\n        }\n    }[\"FormulaCanvas.useMemo[maxTrialNumber]\"], [\n        trials\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FormulaCanvas.useEffect\": ()=>{\n            setTrialCounter(maxTrialNumber);\n        }\n    }[\"FormulaCanvas.useEffect\"], [\n        maxTrialNumber\n    ]);\n    const visibleTrialsCount = 4;\n    const maxTrialsScrollIndex = Math.max(0, trials.length - visibleTrialsCount);\n    const scrollTrialsLeft = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FormulaCanvas.useCallback[scrollTrialsLeft]\": ()=>{\n            setTrialsScrollIndex(Math.max(0, trialsScrollIndex - 1));\n        }\n    }[\"FormulaCanvas.useCallback[scrollTrialsLeft]\"], [\n        trialsScrollIndex\n    ]);\n    const scrollTrialsRight = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FormulaCanvas.useCallback[scrollTrialsRight]\": ()=>{\n            setTrialsScrollIndex(Math.min(maxTrialsScrollIndex, trialsScrollIndex + 1));\n        }\n    }[\"FormulaCanvas.useCallback[scrollTrialsRight]\"], [\n        trialsScrollIndex,\n        maxTrialsScrollIndex\n    ]);\n    const addNewTrial = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FormulaCanvas.useCallback[addNewTrial]\": ()=>{\n            const newTrialNumber = trialCounter + 1;\n            const newTrial = {\n                id: \"trial-\".concat(newTrialNumber),\n                name: \"Trial \".concat(newTrialNumber),\n                ingredients: [],\n                createdAt: new Date()\n            };\n            setTrialCounter(newTrialNumber);\n            setTrials({\n                \"FormulaCanvas.useCallback[addNewTrial]\": (prev)=>[\n                        ...prev,\n                        newTrial\n                    ]\n            }[\"FormulaCanvas.useCallback[addNewTrial]\"]);\n            setActiveTrialId(newTrial.id);\n            onUpdateIngredients([]);\n        }\n    }[\"FormulaCanvas.useCallback[addNewTrial]\"], [\n        trialCounter,\n        onUpdateIngredients\n    ]);\n    const switchTrial = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FormulaCanvas.useCallback[switchTrial]\": (trialId)=>{\n            if (trialId !== activeTrialId) {\n                setActiveTrialId(trialId);\n                const newTrial = trials.find({\n                    \"FormulaCanvas.useCallback[switchTrial].newTrial\": (t)=>t.id === trialId\n                }[\"FormulaCanvas.useCallback[switchTrial].newTrial\"]);\n                if (newTrial) {\n                    onUpdateIngredients(newTrial.ingredients);\n                }\n            }\n        }\n    }[\"FormulaCanvas.useCallback[switchTrial]\"], [\n        activeTrialId,\n        trials,\n        onUpdateIngredients\n    ]);\n    const deleteTrialTab = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FormulaCanvas.useCallback[deleteTrialTab]\": (trialId)=>{\n            if (trials.length <= 1) return;\n            setShowDeleteModal(trialId);\n        }\n    }[\"FormulaCanvas.useCallback[deleteTrialTab]\"], [\n        trials.length\n    ]);\n    const confirmDeleteTrial = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FormulaCanvas.useCallback[confirmDeleteTrial]\": (trialId)=>{\n            const trialIndex = trials.findIndex({\n                \"FormulaCanvas.useCallback[confirmDeleteTrial].trialIndex\": (t)=>t.id === trialId\n            }[\"FormulaCanvas.useCallback[confirmDeleteTrial].trialIndex\"]);\n            const newTrials = trials.filter({\n                \"FormulaCanvas.useCallback[confirmDeleteTrial].newTrials\": (t)=>t.id !== trialId\n            }[\"FormulaCanvas.useCallback[confirmDeleteTrial].newTrials\"]);\n            setTrials(newTrials);\n            if (activeTrialId === trialId) {\n                const newActiveIndex = Math.max(0, trialIndex - 1);\n                const newActiveTrial = newTrials[newActiveIndex];\n                setActiveTrialId(newActiveTrial.id);\n                onUpdateIngredients(newActiveTrial.ingredients);\n            }\n            setShowDeleteModal(null);\n        }\n    }[\"FormulaCanvas.useCallback[confirmDeleteTrial]\"], [\n        trials,\n        activeTrialId,\n        onUpdateIngredients\n    ]);\n    const renameTrialTab = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FormulaCanvas.useCallback[renameTrialTab]\": (trialId, newName)=>{\n            setTrials({\n                \"FormulaCanvas.useCallback[renameTrialTab]\": (prev)=>prev.map({\n                        \"FormulaCanvas.useCallback[renameTrialTab]\": (trial)=>trial.id === trialId ? {\n                                ...trial,\n                                name: newName\n                            } : trial\n                    }[\"FormulaCanvas.useCallback[renameTrialTab]\"])\n            }[\"FormulaCanvas.useCallback[renameTrialTab]\"]);\n        }\n    }[\"FormulaCanvas.useCallback[renameTrialTab]\"], []);\n    const handleSort = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FormulaCanvas.useCallback[handleSort]\": (columnId)=>{\n            let direction = \"asc\";\n            if (sortConfig && sortConfig.key === columnId && sortConfig.direction === \"asc\") {\n                direction = \"desc\";\n            }\n            setSortConfig({\n                key: columnId,\n                direction\n            });\n        }\n    }[\"FormulaCanvas.useCallback[handleSort]\"], [\n        sortConfig\n    ]);\n    const handleDragEnd = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FormulaCanvas.useCallback[handleDragEnd]\": (event)=>{\n            const { active, over } = event;\n            if (active.id !== over.id) {\n                const oldIndex = currentIngredients.findIndex({\n                    \"FormulaCanvas.useCallback[handleDragEnd].oldIndex\": (item)=>item.id === active.id\n                }[\"FormulaCanvas.useCallback[handleDragEnd].oldIndex\"]);\n                const newIndex = currentIngredients.findIndex({\n                    \"FormulaCanvas.useCallback[handleDragEnd].newIndex\": (item)=>item.id === over.id\n                }[\"FormulaCanvas.useCallback[handleDragEnd].newIndex\"]);\n                const newIngredients = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.arrayMove)(currentIngredients, oldIndex, newIndex);\n                onUpdateIngredients(newIngredients);\n            }\n        }\n    }[\"FormulaCanvas.useCallback[handleDragEnd]\"], [\n        currentIngredients,\n        onUpdateIngredients\n    ]);\n    // Memoize sorted ingredients\n    const getSortedIngredients = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"FormulaCanvas.useMemo[getSortedIngredients]\": ()=>{\n            if (!sortConfig) return currentIngredients;\n            const sorted = [\n                ...currentIngredients\n            ].sort({\n                \"FormulaCanvas.useMemo[getSortedIngredients].sorted\": (a, b)=>{\n                    const aValue = a[sortConfig.key];\n                    const bValue = b[sortConfig.key];\n                    if (aValue === null || aValue === undefined) return 1;\n                    if (bValue === null || bValue === undefined) return -1;\n                    if (typeof aValue === \"string\" && typeof bValue === \"string\") {\n                        return sortConfig.direction === \"asc\" ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);\n                    }\n                    if (typeof aValue === \"number\" && typeof bValue === \"number\") {\n                        return sortConfig.direction === \"asc\" ? aValue - bValue : bValue - aValue;\n                    }\n                    return 0;\n                }\n            }[\"FormulaCanvas.useMemo[getSortedIngredients].sorted\"]);\n            return sorted;\n        }\n    }[\"FormulaCanvas.useMemo[getSortedIngredients]\"], [\n        currentIngredients,\n        sortConfig\n    ]);\n    // Memoize calculations\n    const calculations = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"FormulaCanvas.useMemo[calculations]\": ()=>{\n            const totalItems = currentIngredients.length;\n            const totalCost = currentIngredients.reduce({\n                \"FormulaCanvas.useMemo[calculations].totalCost\": (sum, ingredient)=>sum + (ingredient.cost || 0)\n            }[\"FormulaCanvas.useMemo[calculations].totalCost\"], 0);\n            const totalConcentration = currentIngredients.reduce({\n                \"FormulaCanvas.useMemo[calculations].totalConcentration\": (sum, ingredient)=>sum + (ingredient.concentration || 0)\n            }[\"FormulaCanvas.useMemo[calculations].totalConcentration\"], 0);\n            const totalQuantity = currentIngredients.reduce({\n                \"FormulaCanvas.useMemo[calculations].totalQuantity\": (sum, ingredient)=>sum + (ingredient.quantity || 0)\n            }[\"FormulaCanvas.useMemo[calculations].totalQuantity\"], 0);\n            return {\n                totalItems,\n                totalCost,\n                totalConcentration,\n                totalQuantity\n            };\n        }\n    }[\"FormulaCanvas.useMemo[calculations]\"], [\n        currentIngredients\n    ]);\n    const visibleColumns = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"FormulaCanvas.useMemo[visibleColumns]\": ()=>columns.filter({\n                \"FormulaCanvas.useMemo[visibleColumns]\": (col)=>col.visible\n            }[\"FormulaCanvas.useMemo[visibleColumns]\"])\n    }[\"FormulaCanvas.useMemo[visibleColumns]\"], [\n        columns\n    ]);\n    const maxConcentration = (formulaConfig === null || formulaConfig === void 0 ? void 0 : formulaConfig.maxConcentration) || 100;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full bg-white rounded-lg shadow-sm border border-gray-200\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-b border-gray-200 bg-white rounded-t-lg\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between px-4 py-2\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2 flex-1 min-w-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: scrollTrialsLeft,\n                                disabled: trialsScrollIndex === 0,\n                                className: \"w-6 h-6 flex items-center justify-center rounded flex-shrink-0 \".concat(trialsScrollIndex === 0 ? \"text-gray-300 cursor-not-allowed\" : \"text-gray-600 hover:bg-gray-100\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"ri-arrow-left-s-line text-sm\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1107,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1098,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-1 transition-transform duration-200\",\n                                    style: {\n                                        transform: \"translateX(-\".concat(trialsScrollIndex * (100 / visibleTrialsCount), \"%)\")\n                                    },\n                                    children: trials.map((trial)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-shrink-0\",\n                                            style: {\n                                                minWidth: \"calc(\".concat(100 / visibleTrialsCount, \"% - 0.25rem)\")\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TrialTab, {\n                                                trial: trial,\n                                                isActive: trial.id === activeTrialId,\n                                                onClick: ()=>switchTrial(trial.id),\n                                                onDelete: ()=>deleteTrialTab(trial.id),\n                                                onRename: (newName)=>renameTrialTab(trial.id, newName),\n                                                canDelete: trials.length > 1\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 1128,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, trial.id, false, {\n                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                            lineNumber: 1121,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1112,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1111,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: scrollTrialsRight,\n                                disabled: trialsScrollIndex >= maxTrialsScrollIndex,\n                                className: \"w-6 h-6 flex items-center justify-center rounded flex-shrink-0 \".concat(trialsScrollIndex >= maxTrialsScrollIndex ? \"text-gray-300 cursor-not-allowed\" : \"text-gray-600 hover:bg-gray-100\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"ri-arrow-right-s-line text-sm\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1151,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1142,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: addNewTrial,\n                                className: \"flex items-center gap-1 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors whitespace-nowrap flex-shrink-0 ml-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"ri-add-line\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 1159,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Add Trial\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1155,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 1096,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1095,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1094,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 lg:p-4 bg-white border-b border-gray-200\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col lg:flex-row lg:items-center justify-between mb-3 gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg lg:text-xl font-semibold text-gray-900\",\n                                children: \"Formula Builder\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1169,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowConfigModal(true),\n                                        className: \"inline-flex items-center px-3 py-2 text-gray-600 rounded-lg text-sm hover:bg-gray-100 transition-colors\",\n                                        title: \"Configure Table\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"ri-settings-3-line\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                            lineNumber: 1178,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 1173,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"inline-flex items-center px-3 py-2 text-gray-600 rounded-lg text-sm hover:bg-gray-100 transition-colors\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"ri-upload-line mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 1181,\n                                                columnNumber: 15\n                                            }, this),\n                                            \"Export\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 1180,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1172,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 1168,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ValidationPanel, {\n                        validationResults: validationResults,\n                        totalConcentration: calculations.totalConcentration,\n                        maxConcentration: maxConcentration\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 1187,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CupProgress, {\n                        totalIngredients: calculations.totalItems,\n                        totalConcentration: calculations.totalConcentration,\n                        totalQuantity: calculations.totalQuantity,\n                        totalCost: calculations.totalCost,\n                        maxConcentration: maxConcentration\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 1193,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1167,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: setNodeRef,\n                className: \"flex-1 overflow-y-auto transition-colors \".concat(isOver ? \"bg-purple-50 border-purple-200\" : \"\"),\n                children: currentIngredients.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-center h-64 text-gray-400 text-lg border-2 border-dashed border-gray-200 rounded-lg m-6\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-flask-line text-4xl mb-3 block\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1212,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-medium mb-1\",\n                                children: \"Drop ingredients here\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1213,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: \"Start building your perfume formula\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1214,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 1211,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1210,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-6\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-x-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                            className: \"w-full text-sm lg:text-base\",\n                            style: {\n                                minWidth: \"800px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                        className: \"border-b border-gray-200\",\n                                        children: visibleColumns.map((column)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"text-left py-3 px-2 lg:px-4 font-medium text-gray-900 bg-gray-50 sticky top-0 cursor-pointer hover:bg-gray-100\",\n                                                style: {\n                                                    width: column.width\n                                                },\n                                                onClick: ()=>column.type !== \"actions\" && handleSort(column.id),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        column.header,\n                                                        column.type !== \"actions\" && (sortConfig === null || sortConfig === void 0 ? void 0 : sortConfig.key) === column.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"ri-arrow-\".concat(sortConfig.direction === \"asc\" ? \"up\" : \"down\", \"-s-line text-xs\")\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                            lineNumber: 1239,\n                                                            columnNumber: 31\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                    lineNumber: 1235,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, column.id, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 1227,\n                                                columnNumber: 23\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 1225,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1224,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.SortableContext, {\n                                        items: getSortedIngredients.map((i)=>i.id),\n                                        strategy: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.verticalListSortingStrategy,\n                                        children: getSortedIngredients.map((ingredient)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SortableIngredientRow, {\n                                                ingredient: ingredient,\n                                                onRemoveIngredient: onRemoveIngredient,\n                                                onUpdateIngredient: onUpdateIngredient,\n                                                columns: columns,\n                                                validationResult: validationResults[ingredient.id]\n                                            }, ingredient.id, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 1256,\n                                                columnNumber: 23\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 1251,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1250,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1220,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 1219,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1218,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1203,\n                columnNumber: 7\n            }, this),\n            showConfigModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfigurationModal, {\n                columns: columns,\n                onUpdateColumns: setColumns,\n                onClose: ()=>setShowConfigModal(false)\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1274,\n                columnNumber: 9\n            }, this),\n            showDeleteModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DeleteConfirmationModal, {\n                trialName: ((_trials_find = trials.find((t)=>t.id === showDeleteModal)) === null || _trials_find === void 0 ? void 0 : _trials_find.name) || \"\",\n                onConfirm: ()=>confirmDeleteTrial(showDeleteModal),\n                onCancel: ()=>setShowDeleteModal(null)\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1282,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n        lineNumber: 1092,\n        columnNumber: 5\n    }, this);\n}\n_s3(FormulaCanvas, \"/4NfLVYIiQUVLt+elMMKVd7zo4U=\", false, function() {\n    return [\n        _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useDroppable\n    ];\n});\n_c4 = FormulaCanvas;\nfunction DraggableIngredientRow(param) {\n    let { ingredient, onRemoveIngredient, onUpdateIngredient, columns, validationResult } = param;\n    _s4();\n    const [showDetailPopup, setShowDetailPopup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { attributes, listeners, setNodeRef, transform, isDragging } = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useDraggable)({\n        id: ingredient.id,\n        data: {\n            ingredient\n        }\n    });\n    const style = transform ? {\n        transform: \"translate3d(\".concat(transform.x, \"px, \").concat(transform.y, \"px, 0)\"),\n        position: \"relative\",\n        zIndex: 1000\n    } : undefined;\n    const visibleColumns = columns.filter((col)=>col.visible);\n    const hasErrors = validationResult && !validationResult.isValid;\n    const renderCell = (column)=>{\n        switch(column.id){\n            case \"name\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ...listeners,\n                            ...attributes,\n                            className: \"w-4 h-4 flex items-center justify-center cursor-grab hover:text-gray-700 text-gray-400 flex-shrink-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-draggable\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1327,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1322,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center space-x-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"font-medium text-gray-900 text-sm truncate\",\n                                    children: ingredient.name\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1330,\n                                    columnNumber: 15\n                                }, this),\n                                hasErrors && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"ri-error-warning-line text-red-500 text-sm\",\n                                    title: validationResult === null || validationResult === void 0 ? void 0 : validationResult.errors.join(\", \")\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1334,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1329,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1321,\n                    columnNumber: 11\n                }, this);\n            case \"cas\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.casNo || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1344,\n                    columnNumber: 11\n                }, this);\n            case \"concentration\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InlineEditCell, {\n                    value: ingredient.concentration || 0,\n                    type: \"concentration\",\n                    onUpdate: (value)=>onUpdateIngredient(ingredient.id, {\n                            concentration: value\n                        }),\n                    hasError: hasErrors\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1350,\n                    columnNumber: 11\n                }, this);\n            case \"quantity\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InlineEditCell, {\n                    value: ingredient.quantity || 0,\n                    type: \"quantity\",\n                    onUpdate: (value)=>onUpdateIngredient(ingredient.id, {\n                            quantity: value\n                        })\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1361,\n                    columnNumber: 11\n                }, this);\n            case \"cost\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: [\n                        \"$\",\n                        ingredient.cost || 0\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1371,\n                    columnNumber: 11\n                }, this);\n            case \"category\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.category || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1375,\n                    columnNumber: 11\n                }, this);\n            case \"subcategory\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.subcategory || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1381,\n                    columnNumber: 11\n                }, this);\n            case \"intensity\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.intensity || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1387,\n                    columnNumber: 11\n                }, this);\n            case \"longevity\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.longevity || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1393,\n                    columnNumber: 11\n                }, this);\n            case \"ifra\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.ifraCategory || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1399,\n                    columnNumber: 11\n                }, this);\n            case \"allergen\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs truncate \".concat(ingredient.allergenicity ? \"text-red-600\" : \"text-green-600\"),\n                    children: ingredient.allergenicity ? \"Yes\" : \"No\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1405,\n                    columnNumber: 11\n                }, this);\n            case \"actions\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center space-x-1\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setShowDetailPopup(true),\n                            className: \"w-6 h-6 flex items-center justify-center text-blue-500 hover:bg-blue-50 rounded\",\n                            title: \"View Details\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-information-line\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1421,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1416,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onRemoveIngredient(ingredient.id),\n                            className: \"w-6 h-6 flex items-center justify-center text-red-500 hover:bg-red-50 rounded\",\n                            title: \"Remove\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-delete-bin-line\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1428,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1423,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1415,\n                    columnNumber: 11\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"-\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1433,\n                    columnNumber: 16\n                }, this);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                ref: setNodeRef,\n                style: style,\n                className: \"border-b border-gray-100 hover:bg-gray-50 \".concat(isDragging ? \"opacity-50\" : \"\", \" \").concat(hasErrors ? \"bg-red-50\" : \"\"),\n                children: visibleColumns.map((column)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                        className: \"px-2 lg:px-3 py-3 lg:py-4\",\n                        style: {\n                            width: column.width\n                        },\n                        children: renderCell(column)\n                    }, column.id, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 1447,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1439,\n                columnNumber: 7\n            }, this),\n            showDetailPopup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IngredientDetailPopup, {\n                ingredient: ingredient,\n                onClose: ()=>setShowDetailPopup(false)\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1458,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s4(DraggableIngredientRow, \"1iqYUqMcAqbKj8GkKwFHJcsdAOA=\", false, function() {\n    return [\n        _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useDraggable\n    ];\n});\n_c5 = DraggableIngredientRow;\nfunction SortableIngredientRow(param) {\n    let { ingredient, onRemoveIngredient, onUpdateIngredient, columns, validationResult } = param;\n    _s5();\n    const [showDetailPopup, setShowDetailPopup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { attributes, listeners, setNodeRef, transform, transition, isDragging } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.useSortable)({\n        id: ingredient.id\n    });\n    const style = {\n        transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_4__.CSS.Transform.toString(transform),\n        transition,\n        zIndex: isDragging ? 1000 : \"auto\"\n    };\n    const visibleColumns = columns.filter((col)=>col.visible);\n    const hasErrors = validationResult && !validationResult.isValid;\n    const renderCell = (column)=>{\n        switch(column.id){\n            case \"name\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ...listeners,\n                            ...attributes,\n                            className: \"w-4 h-4 flex items-center justify-center cursor-grab hover:text-gray-700 text-gray-400 flex-shrink-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-draggable\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1505,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1500,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center space-x-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"font-medium text-gray-900 text-sm truncate\",\n                                    children: ingredient.name\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1508,\n                                    columnNumber: 15\n                                }, this),\n                                hasErrors && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"ri-error-warning-line text-red-500 text-sm\",\n                                    title: validationResult === null || validationResult === void 0 ? void 0 : validationResult.errors.join(\", \")\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1512,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1507,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1499,\n                    columnNumber: 11\n                }, this);\n            case \"cas\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.casNo || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1522,\n                    columnNumber: 11\n                }, this);\n            case \"concentration\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InlineEditCell, {\n                    value: ingredient.concentration || 0,\n                    type: \"concentration\",\n                    onUpdate: (value)=>onUpdateIngredient(ingredient.id, {\n                            concentration: value\n                        }),\n                    hasError: hasErrors\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1528,\n                    columnNumber: 11\n                }, this);\n            case \"quantity\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InlineEditCell, {\n                    value: ingredient.quantity || 0,\n                    type: \"quantity\",\n                    onUpdate: (value)=>onUpdateIngredient(ingredient.id, {\n                            quantity: value\n                        })\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1539,\n                    columnNumber: 11\n                }, this);\n            case \"cost\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: [\n                        \"$\",\n                        ingredient.cost || 0\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1549,\n                    columnNumber: 11\n                }, this);\n            case \"category\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.category || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1553,\n                    columnNumber: 11\n                }, this);\n            case \"subcategory\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.subcategory || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1559,\n                    columnNumber: 11\n                }, this);\n            case \"intensity\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.intensity || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1565,\n                    columnNumber: 11\n                }, this);\n            case \"longevity\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.longevity || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1571,\n                    columnNumber: 11\n                }, this);\n            case \"ifra\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-gray-600 truncate\",\n                    children: ingredient.ifraCategory || \"N/A\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1577,\n                    columnNumber: 11\n                }, this);\n            case \"allergen\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs truncate \".concat(ingredient.allergenicity ? \"text-red-600\" : \"text-green-600\"),\n                    children: ingredient.allergenicity ? \"Yes\" : \"No\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1583,\n                    columnNumber: 11\n                }, this);\n            case \"actions\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center space-x-1\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setShowDetailPopup(true),\n                            className: \"w-6 h-6 flex items-center justify-center text-blue-500 hover:bg-blue-50 rounded\",\n                            title: \"View Details\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-information-line\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1599,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1594,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onRemoveIngredient(ingredient.id),\n                            className: \"w-6 h-6 flex items-center justify-center text-red-500 hover:bg-red-50 rounded\",\n                            title: \"Remove\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-delete-bin-line\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1606,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1601,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1593,\n                    columnNumber: 11\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"-\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1611,\n                    columnNumber: 16\n                }, this);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                ref: setNodeRef,\n                style: style,\n                className: \"border-b border-gray-100 hover:bg-gray-50 \".concat(isDragging ? \"opacity-50\" : \"\", \" \").concat(hasErrors ? \"bg-red-50\" : \"\"),\n                children: visibleColumns.map((column)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                        className: \"px-2 lg:px-3 py-3 lg:py-4\",\n                        style: {\n                            width: column.width\n                        },\n                        children: renderCell(column)\n                    }, column.id, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 1625,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1617,\n                columnNumber: 7\n            }, this),\n            showDetailPopup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IngredientDetailPopup, {\n                ingredient: ingredient,\n                onClose: ()=>setShowDetailPopup(false)\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1636,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s5(SortableIngredientRow, \"K5wtmlMvhDMy+TwuYlUrZxfHHTg=\", false, function() {\n    return [\n        _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.useSortable\n    ];\n});\n_c6 = SortableIngredientRow;\nfunction InlineEditCell(param) {\n    let { value, type, onUpdate, hasError } = param;\n    _s6();\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [editValue, setEditValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(value);\n    const handleSave = ()=>{\n        onUpdate(editValue);\n        setIsEditing(false);\n    };\n    const handleCancel = ()=>{\n        setEditValue(value);\n        setIsEditing(false);\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\") {\n            handleSave();\n        } else if (e.key === \"Escape\") {\n            handleCancel();\n        }\n    };\n    if (isEditing) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center space-x-1\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                    type: \"number\",\n                    value: editValue,\n                    onChange: (e)=>setEditValue(Number(e.target.value)),\n                    onKeyPress: handleKeyPress,\n                    className: \"w-16 px-2 py-1 border rounded text-sm \".concat(hasError ? \"border-red-300\" : \"border-gray-300\"),\n                    min: \"0\",\n                    max: type === \"concentration\" ? \"100\" : undefined,\n                    autoFocus: true\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1675,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleSave,\n                    className: \"w-5 h-5 flex items-center justify-center text-green-600 hover:bg-green-50 rounded\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"ri-check-line text-xs\"\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 1691,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1687,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleCancel,\n                    className: \"w-5 h-5 flex items-center justify-center text-gray-400 hover:bg-gray-50 rounded\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"ri-close-line text-xs\"\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                        lineNumber: 1697,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1693,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n            lineNumber: 1674,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center space-x-1 cursor-pointer hover:bg-gray-50 px-2 py-1 rounded \".concat(hasError ? \"text-red-600\" : \"\"),\n        onClick: ()=>setIsEditing(true),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-sm\",\n                children: [\n                    value,\n                    type === \"concentration\" ? \"%\" : \" ml\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1710,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                className: \"ri-edit-line text-xs text-gray-400\"\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                lineNumber: 1714,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n        lineNumber: 1704,\n        columnNumber: 5\n    }, this);\n}\n_s6(InlineEditCell, \"Wqa/CnOyy/Yn228WxJJHnHDJBjQ=\");\n_c7 = InlineEditCell;\nfunction ConfigurationModal(param) {\n    let { columns, onUpdateColumns, onClose } = param;\n    _s7();\n    const [tempColumns, setTempColumns] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(columns);\n    const toggleColumn = (columnId)=>{\n        setTempColumns((prev)=>prev.map((col)=>col.id === columnId ? {\n                    ...col,\n                    visible: !col.visible\n                } : col));\n    };\n    const updateColumnHeader = (columnId, header)=>{\n        setTempColumns((prev)=>prev.map((col)=>col.id === columnId ? {\n                    ...col,\n                    header\n                } : col));\n    };\n    const reorderColumn = (fromIndex, toIndex)=>{\n        const newColumns = [\n            ...tempColumns\n        ];\n        const [moved] = newColumns.splice(fromIndex, 1);\n        newColumns.splice(toIndex, 0, moved);\n        setTempColumns(newColumns);\n    };\n    const handleSave = ()=>{\n        onUpdateColumns(tempColumns);\n        onClose();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg max-w-3xl w-full max-h-[85vh] overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 border-b border-gray-200 flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-semibold text-gray-900\",\n                            children: \"Column Configuration\"\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1762,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-close-line\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                lineNumber: 1769,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1765,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1761,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 max-h-[60vh] overflow-y-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-gray-600 mb-4\",\n                            children: \"Configure which columns appear in the ingredient table. Reorder columns using the arrow buttons and toggle visibility with checkboxes.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1774,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3\",\n                            children: tempColumns.map((column, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border border-gray-200 rounded-lg p-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>index > 0 && reorderColumn(index, index - 1),\n                                                        disabled: index === 0,\n                                                        className: \"w-6 h-6 flex items-center justify-center rounded \".concat(index === 0 ? \"text-gray-300 cursor-not-allowed\" : \"text-gray-600 hover:bg-gray-100\"),\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"ri-arrow-up-s-line\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                            lineNumber: 1798,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                        lineNumber: 1787,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>index < tempColumns.length - 1 && reorderColumn(index, index + 1),\n                                                        disabled: index === tempColumns.length - 1,\n                                                        className: \"w-6 h-6 flex items-center justify-center rounded \".concat(index === tempColumns.length - 1 ? \"text-gray-300 cursor-not-allowed\" : \"text-gray-600 hover:bg-gray-100\"),\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"ri-arrow-down-s-line\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                            lineNumber: 1812,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                        lineNumber: 1800,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 1786,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"checkbox\",\n                                                        checked: column.visible,\n                                                        onChange: ()=>toggleColumn(column.id),\n                                                        className: \"mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                        lineNumber: 1817,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700\",\n                                                        children: \"Visible\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                        lineNumber: 1823,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 1816,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: column.header,\n                                                    onChange: (e)=>updateColumnHeader(column.id, e.target.value),\n                                                    className: \"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-blue-500\",\n                                                    placeholder: \"Column Header\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                    lineNumber: 1829,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 1828,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-gray-500 w-16 text-center\",\n                                                children: column.type\n                                            }, void 0, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                                lineNumber: 1840,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                        lineNumber: 1785,\n                                        columnNumber: 17\n                                    }, this)\n                                }, column.id, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1781,\n                                    columnNumber: 15\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1779,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1773,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 border-t border-gray-200 flex justify-end gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\",\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1850,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleSave,\n                            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n                            children: \"Save Changes\"\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1856,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1849,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n            lineNumber: 1760,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n        lineNumber: 1759,\n        columnNumber: 5\n    }, this);\n}\n_s7(ConfigurationModal, \"nnBE1O2UXp5UG84NJR8Z5z4adj8=\");\n_c8 = ConfigurationModal;\nfunction ValidationPanel(param) {\n    let { validationResults, totalConcentration, maxConcentration } = param;\n    const allErrors = Object.values(validationResults).flatMap((result)=>result.errors);\n    const allWarnings = Object.values(validationResults).flatMap((result)=>result.warnings);\n    const isOverLimit = totalConcentration > maxConcentration;\n    if (allErrors.length === 0 && allWarnings.length === 0 && !isOverLimit) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-start gap-2\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"ri-alert-line text-yellow-600 mt-0.5\"\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1894,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                            className: \"text-sm font-medium text-yellow-800 mb-2\",\n                            children: \"Validation Issues\"\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1896,\n                            columnNumber: 11\n                        }, this),\n                        isOverLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-red-600 mb-2\",\n                            children: [\n                                \"Total concentration (\",\n                                totalConcentration.toFixed(1),\n                                \"%) exceeds maximum allowed (\",\n                                maxConcentration,\n                                \"%)\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1900,\n                            columnNumber: 13\n                        }, this),\n                        allErrors.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm font-medium text-red-600 mb-1\",\n                                    children: \"Errors:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1907,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                    className: \"text-sm text-red-600 list-disc list-inside\",\n                                    children: allErrors.map((error, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: error\n                                        }, index, false, {\n                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                            lineNumber: 1912,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1910,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1906,\n                            columnNumber: 13\n                        }, this),\n                        allWarnings.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm font-medium text-yellow-600 mb-1\",\n                                    children: \"Warnings:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1919,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                    className: \"text-sm text-yellow-600 list-disc list-inside\",\n                                    children: allWarnings.map((warning, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: warning\n                                        }, index, false, {\n                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                            lineNumber: 1924,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                                    lineNumber: 1922,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                            lineNumber: 1918,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n                    lineNumber: 1895,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n            lineNumber: 1893,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/FormulaCanvas.tsx\",\n        lineNumber: 1892,\n        columnNumber: 5\n    }, this);\n}\n_c9 = ValidationPanel;\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"IngredientDetailPopup\");\n$RefreshReg$(_c1, \"DeleteConfirmationModal\");\n$RefreshReg$(_c2, \"TrialTab\");\n$RefreshReg$(_c3, \"CupProgress\");\n$RefreshReg$(_c4, \"FormulaCanvas\");\n$RefreshReg$(_c5, \"DraggableIngredientRow\");\n$RefreshReg$(_c6, \"SortableIngredientRow\");\n$RefreshReg$(_c7, \"InlineEditCell\");\n$RefreshReg$(_c8, \"ConfigurationModal\");\n$RefreshReg$(_c9, \"ValidationPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvRm9ybXVsYUNhbnZhcy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRWtFO0FBQ1A7QUFNaEM7QUFDcUI7QUFDUDtBQVF6QyxTQUFTVyxzQkFBc0IsS0FHRjtRQUhFLEVBQzdCQyxVQUFVLEVBQ1ZDLE9BQU8sRUFDb0IsR0FIRTs7SUFJN0IsTUFBTSxDQUFDQyxrQkFBa0JDLG9CQUFvQixHQUFHZiwrQ0FBUUEsQ0FDdEQsSUFBSWdCLElBQUk7UUFBQztLQUFRO0lBR25CLE1BQU1DLGdCQUFnQixDQUFDQztRQUNyQixNQUFNQyxjQUFjLElBQUlILElBQUlGO1FBQzVCLElBQUlLLFlBQVlDLEdBQUcsQ0FBQ0YsWUFBWTtZQUM5QkMsWUFBWUUsTUFBTSxDQUFDSDtRQUNyQixPQUFPO1lBQ0xDLFlBQVlHLEdBQUcsQ0FBQ0o7UUFDbEI7UUFDQUgsb0JBQW9CSTtJQUN0QjtJQUVBLE1BQU1JLFdBQVc7UUFDZjtZQUNFQyxJQUFJO1lBQ0pDLE9BQU87WUFDUEMsTUFBTTtZQUNOQyxTQUFTO2dCQUNQO29CQUFFQyxPQUFPO29CQUFRQyxPQUFPakIsV0FBV2tCLElBQUk7Z0JBQUM7Z0JBQ3hDO29CQUFFRixPQUFPO29CQUFjQyxPQUFPakIsV0FBV21CLEtBQUssSUFBSTtnQkFBTTtnQkFDeEQ7b0JBQUVILE9BQU87b0JBQVlDLE9BQU9qQixXQUFXb0IsUUFBUSxJQUFJO2dCQUFNO2dCQUN6RDtvQkFBRUosT0FBTztvQkFBZUMsT0FBT2pCLFdBQVdxQixXQUFXLElBQUk7Z0JBQU07Z0JBQy9EO29CQUFFTCxPQUFPO29CQUFlQyxPQUFPakIsV0FBV3NCLFdBQVcsSUFBSTtnQkFBTTthQUNoRTtRQUNIO1FBQ0E7WUFDRVYsSUFBSTtZQUNKQyxPQUFPO1lBQ1BDLE1BQU07WUFDTkMsU0FBUztnQkFDUDtvQkFDRUMsT0FBTztvQkFDUEMsT0FBT2pCLFdBQVd1QixlQUFlLElBQUk7Z0JBQ3ZDO2dCQUNBO29CQUFF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Ozs7Ozs7OENBR3ZELDhEQUFDcVI7b0NBQUdyUixXQUFVOzhDQUNYNlEsVUFBVXZRLEdBQUcsQ0FBQyxDQUFDd0ksT0FBT3BJLHNCQUNyQiw4REFBQzRRO3NEQUFnQnhJOzJDQUFScEk7Ozs7Ozs7Ozs7Ozs7Ozs7d0JBS2hCdVEsWUFBWWpILE1BQU0sR0FBRyxtQkFDcEIsOERBQUNqSzs7OENBQ0MsOERBQUNBO29DQUFJQyxXQUFVOzhDQUEyQzs7Ozs7OzhDQUcxRCw4REFBQ3FSO29DQUFHclIsV0FBVTs4Q0FDWGlSLFlBQVkzUSxHQUFHLENBQUMsQ0FBQ2lSLFNBQVM3USxzQkFDekIsOERBQUM0UTtzREFBZ0JDOzJDQUFSN1E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVMzQjtNQTNEUytNIiwic291cmNlcyI6WyIvVXNlcnMvbmFyZXNoLnBlbnRhcGF0aS9Eb2N1bWVudHMvUHJvamVjdHMvZnJhZ3JhbmNlRm9ybXVsYS9jb21wb25lbnRzL0Zvcm11bGFDYW52YXMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRHJvcHBhYmxlLCB1c2VEcmFnZ2FibGUgfSBmcm9tIFwiQGRuZC1raXQvY29yZVwiO1xuaW1wb3J0IHtcbiAgYXJyYXlNb3ZlLFxuICBTb3J0YWJsZUNvbnRleHQsXG4gIHNvcnRhYmxlS2V5Ym9hcmRDb29yZGluYXRlcyxcbiAgdmVydGljYWxMaXN0U29ydGluZ1N0cmF0ZWd5LFxufSBmcm9tIFwiQGRuZC1raXQvc29ydGFibGVcIjtcbmltcG9ydCB7IHVzZVNvcnRhYmxlIH0gZnJvbSBcIkBkbmQta2l0L3NvcnRhYmxlXCI7XG5pbXBvcnQgeyBDU1MgfSBmcm9tIFwiQGRuZC1raXQvdXRpbGl0aWVzXCI7XG5pbXBvcnQgeyBJbmdyZWRpZW50LCBGb3JtdWxhU2VjdGlvbiB9IGZyb20gXCIuL2xpYi9pbmdyZWRpZW50c0RhdGFcIjtcblxuaW50ZXJmYWNlIEluZ3JlZGllbnREZXRhaWxQb3B1cFByb3BzIHtcbiAgaW5ncmVkaWVudDogSW5ncmVkaWVudDtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbn1cblxuZnVuY3Rpb24gSW5ncmVkaWVudERldGFpbFBvcHVwKHtcbiAgaW5ncmVkaWVudCxcbiAgb25DbG9zZSxcbn06IEluZ3JlZGllbnREZXRhaWxQb3B1cFByb3BzKSB7XG4gIGNvbnN0IFtleHBhbmRlZFNlY3Rpb25zLCBzZXRFeHBhbmRlZFNlY3Rpb25zXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihcbiAgICBuZXcgU2V0KFtcImJhc2ljXCJdKVxuICApO1xuXG4gIGNvbnN0IHRvZ2dsZVNlY3Rpb24gPSAoc2VjdGlvbklkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBuZXdFeHBhbmRlZCA9IG5ldyBTZXQoZXhwYW5kZWRTZWN0aW9ucyk7XG4gICAgaWYgKG5ld0V4cGFuZGVkLmhhcyhzZWN0aW9uSWQpKSB7XG4gICAgICBuZXdFeHBhbmRlZC5kZWxldGUoc2VjdGlvbklkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3RXhwYW5kZWQuYWRkKHNlY3Rpb25JZCk7XG4gICAgfVxuICAgIHNldEV4cGFuZGVkU2VjdGlvbnMobmV3RXhwYW5kZWQpO1xuICB9O1xuXG4gIGNvbnN0IHNlY3Rpb25zID0gW1xuICAgIHtcbiAgICAgIGlkOiBcImJhc2ljXCIsXG4gICAgICB0aXRsZTogXCJCYXNpYyBJbmZvcm1hdGlvblwiLFxuICAgICAgaWNvbjogXCJyaS1pbmZvcm1hdGlvbi1saW5lXCIsXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIHsgbGFiZWw6IFwiTmFtZVwiLCB2YWx1ZTogaW5ncmVkaWVudC5uYW1lIH0sXG4gICAgICAgIHsgbGFiZWw6IFwiQ0FTIE51bWJlclwiLCB2YWx1ZTogaW5ncmVkaWVudC5jYXNObyB8fCBcIk4vQVwiIH0sXG4gICAgICAgIHsgbGFiZWw6IFwiQ2F0ZWdvcnlcIiwgdmFsdWU6IGluZ3JlZGllbnQuY2F0ZWdvcnkgfHwgXCJOL0FcIiB9LFxuICAgICAgICB7IGxhYmVsOiBcIlN1YmNhdGVnb3J5XCIsIHZhbHVlOiBpbmdyZWRpZW50LnN1YmNhdGVnb3J5IHx8IFwiTi9BXCIgfSxcbiAgICAgICAgeyBsYWJlbDogXCJEZXNjcmlwdGlvblwiLCB2YWx1ZTogaW5ncmVkaWVudC5kZXNjcmlwdGlvbiB8fCBcIk4vQVwiIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwib2xmYWN0aXZlXCIsXG4gICAgICB0aXRsZTogXCJPbGZhY3RpdmUgUHJvZmlsZVwiLFxuICAgICAgaWNvbjogXCJyaS1ub3NlLWxpbmVcIixcbiAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiBcIk9sZmFjdGl2ZSBGYW1pbHlcIixcbiAgICAgICAgICB2YWx1ZTogaW5ncmVkaWVudC5vbGZhY3RpdmVGYW1pbHkgfHwgXCJGbG9yYWxcIixcbiAgICAgICAgfSxcbiAgICAgICAgeyBsYWJlbDogXCJUb3AgTm90ZVwiLCB2YWx1ZTogaW5ncmVkaWVudC50b3BOb3RlIHx8IFwiRnJlc2gsIEdyZWVuXCIgfSxcbiAgICAgICAgeyBsYWJlbDogXCJIZWFydCBOb3RlXCIsIHZhbHVlOiBpbmdyZWRpZW50LmhlYXJ0Tm90ZSB8fCBcIkZsb3JhbCwgU3dlZXRcIiB9LFxuICAgICAgICB7IGxhYmVsOiBcIkJhc2UgTm90ZVwiLCB2YWx1ZTogaW5ncmVkaWVudC5iYXNlTm90ZSB8fCBcIldvb2R5LCBNdXNreVwiIH0sXG4gICAgICAgIHsgbGFiZWw6IFwiSW50ZW5zaXR5XCIsIHZhbHVlOiBpbmdyZWRpZW50LmludGVuc2l0eSB8fCBcIjcvMTBcIiB9LFxuICAgICAgICB7IGxhYmVsOiBcIkxvbmdldml0eVwiLCB2YWx1ZTogaW5ncmVkaWVudC5sb25nZXZpdHkgfHwgXCI2LTggaG91cnNcIiB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInRlY2huaWNhbFwiLFxuICAgICAgdGl0bGU6IFwiVGVjaG5pY2FsIFByb3BlcnRpZXNcIixcbiAgICAgIGljb246IFwicmktZmxhc2stbGluZVwiLFxuICAgICAgY29udGVudDogW1xuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6IFwiTW9sZWN1bGFyIFdlaWdodFwiLFxuICAgICAgICAgIHZhbHVlOiBpbmdyZWRpZW50Lm1vbGVjdWxhcldlaWdodCB8fCBcIjE1NC4yNSBnL21vbFwiLFxuICAgICAgICB9LFxuICAgICAgICB7IGxhYmVsOiBcIkJvaWxpbmcgUG9pbnRcIiwgdmFsdWU6IGluZ3JlZGllbnQuYm9pbGluZ1BvaW50IHx8IFwiMjE1wrBDXCIgfSxcbiAgICAgICAgeyBsYWJlbDogXCJGbGFzaCBQb2ludFwiLCB2YWx1ZTogaW5ncmVkaWVudC5mbGFzaFBvaW50IHx8IFwiOTPCsENcIiB9LFxuICAgICAgICB7IGxhYmVsOiBcIlNvbHViaWxpdHlcIiwgdmFsdWU6IGluZ3JlZGllbnQuc29sdWJpbGl0eSB8fCBcIkV0aGFub2wsIE9pbFwiIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogXCJTdGFiaWxpdHlcIixcbiAgICAgICAgICB2YWx1ZTogaW5ncmVkaWVudC5zdGFiaWxpdHkgfHwgXCJTdGFibGUgdW5kZXIgbm9ybWFsIGNvbmRpdGlvbnNcIixcbiAgICAgICAgfSxcbiAgICAgICAgeyBsYWJlbDogXCJwSFwiLCB2YWx1ZTogaW5ncmVkaWVudC5wSCB8fCBcIjYuNS03LjVcIiB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInJlZ3VsYXRpb25zXCIsXG4gICAgICB0aXRsZTogXCJSZWd1bGF0aW9ucyAmIENlcnRpZmljYXRpb25zXCIsXG4gICAgICBpY29uOiBcInJpLXNoaWVsZC1jaGVjay1saW5lXCIsXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogXCJJRlJBIENhdGVnb3J5XCIsXG4gICAgICAgICAgdmFsdWU6IGluZ3JlZGllbnQuaWZyYUNhdGVnb3J5IHx8IFwiQ2F0ZWdvcnkgMS00XCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogXCJJRlJBIFJlc3RyaWN0aW9uXCIsXG4gICAgICAgICAgdmFsdWU6IGluZ3JlZGllbnQuaWZyYVJlc3RyaWN0aW9uIHx8IFwiMC4xJSBtYXhcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiBcIkVVIENvc21ldGljIFJlZ3VsYXRpb25cIixcbiAgICAgICAgICB2YWx1ZTogaW5ncmVkaWVudC5ldVJlZ3VsYXRpb24gfHwgXCJDb21wbGlhbnRcIixcbiAgICAgICAgfSxcbiAgICAgICAgeyBsYWJlbDogXCJGREEgU3RhdHVzXCIsIHZhbHVlOiBpbmdyZWRpZW50LmZkYVN0YXR1cyB8fCBcIkdSQVNcIiB9LFxuICAgICAgICB7IGxhYmVsOiBcIkhhbGFsIENlcnRpZmllZFwiLCB2YWx1ZTogaW5ncmVkaWVudC5oYWxhbENlcnRpZmllZCB8fCBcIlllc1wiIH0sXG4gICAgICAgIHsgbGFiZWw6IFwiVmVnYW5cIiwgdmFsdWU6IGluZ3JlZGllbnQudmVnYW4gfHwgXCJZZXNcIiB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInVzYWdlXCIsXG4gICAgICB0aXRsZTogXCJVc2FnZSAmIFJlY29tbWVuZGF0aW9uc1wiLFxuICAgICAgaWNvbjogXCJyaS1saWdodGJ1bGItbGluZVwiLFxuICAgICAgY29udGVudDogW1xuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6IFwiUmVjb21tZW5kZWQgVXNhZ2VcIixcbiAgICAgICAgICB2YWx1ZTogaW5ncmVkaWVudC5yZWNvbW1lbmRlZFVzYWdlIHx8IFwiMC41LTIuMCVcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiBcIkJsZW5kcyBXZWxsIFdpdGhcIixcbiAgICAgICAgICB2YWx1ZTogaW5ncmVkaWVudC5ibGVuZHNXZWxsV2l0aCB8fCBcIlJvc2UsIEphc21pbmUsIFNhbmRhbHdvb2RcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiBcIkFwcGxpY2F0aW9uXCIsXG4gICAgICAgICAgdmFsdWU6IGluZ3JlZGllbnQuYXBwbGljYXRpb24gfHwgXCJGaW5lIEZyYWdyYW5jZSwgUGVyc29uYWwgQ2FyZVwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6IFwiU3RvcmFnZVwiLFxuICAgICAgICAgIHZhbHVlOiBpbmdyZWRpZW50LnN0b3JhZ2UgfHwgXCJDb29sLCBkcnkgcGxhY2UsIGF3YXkgZnJvbSBsaWdodFwiLFxuICAgICAgICB9LFxuICAgICAgICB7IGxhYmVsOiBcIlNoZWxmIExpZmVcIiwgdmFsdWU6IGluZ3JlZGllbnQuc2hlbGZMaWZlIHx8IFwiMjQgbW9udGhzXCIgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJzdXN0YWluYWJpbGl0eVwiLFxuICAgICAgdGl0bGU6IFwiU3VzdGFpbmFiaWxpdHlcIixcbiAgICAgIGljb246IFwicmktbGVhZi1saW5lXCIsXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIHsgbGFiZWw6IFwiT3JpZ2luXCIsIHZhbHVlOiBpbmdyZWRpZW50Lm9yaWdpbiB8fCBcIkZyYW5jZVwiIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogXCJFeHRyYWN0aW9uIE1ldGhvZFwiLFxuICAgICAgICAgIHZhbHVlOiBpbmdyZWRpZW50LmV4dHJhY3Rpb25NZXRob2QgfHwgXCJTdGVhbSBEaXN0aWxsYXRpb25cIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiBcIlN1c3RhaW5hYmlsaXR5IFNjb3JlXCIsXG4gICAgICAgICAgdmFsdWU6IGluZ3JlZGllbnQuc3VzdGFpbmFiaWxpdHlTY29yZSB8fCBcIjgvMTBcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiBcIkNhcmJvbiBGb290cHJpbnRcIixcbiAgICAgICAgICB2YWx1ZTogaW5ncmVkaWVudC5jYXJib25Gb290cHJpbnQgfHwgXCJMb3dcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiBcIkJpb2RlZ3JhZGFiaWxpdHlcIixcbiAgICAgICAgICB2YWx1ZTogaW5ncmVkaWVudC5iaW9kZWdyYWRhYmlsaXR5IHx8IFwiUmVhZGlseSBiaW9kZWdyYWRhYmxlXCIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHAtNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIG1heC13LTR4bCB3LWZ1bGwgbWF4LWgtWzkwdmhdIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1ibHVlLTEwMCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cInJpLWZsYXNrLWZpbGwgdGV4dC1ibHVlLTYwMFwiPjwvaT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAge2luZ3JlZGllbnQubmFtZX1cbiAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgQ29tcGxldGUgSW5ncmVkaWVudCBQcm9maWxlXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTggaC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTYwMCBob3ZlcjpiZy1ncmF5LTEwMCByb3VuZGVkLWxnXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJyaS1jbG9zZS1saW5lXCI+PC9pPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBtYXgtaC1bY2FsYyg5MHZoLTEwMHB4KV0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgIHtzZWN0aW9ucy5tYXAoKHNlY3Rpb24pID0+IChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17c2VjdGlvbi5pZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlU2VjdGlvbihzZWN0aW9uLmlkKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBwLTMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtbGVmdCBob3ZlcjpiZy1ncmF5LTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWRTZWN0aW9ucy5oYXMoc2VjdGlvbi5pZCkgPyBcImJnLWdyYXktNTBcIiA6IFwiXCJcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17YCR7c2VjdGlvbi5pY29ufSB0ZXh0LWdyYXktNjAwYH0+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8aVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJpLWFycm93LSR7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBhbmRlZFNlY3Rpb25zLmhhcyhzZWN0aW9uLmlkKSA/IFwidXBcIiA6IFwiZG93blwiXG4gICAgICAgICAgICAgICAgICAgICAgfS1zLWxpbmUgdGV4dC1ncmF5LTQwMGB9XG4gICAgICAgICAgICAgICAgICAgID48L2k+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIHtleHBhbmRlZFNlY3Rpb25zLmhhcyhzZWN0aW9uLmlkKSAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTMgcGItM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbi5jb250ZW50Lm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC0yIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ncmF5LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0udmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIENvbHVtbkNvbmZpZyB7XG4gIGlkOiBzdHJpbmc7XG4gIGhlYWRlcjogc3RyaW5nO1xuICB3aWR0aDogc3RyaW5nO1xuICB2aXNpYmxlOiBib29sZWFuO1xuICB0eXBlOiBcInRleHRcIiB8IFwibnVtYmVyXCIgfCBcImN1cnJlbmN5XCIgfCBcImFjdGlvbnNcIjtcbn1cblxuaW50ZXJmYWNlIEZvcm11bGFDb25maWcge1xuICBtYXhDb25jZW50cmF0aW9uOiBudW1iZXI7XG4gIHJlZ3VsYXRpb25zOiB7XG4gICAgaWZyYUNhdGVnb3JpZXM6IFJlY29yZDxcbiAgICAgIHN0cmluZyxcbiAgICAgIHsgbWF4Q29uY2VudHJhdGlvbjogbnVtYmVyOyBkZXNjcmlwdGlvbjogc3RyaW5nIH1cbiAgICA+O1xuICAgIGFsbGVyZ2Vuczoge1xuICAgICAgcmVxdWlyZWQ6IHN0cmluZ1tdO1xuICAgICAgZGVjbGFyYXRpb25UaHJlc2hvbGQ6IG51bWJlcjtcbiAgICB9O1xuICB9O1xuICB2YWxpZGF0aW9uczoge1xuICAgIGNvbmNlbnRyYXRpb25MaW1pdHM6IHtcbiAgICAgIGluZGl2aWR1YWw6IHsgbWluOiBudW1iZXI7IG1heDogbnVtYmVyIH07XG4gICAgICB0b3RhbDogeyBtaW46IG51bWJlcjsgbWF4OiBudW1iZXIgfTtcbiAgICB9O1xuICAgIHF1YW50aXR5TGltaXRzOiB7XG4gICAgICBpbmRpdmlkdWFsOiB7IG1pbjogbnVtYmVyOyBtYXg6IG51bWJlciB9O1xuICAgIH07XG4gIH07XG59XG5cbmludGVyZmFjZSBUcmlhbCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgaW5ncmVkaWVudHM6IEluZ3JlZGllbnRbXTtcbiAgY3JlYXRlZEF0OiBEYXRlO1xufVxuXG5pbnRlcmZhY2UgVmFsaWRhdGlvblJlc3VsdCB7XG4gIGlzVmFsaWQ6IGJvb2xlYW47XG4gIGVycm9yczogc3RyaW5nW107XG4gIHdhcm5pbmdzOiBzdHJpbmdbXTtcbn1cblxuaW50ZXJmYWNlIERyYWdnYWJsZUluZ3JlZGllbnRSb3dQcm9wcyB7XG4gIGluZ3JlZGllbnQ6IEluZ3JlZGllbnQ7XG4gIG9uUmVtb3ZlSW5ncmVkaWVudDogKGluZ3JlZGllbnRJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBvblVwZGF0ZUluZ3JlZGllbnQ6IChcbiAgICBpbmdyZWRpZW50SWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEluZ3JlZGllbnQ+XG4gICkgPT4gdm9pZDtcbiAgY29sdW1uczogQ29sdW1uQ29uZmlnW107XG4gIHZhbGlkYXRpb25SZXN1bHQ/OiBWYWxpZGF0aW9uUmVzdWx0O1xufVxuXG5pbnRlcmZhY2UgSW5saW5lRWRpdENlbGxQcm9wcyB7XG4gIHZhbHVlOiBudW1iZXI7XG4gIHR5cGU6IFwiY29uY2VudHJhdGlvblwiIHwgXCJxdWFudGl0eVwiO1xuICBvblVwZGF0ZTogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQ7XG4gIGhhc0Vycm9yPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFNvcnRhYmxlSW5ncmVkaWVudFJvd1Byb3BzIHtcbiAgaW5ncmVkaWVudDogSW5ncmVkaWVudDtcbiAgb25SZW1vdmVJbmdyZWRpZW50OiAoaW5ncmVkaWVudElkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uVXBkYXRlSW5ncmVkaWVudDogKFxuICAgIGluZ3JlZGllbnRJZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8SW5ncmVkaWVudD5cbiAgKSA9PiB2b2lkO1xuICBjb2x1bW5zOiBDb2x1bW5Db25maWdbXTtcbiAgdmFsaWRhdGlvblJlc3VsdD86IFZhbGlkYXRpb25SZXN1bHQ7XG59XG5cbmludGVyZmFjZSBEZWxldGVDb25maXJtYXRpb25Nb2RhbFByb3BzIHtcbiAgdHJpYWxOYW1lOiBzdHJpbmc7XG4gIG9uQ29uZmlybTogKCkgPT4gdm9pZDtcbiAgb25DYW5jZWw6ICgpID0+IHZvaWQ7XG59XG5cbmZ1bmN0aW9uIERlbGV0ZUNvbmZpcm1hdGlvbk1vZGFsKHtcbiAgdHJpYWxOYW1lLFxuICBvbkNvbmZpcm0sXG4gIG9uQ2FuY2VsLFxufTogRGVsZXRlQ29uZmlybWF0aW9uTW9kYWxQcm9wcykge1xuICBjb25zdCBbY29uZmlybVRleHQsIHNldENvbmZpcm1UZXh0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBpc0NvbmZpcm1WYWxpZCA9IGNvbmZpcm1UZXh0ID09PSB0cmlhbE5hbWU7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHAtNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIG1heC13LW1kIHctZnVsbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbWItNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctcmVkLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbXItM1wiPlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJyaS1hbGVydC1saW5lIHRleHQtcmVkLTYwMFwiPjwvaT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgIERlbGV0ZSBUcmlhbFxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbWItNFwiPlxuICAgICAgICAgICAgVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS4gVGhpcyB3aWxsIHBlcm1hbmVudGx5IGRlbGV0ZSB0aGUgdHJpYWxcbiAgICAgICAgICAgIFwie3RyaWFsTmFtZX1cIiBhbmQgYWxsIGl0cyBmb3JtdWxhdGlvbiBkYXRhLlxuICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgIFR5cGUgXCJ7dHJpYWxOYW1lfVwiIHRvIGNvbmZpcm0gZGVsZXRpb246XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgdmFsdWU9e2NvbmZpcm1UZXh0fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENvbmZpcm1UZXh0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1yZWQtNTAwXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3RyaWFsTmFtZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1lbmQgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17b25DYW5jZWx9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktMTAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNvbmZpcm19XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshaXNDb25maXJtVmFsaWR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgaXNDb25maXJtVmFsaWRcbiAgICAgICAgICAgICAgICAgID8gXCJiZy1yZWQtNjAwIHRleHQtd2hpdGUgaG92ZXI6YmctcmVkLTcwMFwiXG4gICAgICAgICAgICAgICAgICA6IFwiYmctZ3JheS0zMDAgdGV4dC1ncmF5LTUwMCBjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgRGVsZXRlIFRyaWFsXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIFRyaWFsVGFiUHJvcHMge1xuICB0cmlhbDogVHJpYWw7XG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICBvbkNsaWNrOiAoKSA9PiB2b2lkO1xuICBvbkRlbGV0ZTogKCkgPT4gdm9pZDtcbiAgb25SZW5hbWU6IChuZXdOYW1lOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNhbkRlbGV0ZTogYm9vbGVhbjtcbn1cblxuZnVuY3Rpb24gVHJpYWxUYWIoe1xuICB0cmlhbCxcbiAgaXNBY3RpdmUsXG4gIG9uQ2xpY2ssXG4gIG9uRGVsZXRlLFxuICBvblJlbmFtZSxcbiAgY2FuRGVsZXRlLFxufTogVHJpYWxUYWJQcm9wcykge1xuICBjb25zdCBbaXNFZGl0aW5nLCBzZXRJc0VkaXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZWRpdE5hbWUsIHNldEVkaXROYW1lXSA9IHVzZVN0YXRlKHRyaWFsLm5hbWUpO1xuXG4gIGNvbnN0IGhhbmRsZVNhdmVOYW1lID0gKCkgPT4ge1xuICAgIGlmIChlZGl0TmFtZS50cmltKCkpIHtcbiAgICAgIG9uUmVuYW1lKGVkaXROYW1lLnRyaW0oKSk7XG4gICAgfVxuICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICBoYW5kbGVTYXZlTmFtZSgpO1xuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHNldEVkaXROYW1lKHRyaWFsLm5hbWUpO1xuICAgICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2Bncm91cCByZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTIgcm91bmRlZC1sZyBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCB3aGl0ZXNwYWNlLW5vd3JhcCAke1xuICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgID8gXCJiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtODAwIGJvcmRlciBib3JkZXItYmx1ZS0yMDBcIlxuICAgICAgICAgIDogXCJiZy1ncmF5LTUwIHRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS0xMDAgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudFwiXG4gICAgICB9YH1cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgPlxuICAgICAge2lzRWRpdGluZyA/IChcbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXtlZGl0TmFtZX1cbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVkaXROYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICBvbkJsdXI9e2hhbmRsZVNhdmVOYW1lfVxuICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXRyYW5zcGFyZW50IGJvcmRlci1ub25lIG91dGxpbmUtbm9uZSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHctMjBcIlxuICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAvPlxuICAgICAgKSA6IChcbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICBvbkRvdWJsZUNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHNldElzRWRpdGluZyh0cnVlKTtcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge3RyaWFsLm5hbWV9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICl9XG5cbiAgICAgIHtjYW5EZWxldGUgJiYgKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBvbkRlbGV0ZSgpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgY2xhc3NOYW1lPXtgdy00IGgtNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICAgID8gXCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtMjAwXCJcbiAgICAgICAgICAgICAgOiBcInRleHQtZ3JheS00MDAgaG92ZXI6YmctZ3JheS0yMDAgaG92ZXI6dGV4dC1ncmF5LTYwMFwiXG4gICAgICAgICAgfSBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDBgfVxuICAgICAgICA+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktY2xvc2UtbGluZSB0ZXh0LXhzXCI+PC9pPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmludGVyZmFjZSBDdXBQcm9ncmVzc1Byb3BzIHtcbiAgdG90YWxJbmdyZWRpZW50czogbnVtYmVyO1xuICB0b3RhbENvbmNlbnRyYXRpb246IG51bWJlcjtcbiAgdG90YWxRdWFudGl0eTogbnVtYmVyO1xuICB0b3RhbENvc3Q6IG51bWJlcjtcbiAgbWF4Q29uY2VudHJhdGlvbj86IG51bWJlcjtcbn1cblxuZnVuY3Rpb24gQ3VwUHJvZ3Jlc3Moe1xuICB0b3RhbEluZ3JlZGllbnRzLFxuICB0b3RhbENvbmNlbnRyYXRpb24sXG4gIHRvdGFsUXVhbnRpdHksXG4gIHRvdGFsQ29zdCxcbiAgbWF4Q29uY2VudHJhdGlvbiA9IDEwMCxcbn06IEN1cFByb2dyZXNzUHJvcHMpIHtcbiAgY29uc3QgZmlsbFBlcmNlbnRhZ2UgPSBNYXRoLm1pbihcbiAgICAodG90YWxDb25jZW50cmF0aW9uIC8gbWF4Q29uY2VudHJhdGlvbikgKiAxMDAsXG4gICAgMTAwXG4gICk7XG4gIGNvbnN0IGlzT3ZlcmZpbGxlZCA9IHRvdGFsQ29uY2VudHJhdGlvbiA+IG1heENvbmNlbnRyYXRpb247XG4gIGNvbnN0IGJvdHRsZUNvbG9yID0gaXNPdmVyZmlsbGVkID8gXCIjRUY0NDQ0XCIgOiBcIiM4QjVDRjZcIjtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC04IHB4LTQgcHktMyBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAgdmlhLWluZGlnby01MCB0by1wdXJwbGUtNTAgcm91bmRlZC14bFwiPlxuICAgICAgey8qIFBlcmZ1bWUgQm90dGxlIFZpc3VhbGl6YXRpb24gLSBNYWRlIEV2ZW4gV2lkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTI0IGgtMjggcmVsYXRpdmVcIj5cbiAgICAgICAgICB7LyogUGVyZnVtZSBCb3R0bGUgU1ZHIC0gTWFkZSBNdWNoIFdpZGVyICovfVxuICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgIHdpZHRoPVwiOTZcIlxuICAgICAgICAgICAgaGVpZ2h0PVwiMTEyXCJcbiAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgOTYgMTEyXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsvKiBCb3R0bGUgbmVjayAqL31cbiAgICAgICAgICAgIDxyZWN0XG4gICAgICAgICAgICAgIHg9XCIzOFwiXG4gICAgICAgICAgICAgIHk9XCIxMlwiXG4gICAgICAgICAgICAgIHdpZHRoPVwiMjBcIlxuICAgICAgICAgICAgICBoZWlnaHQ9XCIxMlwiXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgc3Ryb2tlPVwiI0U1RTdFQlwiXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMS41XCJcbiAgICAgICAgICAgICAgcng9XCIxXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7LyogQm90dGxlIGNhcCAqL31cbiAgICAgICAgICAgIDxyZWN0IHg9XCIzNlwiIHk9XCI4XCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjZcIiBmaWxsPVwiI0QxRDVEQlwiIHJ4PVwiMlwiIC8+XG4gICAgICAgICAgICB7LyogTWFpbiBib3R0bGUgYm9keSAtIE11Y2ggV2lkZXIgKi99XG4gICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICBkPVwiTTE4IDI0IEwxOCA5MCBRMTggOTggMjYgOTggTDcwIDk4IFE3OCA5OCA3OCA5MCBMNzggMjQgWlwiXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgc3Ryb2tlPVwiI0U1RTdFQlwiXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMlwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgey8qIEJvdHRsZSBzaG91bGRlciAqL31cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgIGQ9XCJNMzggMjQgUTE4IDI0IDE4IDI0IEw3OCAyNCBRNTggMjQgNTggMjRcIlxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHN0cm9rZT1cIiNFNUU3RUJcIlxuICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjJcIlxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgey8qIExpcXVpZCBmaWxsICovfVxuICAgICAgICAgICAgPGRlZnM+XG4gICAgICAgICAgICAgIDxjbGlwUGF0aCBpZD1cImJvdHRsZUNsaXBcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTIwIDI2IEwyMCA4OCBRMjAgOTYgMjYgOTYgTDcwIDk2IFE3NiA5NiA3NiA4OCBMNzYgMjYgWlwiIC8+XG4gICAgICAgICAgICAgIDwvY2xpcFBhdGg+XG4gICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudFxuICAgICAgICAgICAgICAgIGlkPVwibGlxdWlkR3JhZGllbnRcIlxuICAgICAgICAgICAgICAgIHgxPVwiMCVcIlxuICAgICAgICAgICAgICAgIHkxPVwiMCVcIlxuICAgICAgICAgICAgICAgIHgyPVwiMTAwJVwiXG4gICAgICAgICAgICAgICAgeTI9XCIxMDAlXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjAlXCIgc3RvcENvbG9yPXtib3R0bGVDb2xvcn0gc3RvcE9wYWNpdHk9XCIwLjhcIiAvPlxuICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjEwMCVcIiBzdG9wQ29sb3I9e2JvdHRsZUNvbG9yfSBzdG9wT3BhY2l0eT1cIjAuNlwiIC8+XG4gICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+XG4gICAgICAgICAgICA8L2RlZnM+XG5cbiAgICAgICAgICAgIDxyZWN0XG4gICAgICAgICAgICAgIHg9XCIyMFwiXG4gICAgICAgICAgICAgIHk9ezI2ICsgKDcwICogKDEwMCAtIGZpbGxQZXJjZW50YWdlKSkgLyAxMDB9XG4gICAgICAgICAgICAgIHdpZHRoPVwiNTZcIlxuICAgICAgICAgICAgICBoZWlnaHQ9eyg3MCAqIGZpbGxQZXJjZW50YWdlKSAvIDEwMH1cbiAgICAgICAgICAgICAgZmlsbD1cInVybCgjbGlxdWlkR3JhZGllbnQpXCJcbiAgICAgICAgICAgICAgY2xpcFBhdGg9XCJ1cmwoI2JvdHRsZUNsaXApXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGFuaW1hdGVcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiXG4gICAgICAgICAgICAgICAgdmFsdWVzPVwiMC42OzAuODswLjZcIlxuICAgICAgICAgICAgICAgIGR1cj1cIjNzXCJcbiAgICAgICAgICAgICAgICByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9yZWN0PlxuXG4gICAgICAgICAgICB7LyogTGlxdWlkIHN1cmZhY2Ugd2l0aCB3YXZlIGFuaW1hdGlvbiAqL31cbiAgICAgICAgICAgIHtmaWxsUGVyY2VudGFnZSA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZWxsaXBzZVxuICAgICAgICAgICAgICAgIGN4PVwiNDhcIlxuICAgICAgICAgICAgICAgIGN5PXsyNiArICg3MCAqICgxMDAgLSBmaWxsUGVyY2VudGFnZSkpIC8gMTAwfVxuICAgICAgICAgICAgICAgIHJ4PVwiMjhcIlxuICAgICAgICAgICAgICAgIHJ5PVwiM1wiXG4gICAgICAgICAgICAgICAgZmlsbD17Ym90dGxlQ29sb3J9XG4gICAgICAgICAgICAgICAgb3BhY2l0eT1cIjAuOFwiXG4gICAgICAgICAgICAgICAgY2xpcFBhdGg9XCJ1cmwoI2JvdHRsZUNsaXApXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxhbmltYXRlXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lPVwicnlcIlxuICAgICAgICAgICAgICAgICAgdmFsdWVzPVwiMzs0OzNcIlxuICAgICAgICAgICAgICAgICAgZHVyPVwiMi41c1wiXG4gICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGFuaW1hdGVcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlcz1cIjAuODsxOzAuOFwiXG4gICAgICAgICAgICAgICAgICBkdXI9XCIyc1wiXG4gICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZWxsaXBzZT5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBQZXJjZW50YWdlIFRleHQgSW5zaWRlIEJvdHRsZSAqL31cbiAgICAgICAgICAgIHtmaWxsUGVyY2VudGFnZSA+IDE1ICYmIChcbiAgICAgICAgICAgICAgPHRleHRcbiAgICAgICAgICAgICAgICB4PVwiNDhcIlxuICAgICAgICAgICAgICAgIHk9e1xuICAgICAgICAgICAgICAgICAgMjYgK1xuICAgICAgICAgICAgICAgICAgKDcwICogKDEwMCAtIGZpbGxQZXJjZW50YWdlKSkgLyAxMDAgK1xuICAgICAgICAgICAgICAgICAgKDcwICogZmlsbFBlcmNlbnRhZ2UpIC8gMjAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHRBbmNob3I9XCJtaWRkbGVcIlxuICAgICAgICAgICAgICAgIGRvbWluYW50QmFzZWxpbmU9XCJtaWRkbGVcIlxuICAgICAgICAgICAgICAgIGZpbGw9XCJ3aGl0ZVwiXG4gICAgICAgICAgICAgICAgZm9udFNpemU9XCIxNFwiXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodD1cImJvbGRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHRleHRTaGFkb3c6IFwiMCAxcHggMnB4IHJnYmEoMCwwLDAsMC4zKVwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dG90YWxDb25jZW50cmF0aW9uLnRvRml4ZWQoMSl9JVxuICAgICAgICAgICAgICA8L3RleHQ+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogU3BhcmtsZSBlZmZlY3RzIGZvciBhbmltYXRpb24gKi99XG4gICAgICAgICAgICB7ZmlsbFBlcmNlbnRhZ2UgPiAyMCAmJiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjM4XCIgY3k9XCI1MFwiIHI9XCIxXCIgZmlsbD1cIiNGQkJGMjRcIiBvcGFjaXR5PVwiMC44XCI+XG4gICAgICAgICAgICAgICAgICA8YW5pbWF0ZVxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcz1cIjAuODswLjI7MC44XCJcbiAgICAgICAgICAgICAgICAgICAgZHVyPVwiMS41c1wiXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luPVwiMHNcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2NpcmNsZT5cbiAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiNThcIiBjeT1cIjYwXCIgcj1cIjFcIiBmaWxsPVwiI0ZCQkYyNFwiIG9wYWNpdHk9XCIwLjZcIj5cbiAgICAgICAgICAgICAgICAgIDxhbmltYXRlXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzPVwiMC42OzAuMTswLjZcIlxuICAgICAgICAgICAgICAgICAgICBkdXI9XCIxLjhzXCJcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW49XCIwLjVzXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9jaXJjbGU+XG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjQyXCIgY3k9XCI3NVwiIHI9XCIxXCIgZmlsbD1cIiNGQkJGMjRcIiBvcGFjaXR5PVwiMC43XCI+XG4gICAgICAgICAgICAgICAgICA8YW5pbWF0ZVxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcz1cIjAuNzswLjI7MC43XCJcbiAgICAgICAgICAgICAgICAgICAgZHVyPVwiMi4yc1wiXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luPVwiMXNcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2NpcmNsZT5cbiAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiNjRcIiBjeT1cIjQ1XCIgcj1cIjFcIiBmaWxsPVwiI0ZCQkYyNFwiIG9wYWNpdHk9XCIwLjVcIj5cbiAgICAgICAgICAgICAgICAgIDxhbmltYXRlXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzPVwiMC41OzAuMTswLjVcIlxuICAgICAgICAgICAgICAgICAgICBkdXI9XCIyLjhzXCJcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW49XCIxLjVzXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9jaXJjbGU+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3N2Zz5cblxuICAgICAgICAgIHsvKiBPdmVyZmxvdyBpbmRpY2F0b3IgKi99XG4gICAgICAgICAge2lzT3ZlcmZpbGxlZCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtNCBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgYmctcmVkLTUwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYW5pbWF0ZS1wdWxzZVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cInJpLWVycm9yLXdhcm5pbmctbGluZSB0ZXh0LXdoaXRlIHRleHQtc21cIj48L2k+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFBlcmNlbnRhZ2UgbGFiZWwgYmVsb3cgYm90dGxlIC0gT25seSBzaG93IHdoZW4gbGlxdWlkIGlzIHRvbyBsb3cgKi99XG4gICAgICAgIHtmaWxsUGVyY2VudGFnZSA8PSAxNSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtYm90dG9tLTYgbGVmdC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteC0xLzJcIj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LWJvbGQgcHgtMyBweS0xIHJvdW5kZWQtZnVsbCBzaGFkb3ctc20gJHtcbiAgICAgICAgICAgICAgICBpc092ZXJmaWxsZWRcbiAgICAgICAgICAgICAgICAgID8gXCJiZy1yZWQtMTAwIHRleHQtcmVkLTcwMFwiXG4gICAgICAgICAgICAgICAgICA6IFwiYmctcHVycGxlLTEwMCB0ZXh0LXB1cnBsZS03MDBcIlxuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RvdGFsQ29uY2VudHJhdGlvbi50b0ZpeGVkKDEpfSVcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBTdW1tYXJ5IFN0YXRzIGluIFNpbmdsZSBSb3cgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBncmlkIGdyaWQtY29scy00IGdhcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgYmctd2hpdGUvODAgcm91bmRlZC1sZyBweC00IHB5LTMgc2hhZG93LXNtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLWJsdWUtMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJyaS1mbGFzay1saW5lIHRleHQtYmx1ZS02MDAgdGV4dC1zbVwiPjwvaT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1sZyB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgIHt0b3RhbEluZ3JlZGllbnRzfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPkluZ3JlZGllbnRzPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgYmctd2hpdGUvODAgcm91bmRlZC1sZyBweC00IHB5LTMgc2hhZG93LXNtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLWFtYmVyLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktc2NhbGVzLTMtbGluZSB0ZXh0LWFtYmVyLTYwMCB0ZXh0LXNtXCI+PC9pPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnIHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgICAge3RvdGFsUXVhbnRpdHkudG9GaXhlZCgxKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5tbCBWb2x1bWU8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBiZy13aGl0ZS84MCByb3VuZGVkLWxnIHB4LTQgcHktMyBzaGFkb3ctc21cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggYmctZ3JlZW4tMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJyaS1tb25leS1kb2xsYXItY2lyY2xlLWxpbmUgdGV4dC1ncmVlbi02MDAgdGV4dC1zbVwiPjwvaT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1sZyB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICR7dG90YWxDb3N0LnRvRml4ZWQoMCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+VG90YWwgQ29zdDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIGJnLXdoaXRlLzgwIHJvdW5kZWQtbGcgcHgtNCBweS0zIHNoYWRvdy1zbVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1wdXJwbGUtMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJyaS1wZXJjZW50LWxpbmUgdGV4dC1wdXJwbGUtNjAwIHRleHQtc21cIj48L2k+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZm9udC1ib2xkIHRleHQtbGcgJHtcbiAgICAgICAgICAgICAgICBpc092ZXJmaWxsZWQgPyBcInRleHQtcmVkLTYwMFwiIDogXCJ0ZXh0LWdyYXktOTAwXCJcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0b3RhbENvbmNlbnRyYXRpb24udG9GaXhlZCgxKX0lXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+Q29uY2VudHJhdGlvbjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5pbnRlcmZhY2UgRm9ybXVsYUNhbnZhc1Byb3BzIHtcbiAgaW5ncmVkaWVudHM6IEluZ3JlZGllbnRbXTtcbiAgb25BZGRJbmdyZWRpZW50OiAoaW5ncmVkaWVudDogSW5ncmVkaWVudCkgPT4gdm9pZDtcbiAgb25SZW1vdmVJbmdyZWRpZW50OiAoaW5ncmVkaWVudElkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uVXBkYXRlSW5ncmVkaWVudDogKFxuICAgIGluZ3JlZGllbnRJZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8SW5ncmVkaWVudD5cbiAgKSA9PiB2b2lkO1xuICBvblVwZGF0ZUluZ3JlZGllbnRzOiAoaW5ncmVkaWVudHM6IEluZ3JlZGllbnRbXSkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRm9ybXVsYUNhbnZhcyh7XG4gIGluZ3JlZGllbnRzLFxuICBvbkFkZEluZ3JlZGllbnQsXG4gIG9uUmVtb3ZlSW5ncmVkaWVudCxcbiAgb25VcGRhdGVJbmdyZWRpZW50LFxuICBvblVwZGF0ZUluZ3JlZGllbnRzLFxufTogRm9ybXVsYUNhbnZhc1Byb3BzKSB7XG4gIGNvbnN0IFtzaG93Q29uZmlnTW9kYWwsIHNldFNob3dDb25maWdNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93RGVsZXRlTW9kYWwsIHNldFNob3dEZWxldGVNb2RhbF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3RyaWFsQ291bnRlciwgc2V0VHJpYWxDb3VudGVyXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbdHJpYWxzLCBzZXRUcmlhbHNdID0gdXNlU3RhdGU8VHJpYWxbXT4oW1xuICAgIHtcbiAgICAgIGlkOiBcInRyaWFsLTFcIixcbiAgICAgIG5hbWU6IFwiVHJpYWwgMVwiLFxuICAgICAgaW5ncmVkaWVudHM6IFtdLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH0sXG4gIF0pO1xuICBjb25zdCBbYWN0aXZlVHJpYWxJZCwgc2V0QWN0aXZlVHJpYWxJZF0gPSB1c2VTdGF0ZShcInRyaWFsLTFcIik7XG4gIGNvbnN0IFtjb2x1bW5zLCBzZXRDb2x1bW5zXSA9IHVzZVN0YXRlPENvbHVtbkNvbmZpZ1tdPihbXSk7XG4gIGNvbnN0IFtmb3JtdWxhQ29uZmlnLCBzZXRGb3JtdWxhQ29uZmlnXSA9IHVzZVN0YXRlPEZvcm11bGFDb25maWcgfCBudWxsPihcbiAgICBudWxsXG4gICk7XG4gIGNvbnN0IFt2YWxpZGF0aW9uUmVzdWx0cywgc2V0VmFsaWRhdGlvblJlc3VsdHNdID0gdXNlU3RhdGU8XG4gICAgUmVjb3JkPHN0cmluZywgVmFsaWRhdGlvblJlc3VsdD5cbiAgPih7fSk7XG4gIGNvbnN0IFtzb3J0Q29uZmlnLCBzZXRTb3J0Q29uZmlnXSA9IHVzZVN0YXRlPHtcbiAgICBrZXk6IHN0cmluZztcbiAgICBkaXJlY3Rpb246IFwiYXNjXCIgfCBcImRlc2NcIjtcbiAgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdHJpYWxzU2Nyb2xsSW5kZXgsIHNldFRyaWFsc1Njcm9sbEluZGV4XSA9IHVzZVN0YXRlKDApO1xuXG4gIGNvbnN0IHsgc2V0Tm9kZVJlZiwgaXNPdmVyIH0gPSB1c2VEcm9wcGFibGUoe1xuICAgIGlkOiBcImZvcm11bGEtY2FudmFzXCIsXG4gIH0pO1xuXG4gIC8vIE1lbW9pemUgYWN0aXZlIHRyaWFsIGFuZCBjdXJyZW50IGluZ3JlZGllbnRzIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgcmVjYWxjdWxhdGlvbnNcbiAgY29uc3QgYWN0aXZlVHJpYWwgPSB1c2VNZW1vKFxuICAgICgpID0+IHRyaWFscy5maW5kKCh0KSA9PiB0LmlkID09PSBhY3RpdmVUcmlhbElkKSxcbiAgICBbdHJpYWxzLCBhY3RpdmVUcmlhbElkXVxuICApO1xuICBjb25zdCBjdXJyZW50SW5ncmVkaWVudHMgPSB1c2VNZW1vKFxuICAgICgpID0+IGFjdGl2ZVRyaWFsPy5pbmdyZWRpZW50cyB8fCBbXSxcbiAgICBbYWN0aXZlVHJpYWw/LmluZ3JlZGllbnRzXVxuICApO1xuXG4gIC8vIExvYWQgY29uZmlndXJhdGlvbiBvbmx5IG9uY2Ugb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaXNNb3VudGVkID0gdHJ1ZTtcblxuICAgIGNvbnN0IGxvYWRDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBbY29sdW1uQ29uZmlnLCBmb3JtdWxhQ29uZmlnRGF0YV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgaW1wb3J0KFwiQC9saWIvY29sdW1uQ29uZmlnLmpzb25cIiksXG4gICAgICAgICAgaW1wb3J0KFwiQC9saWIvZm9ybXVsYUNvbmZpZy5qc29uXCIpLFxuICAgICAgICBdKTtcblxuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0Q29sdW1ucyhjb2x1bW5Db25maWcuZGVmYXVsdENvbHVtbnMpO1xuICAgICAgICAgIHNldEZvcm11bGFDb25maWcoZm9ybXVsYUNvbmZpZ0RhdGEpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgY29uZmlndXJhdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0Q29sdW1ucyhbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgaGVhZGVyOiBcIkNvbXBvdW5kXCIsXG4gICAgICAgICAgICAgIHdpZHRoOiBcIjI1JVwiLFxuICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiBcImNhc1wiLFxuICAgICAgICAgICAgICBoZWFkZXI6IFwiQ0FTIE5vXCIsXG4gICAgICAgICAgICAgIHdpZHRoOiBcIjEyJVwiLFxuICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiBcImNvbmNlbnRyYXRpb25cIixcbiAgICAgICAgICAgICAgaGVhZGVyOiBcIkNvbmNlbnRyYXRpb24gKCUpXCIsXG4gICAgICAgICAgICAgIHdpZHRoOiBcIjEyJVwiLFxuICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IFwicXVhbnRpdHlcIixcbiAgICAgICAgICAgICAgaGVhZGVyOiBcIlF1YW50aXR5IChtbClcIixcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTIlXCIsXG4gICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogXCJjb3N0XCIsXG4gICAgICAgICAgICAgIGhlYWRlcjogXCJDb3N0ICgkKVwiLFxuICAgICAgICAgICAgICB3aWR0aDogXCIxMCVcIixcbiAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgdHlwZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IFwiYWN0aW9uc1wiLFxuICAgICAgICAgICAgICBoZWFkZXI6IFwiQWN0aW9uc1wiLFxuICAgICAgICAgICAgICB3aWR0aDogXCIxMCVcIixcbiAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgdHlwZTogXCJhY3Rpb25zXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0pO1xuICAgICAgICAgIHNldEZvcm11bGFDb25maWcoe1xuICAgICAgICAgICAgbWF4Q29uY2VudHJhdGlvbjogMTAwLFxuICAgICAgICAgICAgcmVndWxhdGlvbnM6IHtcbiAgICAgICAgICAgICAgaWZyYUNhdGVnb3JpZXM6IHt9LFxuICAgICAgICAgICAgICBhbGxlcmdlbnM6IHsgcmVxdWlyZWQ6IFtdLCBkZWNsYXJhdGlvblRocmVzaG9sZDogMC4wMDEgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWxpZGF0aW9uczoge1xuICAgICAgICAgICAgICBjb25jZW50cmF0aW9uTGltaXRzOiB7XG4gICAgICAgICAgICAgICAgaW5kaXZpZHVhbDogeyBtaW46IDAsIG1heDogNTAgfSxcbiAgICAgICAgICAgICAgICB0b3RhbDogeyBtaW46IDAsIG1heDogMTAwIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHF1YW50aXR5TGltaXRzOiB7IGluZGl2aWR1YWw6IHsgbWluOiAwLCBtYXg6IDEwMDAgfSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGxvYWRDb25maWcoKTtcbiAgfSwgW10pO1xuXG4gIC8vIE1lbW9pemUgaW5ncmVkaWVudHMgZXF1YWxpdHkgY2hlY2tcbiAgY29uc3QgaW5ncmVkaWVudHNFcXVhbCA9IHVzZUNhbGxiYWNrKFxuICAgIChhcnIxOiBJbmdyZWRpZW50W10sIGFycjI6IEluZ3JlZGllbnRbXSkgPT4ge1xuICAgICAgaWYgKGFycjEubGVuZ3RoICE9PSBhcnIyLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIGFycjEuZXZlcnkoKGluZywgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qgb3RoZXIgPSBhcnIyW2luZGV4XTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBvdGhlciAmJlxuICAgICAgICAgIGluZy5pZCA9PT0gb3RoZXIuaWQgJiZcbiAgICAgICAgICBpbmcuY29uY2VudHJhdGlvbiA9PT0gb3RoZXIuY29uY2VudHJhdGlvbiAmJlxuICAgICAgICAgIGluZy5xdWFudGl0eSA9PT0gb3RoZXIucXVhbnRpdHlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW11cbiAgKTtcblxuICAvLyBVcGRhdGUgYWN0aXZlIHRyaWFsIHdoZW4gaW5ncmVkaWVudHMgY2hhbmdlIC0gYnV0IG9ubHkgd2hlbiBhY3R1YWxseSBkaWZmZXJlbnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWluZ3JlZGllbnRzRXF1YWwoaW5ncmVkaWVudHMsIGN1cnJlbnRJbmdyZWRpZW50cykpIHtcbiAgICAgIHNldFRyaWFscygocHJldikgPT5cbiAgICAgICAgcHJldi5tYXAoKHRyaWFsKSA9PlxuICAgICAgICAgIHRyaWFsLmlkID09PSBhY3RpdmVUcmlhbElkXG4gICAgICAgICAgICA/IHsgLi4udHJpYWwsIGluZ3JlZGllbnRzOiBbLi4uaW5ncmVkaWVudHNdIH1cbiAgICAgICAgICAgIDogdHJpYWxcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH0sIFtpbmdyZWRpZW50cywgY3VycmVudEluZ3JlZGllbnRzLCBhY3RpdmVUcmlhbElkLCBpbmdyZWRpZW50c0VxdWFsXSk7XG5cbiAgLy8gVXBkYXRlIHRyaWFsIGNvdW50ZXIgb25seSB3aGVuIHRyaWFscyBhcnJheSBjaGFuZ2VzXG4gIGNvbnN0IG1heFRyaWFsTnVtYmVyID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHRyaWFscy5yZWR1Y2UoKG1heCwgdHJpYWwpID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoID0gdHJpYWwuaWQubWF0Y2goL3RyaWFsLShcXGQrKS8pO1xuICAgICAgcmV0dXJuIG1hdGNoID8gTWF0aC5tYXgobWF4LCBwYXJzZUludChtYXRjaFsxXSkpIDogbWF4O1xuICAgIH0sIDApO1xuICB9LCBbdHJpYWxzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRUcmlhbENvdW50ZXIobWF4VHJpYWxOdW1iZXIpO1xuICB9LCBbbWF4VHJpYWxOdW1iZXJdKTtcblxuICBjb25zdCB2aXNpYmxlVHJpYWxzQ291bnQgPSA0O1xuICBjb25zdCBtYXhUcmlhbHNTY3JvbGxJbmRleCA9IE1hdGgubWF4KDAsIHRyaWFscy5sZW5ndGggLSB2aXNpYmxlVHJpYWxzQ291bnQpO1xuXG4gIGNvbnN0IHNjcm9sbFRyaWFsc0xlZnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0VHJpYWxzU2Nyb2xsSW5kZXgoTWF0aC5tYXgoMCwgdHJpYWxzU2Nyb2xsSW5kZXggLSAxKSk7XG4gIH0sIFt0cmlhbHNTY3JvbGxJbmRleF0pO1xuXG4gIGNvbnN0IHNjcm9sbFRyaWFsc1JpZ2h0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFRyaWFsc1Njcm9sbEluZGV4KE1hdGgubWluKG1heFRyaWFsc1Njcm9sbEluZGV4LCB0cmlhbHNTY3JvbGxJbmRleCArIDEpKTtcbiAgfSwgW3RyaWFsc1Njcm9sbEluZGV4LCBtYXhUcmlhbHNTY3JvbGxJbmRleF0pO1xuXG4gIGNvbnN0IGFkZE5ld1RyaWFsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IG5ld1RyaWFsTnVtYmVyID0gdHJpYWxDb3VudGVyICsgMTtcbiAgICBjb25zdCBuZXdUcmlhbDogVHJpYWwgPSB7XG4gICAgICBpZDogYHRyaWFsLSR7bmV3VHJpYWxOdW1iZXJ9YCxcbiAgICAgIG5hbWU6IGBUcmlhbCAke25ld1RyaWFsTnVtYmVyfWAsXG4gICAgICBpbmdyZWRpZW50czogW10sXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgfTtcblxuICAgIHNldFRyaWFsQ291bnRlcihuZXdUcmlhbE51bWJlcik7XG4gICAgc2V0VHJpYWxzKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3VHJpYWxdKTtcbiAgICBzZXRBY3RpdmVUcmlhbElkKG5ld1RyaWFsLmlkKTtcbiAgICBvblVwZGF0ZUluZ3JlZGllbnRzKFtdKTtcbiAgfSwgW3RyaWFsQ291bnRlciwgb25VcGRhdGVJbmdyZWRpZW50c10pO1xuXG4gIGNvbnN0IHN3aXRjaFRyaWFsID0gdXNlQ2FsbGJhY2soXG4gICAgKHRyaWFsSWQ6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKHRyaWFsSWQgIT09IGFjdGl2ZVRyaWFsSWQpIHtcbiAgICAgICAgc2V0QWN0aXZlVHJpYWxJZCh0cmlhbElkKTtcblxuICAgICAgICBjb25zdCBuZXdUcmlhbCA9IHRyaWFscy5maW5kKCh0KSA9PiB0LmlkID09PSB0cmlhbElkKTtcbiAgICAgICAgaWYgKG5ld1RyaWFsKSB7XG4gICAgICAgICAgb25VcGRhdGVJbmdyZWRpZW50cyhuZXdUcmlhbC5pbmdyZWRpZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFthY3RpdmVUcmlhbElkLCB0cmlhbHMsIG9uVXBkYXRlSW5ncmVkaWVudHNdXG4gICk7XG5cbiAgY29uc3QgZGVsZXRlVHJpYWxUYWIgPSB1c2VDYWxsYmFjayhcbiAgICAodHJpYWxJZDogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAodHJpYWxzLmxlbmd0aCA8PSAxKSByZXR1cm47XG4gICAgICBzZXRTaG93RGVsZXRlTW9kYWwodHJpYWxJZCk7XG4gICAgfSxcbiAgICBbdHJpYWxzLmxlbmd0aF1cbiAgKTtcblxuICBjb25zdCBjb25maXJtRGVsZXRlVHJpYWwgPSB1c2VDYWxsYmFjayhcbiAgICAodHJpYWxJZDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCB0cmlhbEluZGV4ID0gdHJpYWxzLmZpbmRJbmRleCgodCkgPT4gdC5pZCA9PT0gdHJpYWxJZCk7XG4gICAgICBjb25zdCBuZXdUcmlhbHMgPSB0cmlhbHMuZmlsdGVyKCh0KSA9PiB0LmlkICE9PSB0cmlhbElkKTtcbiAgICAgIHNldFRyaWFscyhuZXdUcmlhbHMpO1xuXG4gICAgICBpZiAoYWN0aXZlVHJpYWxJZCA9PT0gdHJpYWxJZCkge1xuICAgICAgICBjb25zdCBuZXdBY3RpdmVJbmRleCA9IE1hdGgubWF4KDAsIHRyaWFsSW5kZXggLSAxKTtcbiAgICAgICAgY29uc3QgbmV3QWN0aXZlVHJpYWwgPSBuZXdUcmlhbHNbbmV3QWN0aXZlSW5kZXhdO1xuICAgICAgICBzZXRBY3RpdmVUcmlhbElkKG5ld0FjdGl2ZVRyaWFsLmlkKTtcbiAgICAgICAgb25VcGRhdGVJbmdyZWRpZW50cyhuZXdBY3RpdmVUcmlhbC5pbmdyZWRpZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHNldFNob3dEZWxldGVNb2RhbChudWxsKTtcbiAgICB9LFxuICAgIFt0cmlhbHMsIGFjdGl2ZVRyaWFsSWQsIG9uVXBkYXRlSW5ncmVkaWVudHNdXG4gICk7XG5cbiAgY29uc3QgcmVuYW1lVHJpYWxUYWIgPSB1c2VDYWxsYmFjaygodHJpYWxJZDogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcpID0+IHtcbiAgICBzZXRUcmlhbHMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgodHJpYWwpID0+XG4gICAgICAgIHRyaWFsLmlkID09PSB0cmlhbElkID8geyAuLi50cmlhbCwgbmFtZTogbmV3TmFtZSB9IDogdHJpYWxcbiAgICAgIClcbiAgICApO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlU29ydCA9IHVzZUNhbGxiYWNrKFxuICAgIChjb2x1bW5JZDogc3RyaW5nKSA9PiB7XG4gICAgICBsZXQgZGlyZWN0aW9uOiBcImFzY1wiIHwgXCJkZXNjXCIgPSBcImFzY1wiO1xuICAgICAgaWYgKFxuICAgICAgICBzb3J0Q29uZmlnICYmXG4gICAgICAgIHNvcnRDb25maWcua2V5ID09PSBjb2x1bW5JZCAmJlxuICAgICAgICBzb3J0Q29uZmlnLmRpcmVjdGlvbiA9PT0gXCJhc2NcIlxuICAgICAgKSB7XG4gICAgICAgIGRpcmVjdGlvbiA9IFwiZGVzY1wiO1xuICAgICAgfVxuICAgICAgc2V0U29ydENvbmZpZyh7IGtleTogY29sdW1uSWQsIGRpcmVjdGlvbiB9KTtcbiAgICB9LFxuICAgIFtzb3J0Q29uZmlnXVxuICApO1xuXG4gIGNvbnN0IGhhbmRsZURyYWdFbmQgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgY29uc3QgeyBhY3RpdmUsIG92ZXIgfSA9IGV2ZW50O1xuXG4gICAgICBpZiAoYWN0aXZlLmlkICE9PSBvdmVyLmlkKSB7XG4gICAgICAgIGNvbnN0IG9sZEluZGV4ID0gY3VycmVudEluZ3JlZGllbnRzLmZpbmRJbmRleChcbiAgICAgICAgICAoaXRlbSkgPT4gaXRlbS5pZCA9PT0gYWN0aXZlLmlkXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG5ld0luZGV4ID0gY3VycmVudEluZ3JlZGllbnRzLmZpbmRJbmRleChcbiAgICAgICAgICAoaXRlbSkgPT4gaXRlbS5pZCA9PT0gb3Zlci5pZFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IG5ld0luZ3JlZGllbnRzID0gYXJyYXlNb3ZlKFxuICAgICAgICAgIGN1cnJlbnRJbmdyZWRpZW50cyxcbiAgICAgICAgICBvbGRJbmRleCxcbiAgICAgICAgICBuZXdJbmRleFxuICAgICAgICApO1xuICAgICAgICBvblVwZGF0ZUluZ3JlZGllbnRzKG5ld0luZ3JlZGllbnRzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtjdXJyZW50SW5ncmVkaWVudHMsIG9uVXBkYXRlSW5ncmVkaWVudHNdXG4gICk7XG5cbiAgLy8gTWVtb2l6ZSBzb3J0ZWQgaW5ncmVkaWVudHNcbiAgY29uc3QgZ2V0U29ydGVkSW5ncmVkaWVudHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXNvcnRDb25maWcpIHJldHVybiBjdXJyZW50SW5ncmVkaWVudHM7XG5cbiAgICBjb25zdCBzb3J0ZWQgPSBbLi4uY3VycmVudEluZ3JlZGllbnRzXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBhVmFsdWUgPSBhW3NvcnRDb25maWcua2V5IGFzIGtleW9mIEluZ3JlZGllbnRdO1xuICAgICAgY29uc3QgYlZhbHVlID0gYltzb3J0Q29uZmlnLmtleSBhcyBrZXlvZiBJbmdyZWRpZW50XTtcblxuICAgICAgaWYgKGFWYWx1ZSA9PT0gbnVsbCB8fCBhVmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIDE7XG4gICAgICBpZiAoYlZhbHVlID09PSBudWxsIHx8IGJWYWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gLTE7XG5cbiAgICAgIGlmICh0eXBlb2YgYVZhbHVlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBiVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHNvcnRDb25maWcuZGlyZWN0aW9uID09PSBcImFzY1wiXG4gICAgICAgICAgPyBhVmFsdWUubG9jYWxlQ29tcGFyZShiVmFsdWUpXG4gICAgICAgICAgOiBiVmFsdWUubG9jYWxlQ29tcGFyZShhVmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGFWYWx1ZSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgYlZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBzb3J0Q29uZmlnLmRpcmVjdGlvbiA9PT0gXCJhc2NcIlxuICAgICAgICAgID8gYVZhbHVlIC0gYlZhbHVlXG4gICAgICAgICAgOiBiVmFsdWUgLSBhVmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAwO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNvcnRlZDtcbiAgfSwgW2N1cnJlbnRJbmdyZWRpZW50cywgc29ydENvbmZpZ10pO1xuXG4gIC8vIE1lbW9pemUgY2FsY3VsYXRpb25zXG4gIGNvbnN0IGNhbGN1bGF0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHRvdGFsSXRlbXMgPSBjdXJyZW50SW5ncmVkaWVudHMubGVuZ3RoO1xuICAgIGNvbnN0IHRvdGFsQ29zdCA9IGN1cnJlbnRJbmdyZWRpZW50cy5yZWR1Y2UoXG4gICAgICAoc3VtLCBpbmdyZWRpZW50KSA9PiBzdW0gKyAoaW5ncmVkaWVudC5jb3N0IHx8IDApLFxuICAgICAgMFxuICAgICk7XG4gICAgY29uc3QgdG90YWxDb25jZW50cmF0aW9uID0gY3VycmVudEluZ3JlZGllbnRzLnJlZHVjZShcbiAgICAgIChzdW0sIGluZ3JlZGllbnQpID0+IHN1bSArIChpbmdyZWRpZW50LmNvbmNlbnRyYXRpb24gfHwgMCksXG4gICAgICAwXG4gICAgKTtcbiAgICBjb25zdCB0b3RhbFF1YW50aXR5ID0gY3VycmVudEluZ3JlZGllbnRzLnJlZHVjZShcbiAgICAgIChzdW0sIGluZ3JlZGllbnQpID0+IHN1bSArIChpbmdyZWRpZW50LnF1YW50aXR5IHx8IDApLFxuICAgICAgMFxuICAgICk7XG5cbiAgICByZXR1cm4geyB0b3RhbEl0ZW1zLCB0b3RhbENvc3QsIHRvdGFsQ29uY2VudHJhdGlvbiwgdG90YWxRdWFudGl0eSB9O1xuICB9LCBbY3VycmVudEluZ3JlZGllbnRzXSk7XG5cbiAgY29uc3QgdmlzaWJsZUNvbHVtbnMgPSB1c2VNZW1vKFxuICAgICgpID0+IGNvbHVtbnMuZmlsdGVyKChjb2wpID0+IGNvbC52aXNpYmxlKSxcbiAgICBbY29sdW1uc11cbiAgKTtcbiAgY29uc3QgbWF4Q29uY2VudHJhdGlvbiA9IGZvcm11bGFDb25maWc/Lm1heENvbmNlbnRyYXRpb24gfHwgMTAwO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtZnVsbCBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICB7LyogVHJpYWxzIFRhYiBCYXIgd2l0aCBOYXZpZ2F0aW9uICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItYiBib3JkZXItZ3JheS0yMDAgYmctd2hpdGUgcm91bmRlZC10LWxnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTQgcHktMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgIHsvKiBMZWZ0IHNjcm9sbCBhcnJvdyAqL31cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17c2Nyb2xsVHJpYWxzTGVmdH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RyaWFsc1Njcm9sbEluZGV4ID09PSAwfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTYgaC02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQgZmxleC1zaHJpbmstMCAke1xuICAgICAgICAgICAgICAgIHRyaWFsc1Njcm9sbEluZGV4ID09PSAwXG4gICAgICAgICAgICAgICAgICA/IFwidGV4dC1ncmF5LTMwMCBjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgICAgOiBcInRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS0xMDBcIlxuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktYXJyb3ctbGVmdC1zLWxpbmUgdGV4dC1zbVwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgey8qIFRyaWFscyB0YWJzIGNvbnRhaW5lciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgtJHtcbiAgICAgICAgICAgICAgICAgICAgdHJpYWxzU2Nyb2xsSW5kZXggKiAoMTAwIC8gdmlzaWJsZVRyaWFsc0NvdW50KVxuICAgICAgICAgICAgICAgICAgfSUpYCxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RyaWFscy5tYXAoKHRyaWFsKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17dHJpYWwuaWR9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiBgY2FsYygkezEwMCAvIHZpc2libGVUcmlhbHNDb3VudH0lIC0gMC4yNXJlbSlgLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJpYWxUYWJcbiAgICAgICAgICAgICAgICAgICAgICB0cmlhbD17dHJpYWx9XG4gICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU9e3RyaWFsLmlkID09PSBhY3RpdmVUcmlhbElkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHN3aXRjaFRyaWFsKHRyaWFsLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZT17KCkgPT4gZGVsZXRlVHJpYWxUYWIodHJpYWwuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uUmVuYW1lPXsobmV3TmFtZSkgPT4gcmVuYW1lVHJpYWxUYWIodHJpYWwuaWQsIG5ld05hbWUpfVxuICAgICAgICAgICAgICAgICAgICAgIGNhbkRlbGV0ZT17dHJpYWxzLmxlbmd0aCA+IDF9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIFJpZ2h0IHNjcm9sbCBhcnJvdyAqL31cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17c2Nyb2xsVHJpYWxzUmlnaHR9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0cmlhbHNTY3JvbGxJbmRleCA+PSBtYXhUcmlhbHNTY3JvbGxJbmRleH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy02IGgtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkIGZsZXgtc2hyaW5rLTAgJHtcbiAgICAgICAgICAgICAgICB0cmlhbHNTY3JvbGxJbmRleCA+PSBtYXhUcmlhbHNTY3JvbGxJbmRleFxuICAgICAgICAgICAgICAgICAgPyBcInRleHQtZ3JheS0zMDAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICAgIDogXCJ0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktMTAwXCJcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cInJpLWFycm93LXJpZ2h0LXMtbGluZSB0ZXh0LXNtXCIgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICB7LyogQWRkIHRyaWFsIGJ1dHRvbiAqL31cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17YWRkTmV3VHJpYWx9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS01MCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIHdoaXRlc3BhY2Utbm93cmFwIGZsZXgtc2hyaW5rLTAgbWwtMlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cInJpLWFkZC1saW5lXCI+PC9pPlxuICAgICAgICAgICAgICBBZGQgVHJpYWxcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTWFpbiBDYW52YXMgQ29udGVudCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIGxnOnAtNCBiZy13aGl0ZSBib3JkZXItYiBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGxnOmZsZXgtcm93IGxnOml0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMyBnYXAtNFwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGxnOnRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICBGb3JtdWxhIEJ1aWxkZXJcbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0NvbmZpZ01vZGFsKHRydWUpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcHgtMyBweS0yIHRleHQtZ3JheS02MDAgcm91bmRlZC1sZyB0ZXh0LXNtIGhvdmVyOmJnLWdyYXktMTAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgdGl0bGU9XCJDb25maWd1cmUgVGFibGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJyaS1zZXR0aW5ncy0zLWxpbmVcIj48L2k+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTMgcHktMiB0ZXh0LWdyYXktNjAwIHJvdW5kZWQtbGcgdGV4dC1zbSBob3ZlcjpiZy1ncmF5LTEwMCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJyaS11cGxvYWQtbGluZSBtci0yXCI+PC9pPlxuICAgICAgICAgICAgICBFeHBvcnRcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8VmFsaWRhdGlvblBhbmVsXG4gICAgICAgICAgdmFsaWRhdGlvblJlc3VsdHM9e3ZhbGlkYXRpb25SZXN1bHRzfVxuICAgICAgICAgIHRvdGFsQ29uY2VudHJhdGlvbj17Y2FsY3VsYXRpb25zLnRvdGFsQ29uY2VudHJhdGlvbn1cbiAgICAgICAgICBtYXhDb25jZW50cmF0aW9uPXttYXhDb25jZW50cmF0aW9ufVxuICAgICAgICAvPlxuXG4gICAgICAgIDxDdXBQcm9ncmVzc1xuICAgICAgICAgIHRvdGFsSW5ncmVkaWVudHM9e2NhbGN1bGF0aW9ucy50b3RhbEl0ZW1zfVxuICAgICAgICAgIHRvdGFsQ29uY2VudHJhdGlvbj17Y2FsY3VsYXRpb25zLnRvdGFsQ29uY2VudHJhdGlvbn1cbiAgICAgICAgICB0b3RhbFF1YW50aXR5PXtjYWxjdWxhdGlvbnMudG90YWxRdWFudGl0eX1cbiAgICAgICAgICB0b3RhbENvc3Q9e2NhbGN1bGF0aW9ucy50b3RhbENvc3R9XG4gICAgICAgICAgbWF4Q29uY2VudHJhdGlvbj17bWF4Q29uY2VudHJhdGlvbn1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogU2luZ2xlIFRhYmxlIEFyZWEgKi99XG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17c2V0Tm9kZVJlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIG92ZXJmbG93LXktYXV0byB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgIGlzT3ZlciA/IFwiYmctcHVycGxlLTUwIGJvcmRlci1wdXJwbGUtMjAwXCIgOiBcIlwiXG4gICAgICAgIH1gfVxuICAgICAgPlxuICAgICAgICB7Y3VycmVudEluZ3JlZGllbnRzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtNjQgdGV4dC1ncmF5LTQwMCB0ZXh0LWxnIGJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgbS02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cInJpLWZsYXNrLWxpbmUgdGV4dC00eGwgbWItMyBibG9ja1wiPjwvaT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSBtYi0xXCI+RHJvcCBpbmdyZWRpZW50cyBoZXJlPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlN0YXJ0IGJ1aWxkaW5nIHlvdXIgcGVyZnVtZSBmb3JtdWxhPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG9cIj5cbiAgICAgICAgICAgICAgPHRhYmxlXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtc20gbGc6dGV4dC1iYXNlXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtaW5XaWR0aDogXCI4MDBweFwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwiYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgIHt2aXNpYmxlQ29sdW1ucy5tYXAoKGNvbHVtbikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjb2x1bW4uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWxlZnQgcHktMyBweC0yIGxnOnB4LTQgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBiZy1ncmF5LTUwIHN0aWNreSB0b3AtMCBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogY29sdW1uLndpZHRoIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4udHlwZSAhPT0gXCJhY3Rpb25zXCIgJiYgaGFuZGxlU29ydChjb2x1bW4uaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29sdW1uLmhlYWRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbHVtbi50eXBlICE9PSBcImFjdGlvbnNcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRDb25maWc/LmtleSA9PT0gY29sdW1uLmlkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJpLWFycm93LSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydENvbmZpZy5kaXJlY3Rpb24gPT09IFwiYXNjXCIgPyBcInVwXCIgOiBcImRvd25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LXMtbGluZSB0ZXh0LXhzYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgIDxTb3J0YWJsZUNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM9e2dldFNvcnRlZEluZ3JlZGllbnRzLm1hcCgoaSkgPT4gaS5pZCl9XG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5PXt2ZXJ0aWNhbExpc3RTb3J0aW5nU3RyYXRlZ3l9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtnZXRTb3J0ZWRJbmdyZWRpZW50cy5tYXAoKGluZ3JlZGllbnQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8U29ydGFibGVJbmdyZWRpZW50Um93XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZ3JlZGllbnQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmdyZWRpZW50PXtpbmdyZWRpZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25SZW1vdmVJbmdyZWRpZW50PXtvblJlbW92ZUluZ3JlZGllbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZUluZ3JlZGllbnQ9e29uVXBkYXRlSW5ncmVkaWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0PXt2YWxpZGF0aW9uUmVzdWx0c1tpbmdyZWRpZW50LmlkXX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvU29ydGFibGVDb250ZXh0PlxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7c2hvd0NvbmZpZ01vZGFsICYmIChcbiAgICAgICAgPENvbmZpZ3VyYXRpb25Nb2RhbFxuICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgICAgb25VcGRhdGVDb2x1bW5zPXtzZXRDb2x1bW5zfVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dDb25maWdNb2RhbChmYWxzZSl9XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICB7c2hvd0RlbGV0ZU1vZGFsICYmIChcbiAgICAgICAgPERlbGV0ZUNvbmZpcm1hdGlvbk1vZGFsXG4gICAgICAgICAgdHJpYWxOYW1lPXt0cmlhbHMuZmluZCgodCkgPT4gdC5pZCA9PT0gc2hvd0RlbGV0ZU1vZGFsKT8ubmFtZSB8fCBcIlwifVxuICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4gY29uZmlybURlbGV0ZVRyaWFsKHNob3dEZWxldGVNb2RhbCl9XG4gICAgICAgICAgb25DYW5jZWw9eygpID0+IHNldFNob3dEZWxldGVNb2RhbChudWxsKX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIERyYWdnYWJsZUluZ3JlZGllbnRSb3coe1xuICBpbmdyZWRpZW50LFxuICBvblJlbW92ZUluZ3JlZGllbnQsXG4gIG9uVXBkYXRlSW5ncmVkaWVudCxcbiAgY29sdW1ucyxcbiAgdmFsaWRhdGlvblJlc3VsdCxcbn06IERyYWdnYWJsZUluZ3JlZGllbnRSb3dQcm9wcykge1xuICBjb25zdCBbc2hvd0RldGFpbFBvcHVwLCBzZXRTaG93RGV0YWlsUG9wdXBdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IGF0dHJpYnV0ZXMsIGxpc3RlbmVycywgc2V0Tm9kZVJlZiwgdHJhbnNmb3JtLCBpc0RyYWdnaW5nIH0gPVxuICAgIHVzZURyYWdnYWJsZSh7XG4gICAgICBpZDogaW5ncmVkaWVudC5pZCxcbiAgICAgIGRhdGE6IHsgaW5ncmVkaWVudCB9LFxuICAgIH0pO1xuXG4gIGNvbnN0IHN0eWxlID0gdHJhbnNmb3JtXG4gICAgPyB7XG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7dHJhbnNmb3JtLnh9cHgsICR7dHJhbnNmb3JtLnl9cHgsIDApYCxcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIiBhcyBjb25zdCxcbiAgICAgICAgekluZGV4OiAxMDAwLFxuICAgICAgfVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHZpc2libGVDb2x1bW5zID0gY29sdW1ucy5maWx0ZXIoKGNvbCkgPT4gY29sLnZpc2libGUpO1xuICBjb25zdCBoYXNFcnJvcnMgPSB2YWxpZGF0aW9uUmVzdWx0ICYmICF2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWQ7XG5cbiAgY29uc3QgcmVuZGVyQ2VsbCA9IChjb2x1bW46IENvbHVtbkNvbmZpZykgPT4ge1xuICAgIHN3aXRjaCAoY29sdW1uLmlkKSB7XG4gICAgICBjYXNlIFwibmFtZVwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHsuLi5saXN0ZW5lcnN9XG4gICAgICAgICAgICAgIHsuLi5hdHRyaWJ1dGVzfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQgaC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1ncmFiIGhvdmVyOnRleHQtZ3JheS03MDAgdGV4dC1ncmF5LTQwMCBmbGV4LXNocmluay0wXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktZHJhZ2dhYmxlXCI+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIHRleHQtc20gdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICB7aW5ncmVkaWVudC5uYW1lfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHtoYXNFcnJvcnMgJiYgKFxuICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyaS1lcnJvci13YXJuaW5nLWxpbmUgdGV4dC1yZWQtNTAwIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgdGl0bGU9e3ZhbGlkYXRpb25SZXN1bHQ/LmVycm9ycy5qb2luKFwiLCBcIil9XG4gICAgICAgICAgICAgICAgPjwvaT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgY2FzZSBcImNhc1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAge2luZ3JlZGllbnQuY2FzTm8gfHwgXCJOL0FcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiY29uY2VudHJhdGlvblwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxJbmxpbmVFZGl0Q2VsbFxuICAgICAgICAgICAgdmFsdWU9e2luZ3JlZGllbnQuY29uY2VudHJhdGlvbiB8fCAwfVxuICAgICAgICAgICAgdHlwZT1cImNvbmNlbnRyYXRpb25cIlxuICAgICAgICAgICAgb25VcGRhdGU9eyh2YWx1ZSkgPT5cbiAgICAgICAgICAgICAgb25VcGRhdGVJbmdyZWRpZW50KGluZ3JlZGllbnQuaWQsIHsgY29uY2VudHJhdGlvbjogdmFsdWUgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhc0Vycm9yPXtoYXNFcnJvcnN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJxdWFudGl0eVwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxJbmxpbmVFZGl0Q2VsbFxuICAgICAgICAgICAgdmFsdWU9e2luZ3JlZGllbnQucXVhbnRpdHkgfHwgMH1cbiAgICAgICAgICAgIHR5cGU9XCJxdWFudGl0eVwiXG4gICAgICAgICAgICBvblVwZGF0ZT17KHZhbHVlKSA9PlxuICAgICAgICAgICAgICBvblVwZGF0ZUluZ3JlZGllbnQoaW5ncmVkaWVudC5pZCwgeyBxdWFudGl0eTogdmFsdWUgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcImNvc3RcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+JHtpbmdyZWRpZW50LmNvc3QgfHwgMH08L3NwYW4+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiY2F0ZWdvcnlcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgIHtpbmdyZWRpZW50LmNhdGVnb3J5IHx8IFwiTi9BXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcInN1YmNhdGVnb3J5XCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIHRydW5jYXRlXCI+XG4gICAgICAgICAgICB7aW5ncmVkaWVudC5zdWJjYXRlZ29yeSB8fCBcIk4vQVwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJpbnRlbnNpdHlcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgIHtpbmdyZWRpZW50LmludGVuc2l0eSB8fCBcIk4vQVwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJsb25nZXZpdHlcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgIHtpbmdyZWRpZW50Lmxvbmdldml0eSB8fCBcIk4vQVwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJpZnJhXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIHRydW5jYXRlXCI+XG4gICAgICAgICAgICB7aW5ncmVkaWVudC5pZnJhQ2F0ZWdvcnkgfHwgXCJOL0FcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiYWxsZXJnZW5cIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC14cyB0cnVuY2F0ZSAke1xuICAgICAgICAgICAgICBpbmdyZWRpZW50LmFsbGVyZ2VuaWNpdHkgPyBcInRleHQtcmVkLTYwMFwiIDogXCJ0ZXh0LWdyZWVuLTYwMFwiXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aW5ncmVkaWVudC5hbGxlcmdlbmljaXR5ID8gXCJZZXNcIiA6IFwiTm9cIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiYWN0aW9uc1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dEZXRhaWxQb3B1cCh0cnVlKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy02IGgtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNTAgcm91bmRlZFwiXG4gICAgICAgICAgICAgIHRpdGxlPVwiVmlldyBEZXRhaWxzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktaW5mb3JtYXRpb24tbGluZVwiPjwvaT5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblJlbW92ZUluZ3JlZGllbnQoaW5ncmVkaWVudC5pZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNiBoLTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1yZWQtNTAwIGhvdmVyOmJnLXJlZC01MCByb3VuZGVkXCJcbiAgICAgICAgICAgICAgdGl0bGU9XCJSZW1vdmVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJyaS1kZWxldGUtYmluLWxpbmVcIj48L2k+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj4tPC9zcGFuPjtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPHRyXG4gICAgICAgIHJlZj17c2V0Tm9kZVJlZn1cbiAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICBjbGFzc05hbWU9e2Bib3JkZXItYiBib3JkZXItZ3JheS0xMDAgaG92ZXI6YmctZ3JheS01MCAke1xuICAgICAgICAgIGlzRHJhZ2dpbmcgPyBcIm9wYWNpdHktNTBcIiA6IFwiXCJcbiAgICAgICAgfSAke2hhc0Vycm9ycyA/IFwiYmctcmVkLTUwXCIgOiBcIlwifWB9XG4gICAgICA+XG4gICAgICAgIHt2aXNpYmxlQ29sdW1ucy5tYXAoKGNvbHVtbikgPT4gKFxuICAgICAgICAgIDx0ZFxuICAgICAgICAgICAga2V5PXtjb2x1bW4uaWR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIGxnOnB4LTMgcHktMyBsZzpweS00XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBjb2x1bW4ud2lkdGggfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cmVuZGVyQ2VsbChjb2x1bW4pfVxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICkpfVxuICAgICAgPC90cj5cblxuICAgICAge3Nob3dEZXRhaWxQb3B1cCAmJiAoXG4gICAgICAgIDxJbmdyZWRpZW50RGV0YWlsUG9wdXBcbiAgICAgICAgICBpbmdyZWRpZW50PXtpbmdyZWRpZW50fVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dEZXRhaWxQb3B1cChmYWxzZSl9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvPlxuICApO1xufVxuXG5mdW5jdGlvbiBTb3J0YWJsZUluZ3JlZGllbnRSb3coe1xuICBpbmdyZWRpZW50LFxuICBvblJlbW92ZUluZ3JlZGllbnQsXG4gIG9uVXBkYXRlSW5ncmVkaWVudCxcbiAgY29sdW1ucyxcbiAgdmFsaWRhdGlvblJlc3VsdCxcbn06IFNvcnRhYmxlSW5ncmVkaWVudFJvd1Byb3BzKSB7XG4gIGNvbnN0IFtzaG93RGV0YWlsUG9wdXAsIHNldFNob3dEZXRhaWxQb3B1cF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHtcbiAgICBhdHRyaWJ1dGVzLFxuICAgIGxpc3RlbmVycyxcbiAgICBzZXROb2RlUmVmLFxuICAgIHRyYW5zZm9ybSxcbiAgICB0cmFuc2l0aW9uLFxuICAgIGlzRHJhZ2dpbmcsXG4gIH0gPSB1c2VTb3J0YWJsZSh7XG4gICAgaWQ6IGluZ3JlZGllbnQuaWQsXG4gIH0pO1xuXG4gIGNvbnN0IHN0eWxlID0ge1xuICAgIHRyYW5zZm9ybTogQ1NTLlRyYW5zZm9ybS50b1N0cmluZyh0cmFuc2Zvcm0pLFxuICAgIHRyYW5zaXRpb24sXG4gICAgekluZGV4OiBpc0RyYWdnaW5nID8gMTAwMCA6IFwiYXV0b1wiLFxuICB9O1xuXG4gIGNvbnN0IHZpc2libGVDb2x1bW5zID0gY29sdW1ucy5maWx0ZXIoKGNvbCkgPT4gY29sLnZpc2libGUpO1xuICBjb25zdCBoYXNFcnJvcnMgPSB2YWxpZGF0aW9uUmVzdWx0ICYmICF2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWQ7XG5cbiAgY29uc3QgcmVuZGVyQ2VsbCA9IChjb2x1bW46IENvbHVtbkNvbmZpZykgPT4ge1xuICAgIHN3aXRjaCAoY29sdW1uLmlkKSB7XG4gICAgICBjYXNlIFwibmFtZVwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHsuLi5saXN0ZW5lcnN9XG4gICAgICAgICAgICAgIHsuLi5hdHRyaWJ1dGVzfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQgaC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1ncmFiIGhvdmVyOnRleHQtZ3JheS03MDAgdGV4dC1ncmF5LTQwMCBmbGV4LXNocmluay0wXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktZHJhZ2dhYmxlXCI+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIHRleHQtc20gdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICB7aW5ncmVkaWVudC5uYW1lfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHtoYXNFcnJvcnMgJiYgKFxuICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyaS1lcnJvci13YXJuaW5nLWxpbmUgdGV4dC1yZWQtNTAwIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgdGl0bGU9e3ZhbGlkYXRpb25SZXN1bHQ/LmVycm9ycy5qb2luKFwiLCBcIil9XG4gICAgICAgICAgICAgICAgPjwvaT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgY2FzZSBcImNhc1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAge2luZ3JlZGllbnQuY2FzTm8gfHwgXCJOL0FcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiY29uY2VudHJhdGlvblwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxJbmxpbmVFZGl0Q2VsbFxuICAgICAgICAgICAgdmFsdWU9e2luZ3JlZGllbnQuY29uY2VudHJhdGlvbiB8fCAwfVxuICAgICAgICAgICAgdHlwZT1cImNvbmNlbnRyYXRpb25cIlxuICAgICAgICAgICAgb25VcGRhdGU9eyh2YWx1ZSkgPT5cbiAgICAgICAgICAgICAgb25VcGRhdGVJbmdyZWRpZW50KGluZ3JlZGllbnQuaWQsIHsgY29uY2VudHJhdGlvbjogdmFsdWUgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhc0Vycm9yPXtoYXNFcnJvcnN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJxdWFudGl0eVwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxJbmxpbmVFZGl0Q2VsbFxuICAgICAgICAgICAgdmFsdWU9e2luZ3JlZGllbnQucXVhbnRpdHkgfHwgMH1cbiAgICAgICAgICAgIHR5cGU9XCJxdWFudGl0eVwiXG4gICAgICAgICAgICBvblVwZGF0ZT17KHZhbHVlKSA9PlxuICAgICAgICAgICAgICBvblVwZGF0ZUluZ3JlZGllbnQoaW5ncmVkaWVudC5pZCwgeyBxdWFudGl0eTogdmFsdWUgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcImNvc3RcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+JHtpbmdyZWRpZW50LmNvc3QgfHwgMH08L3NwYW4+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiY2F0ZWdvcnlcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgIHtpbmdyZWRpZW50LmNhdGVnb3J5IHx8IFwiTi9BXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcInN1YmNhdGVnb3J5XCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIHRydW5jYXRlXCI+XG4gICAgICAgICAgICB7aW5ncmVkaWVudC5zdWJjYXRlZ29yeSB8fCBcIk4vQVwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJpbnRlbnNpdHlcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgIHtpbmdyZWRpZW50LmludGVuc2l0eSB8fCBcIk4vQVwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJsb25nZXZpdHlcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgIHtpbmdyZWRpZW50Lmxvbmdldml0eSB8fCBcIk4vQVwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJpZnJhXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIHRydW5jYXRlXCI+XG4gICAgICAgICAgICB7aW5ncmVkaWVudC5pZnJhQ2F0ZWdvcnkgfHwgXCJOL0FcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiYWxsZXJnZW5cIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC14cyB0cnVuY2F0ZSAke1xuICAgICAgICAgICAgICBpbmdyZWRpZW50LmFsbGVyZ2VuaWNpdHkgPyBcInRleHQtcmVkLTYwMFwiIDogXCJ0ZXh0LWdyZWVuLTYwMFwiXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aW5ncmVkaWVudC5hbGxlcmdlbmljaXR5ID8gXCJZZXNcIiA6IFwiTm9cIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiYWN0aW9uc1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dEZXRhaWxQb3B1cCh0cnVlKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy02IGgtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNTAgcm91bmRlZFwiXG4gICAgICAgICAgICAgIHRpdGxlPVwiVmlldyBEZXRhaWxzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktaW5mb3JtYXRpb24tbGluZVwiPjwvaT5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblJlbW92ZUluZ3JlZGllbnQoaW5ncmVkaWVudC5pZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNiBoLTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1yZWQtNTAwIGhvdmVyOmJnLXJlZC01MCByb3VuZGVkXCJcbiAgICAgICAgICAgICAgdGl0bGU9XCJSZW1vdmVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJyaS1kZWxldGUtYmluLWxpbmVcIj48L2k+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj4tPC9zcGFuPjtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPHRyXG4gICAgICAgIHJlZj17c2V0Tm9kZVJlZn1cbiAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICBjbGFzc05hbWU9e2Bib3JkZXItYiBib3JkZXItZ3JheS0xMDAgaG92ZXI6YmctZ3JheS01MCAke1xuICAgICAgICAgIGlzRHJhZ2dpbmcgPyBcIm9wYWNpdHktNTBcIiA6IFwiXCJcbiAgICAgICAgfSAke2hhc0Vycm9ycyA/IFwiYmctcmVkLTUwXCIgOiBcIlwifWB9XG4gICAgICA+XG4gICAgICAgIHt2aXNpYmxlQ29sdW1ucy5tYXAoKGNvbHVtbikgPT4gKFxuICAgICAgICAgIDx0ZFxuICAgICAgICAgICAga2V5PXtjb2x1bW4uaWR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIGxnOnB4LTMgcHktMyBsZzpweS00XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBjb2x1bW4ud2lkdGggfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cmVuZGVyQ2VsbChjb2x1bW4pfVxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICkpfVxuICAgICAgPC90cj5cblxuICAgICAge3Nob3dEZXRhaWxQb3B1cCAmJiAoXG4gICAgICAgIDxJbmdyZWRpZW50RGV0YWlsUG9wdXBcbiAgICAgICAgICBpbmdyZWRpZW50PXtpbmdyZWRpZW50fVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dEZXRhaWxQb3B1cChmYWxzZSl9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvPlxuICApO1xufVxuXG5mdW5jdGlvbiBJbmxpbmVFZGl0Q2VsbCh7XG4gIHZhbHVlLFxuICB0eXBlLFxuICBvblVwZGF0ZSxcbiAgaGFzRXJyb3IsXG59OiBJbmxpbmVFZGl0Q2VsbFByb3BzKSB7XG4gIGNvbnN0IFtpc0VkaXRpbmcsIHNldElzRWRpdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0VmFsdWUsIHNldEVkaXRWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSk7XG5cbiAgY29uc3QgaGFuZGxlU2F2ZSA9ICgpID0+IHtcbiAgICBvblVwZGF0ZShlZGl0VmFsdWUpO1xuICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xuICAgIHNldEVkaXRWYWx1ZSh2YWx1ZSk7XG4gICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVLZXlQcmVzcyA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgIGhhbmRsZVNhdmUoKTtcbiAgICB9IGVsc2UgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICBoYW5kbGVDYW5jZWwoKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKGlzRWRpdGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICB2YWx1ZT17ZWRpdFZhbHVlfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RWRpdFZhbHVlKE51bWJlcihlLnRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxuICAgICAgICAgIGNsYXNzTmFtZT17YHctMTYgcHgtMiBweS0xIGJvcmRlciByb3VuZGVkIHRleHQtc20gJHtcbiAgICAgICAgICAgIGhhc0Vycm9yID8gXCJib3JkZXItcmVkLTMwMFwiIDogXCJib3JkZXItZ3JheS0zMDBcIlxuICAgICAgICAgIH1gfVxuICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgIG1heD17dHlwZSA9PT0gXCJjb25jZW50cmF0aW9uXCIgPyBcIjEwMFwiIDogdW5kZWZpbmVkfVxuICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAvPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LTUgaC01IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTUwIHJvdW5kZWRcIlxuICAgICAgICA+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktY2hlY2stbGluZSB0ZXh0LXhzXCI+PC9pPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNhbmNlbH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LTUgaC01IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JheS00MDAgaG92ZXI6YmctZ3JheS01MCByb3VuZGVkXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cInJpLWNsb3NlLWxpbmUgdGV4dC14c1wiPjwvaT5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS01MCBweC0yIHB5LTEgcm91bmRlZCAke1xuICAgICAgICBoYXNFcnJvciA/IFwidGV4dC1yZWQtNjAwXCIgOiBcIlwiXG4gICAgICB9YH1cbiAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRWRpdGluZyh0cnVlKX1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XG4gICAgICAgIHt2YWx1ZX1cbiAgICAgICAge3R5cGUgPT09IFwiY29uY2VudHJhdGlvblwiID8gXCIlXCIgOiBcIiBtbFwifVxuICAgICAgPC9zcGFuPlxuICAgICAgPGkgY2xhc3NOYW1lPVwicmktZWRpdC1saW5lIHRleHQteHMgdGV4dC1ncmF5LTQwMFwiPjwvaT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIENvbmZpZ3VyYXRpb25Nb2RhbFByb3BzIHtcbiAgY29sdW1uczogQ29sdW1uQ29uZmlnW107XG4gIG9uVXBkYXRlQ29sdW1uczogKGNvbHVtbnM6IENvbHVtbkNvbmZpZ1tdKSA9PiB2b2lkO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xufVxuXG5mdW5jdGlvbiBDb25maWd1cmF0aW9uTW9kYWwoe1xuICBjb2x1bW5zLFxuICBvblVwZGF0ZUNvbHVtbnMsXG4gIG9uQ2xvc2UsXG59OiBDb25maWd1cmF0aW9uTW9kYWxQcm9wcykge1xuICBjb25zdCBbdGVtcENvbHVtbnMsIHNldFRlbXBDb2x1bW5zXSA9IHVzZVN0YXRlPENvbHVtbkNvbmZpZ1tdPihjb2x1bW5zKTtcblxuICBjb25zdCB0b2dnbGVDb2x1bW4gPSAoY29sdW1uSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFRlbXBDb2x1bW5zKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKGNvbCkgPT5cbiAgICAgICAgY29sLmlkID09PSBjb2x1bW5JZCA/IHsgLi4uY29sLCB2aXNpYmxlOiAhY29sLnZpc2libGUgfSA6IGNvbFxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlQ29sdW1uSGVhZGVyID0gKGNvbHVtbklkOiBzdHJpbmcsIGhlYWRlcjogc3RyaW5nKSA9PiB7XG4gICAgc2V0VGVtcENvbHVtbnMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgoY29sKSA9PiAoY29sLmlkID09PSBjb2x1bW5JZCA/IHsgLi4uY29sLCBoZWFkZXIgfSA6IGNvbCkpXG4gICAgKTtcbiAgfTtcblxuICBjb25zdCByZW9yZGVyQ29sdW1uID0gKGZyb21JbmRleDogbnVtYmVyLCB0b0luZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBuZXdDb2x1bW5zID0gWy4uLnRlbXBDb2x1bW5zXTtcbiAgICBjb25zdCBbbW92ZWRdID0gbmV3Q29sdW1ucy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICBuZXdDb2x1bW5zLnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgc2V0VGVtcENvbHVtbnMobmV3Q29sdW1ucyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2F2ZSA9ICgpID0+IHtcbiAgICBvblVwZGF0ZUNvbHVtbnModGVtcENvbHVtbnMpO1xuICAgIG9uQ2xvc2UoKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotNTAgcC00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgbWF4LXctM3hsIHctZnVsbCBtYXgtaC1bODV2aF0gb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgIENvbHVtbiBDb25maWd1cmF0aW9uXG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy04IGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS0xMDAgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktY2xvc2UtbGluZVwiPjwvaT5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgbWF4LWgtWzYwdmhdIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG1iLTRcIj5cbiAgICAgICAgICAgIENvbmZpZ3VyZSB3aGljaCBjb2x1bW5zIGFwcGVhciBpbiB0aGUgaW5ncmVkaWVudCB0YWJsZS4gUmVvcmRlclxuICAgICAgICAgICAgY29sdW1ucyB1c2luZyB0aGUgYXJyb3cgYnV0dG9ucyBhbmQgdG9nZ2xlIHZpc2liaWxpdHkgd2l0aFxuICAgICAgICAgICAgY2hlY2tib3hlcy5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAge3RlbXBDb2x1bW5zLm1hcCgoY29sdW1uLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtjb2x1bW4uaWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtM1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPiAwICYmIHJlb3JkZXJDb2x1bW4oaW5kZXgsIGluZGV4IC0gMSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2luZGV4ID09PSAwfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctNiBoLTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcInRleHQtZ3JheS0zMDAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcInRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS0xMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktYXJyb3ctdXAtcy1saW5lXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA8IHRlbXBDb2x1bW5zLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlb3JkZXJDb2x1bW4oaW5kZXgsIGluZGV4ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2luZGV4ID09PSB0ZW1wQ29sdW1ucy5sZW5ndGggLSAxfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctNiBoLTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPT09IHRlbXBDb2x1bW5zLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcInRleHQtZ3JheS0zMDAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcInRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS0xMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktYXJyb3ctZG93bi1zLWxpbmVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjb2x1bW4udmlzaWJsZX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gdG9nZ2xlQ29sdW1uKGNvbHVtbi5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXItMlwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBWaXNpYmxlXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjb2x1bW4uaGVhZGVyfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbHVtbkhlYWRlcihjb2x1bW4uaWQsIGUudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ29sdW1uIEhlYWRlclwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgdy0xNiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICB7Y29sdW1uLnR5cGV9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGZsZXgganVzdGlmeS1lbmQgZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS0xMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFNhdmUgQ2hhbmdlc1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5pbnRlcmZhY2UgVmFsaWRhdGlvblBhbmVsUHJvcHMge1xuICB2YWxpZGF0aW9uUmVzdWx0czogUmVjb3JkPHN0cmluZywgVmFsaWRhdGlvblJlc3VsdD47XG4gIHRvdGFsQ29uY2VudHJhdGlvbjogbnVtYmVyO1xuICBtYXhDb25jZW50cmF0aW9uOiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIFZhbGlkYXRpb25QYW5lbCh7XG4gIHZhbGlkYXRpb25SZXN1bHRzLFxuICB0b3RhbENvbmNlbnRyYXRpb24sXG4gIG1heENvbmNlbnRyYXRpb24sXG59OiBWYWxpZGF0aW9uUGFuZWxQcm9wcykge1xuICBjb25zdCBhbGxFcnJvcnMgPSBPYmplY3QudmFsdWVzKHZhbGlkYXRpb25SZXN1bHRzKS5mbGF0TWFwKFxuICAgIChyZXN1bHQpID0+IHJlc3VsdC5lcnJvcnNcbiAgKTtcbiAgY29uc3QgYWxsV2FybmluZ3MgPSBPYmplY3QudmFsdWVzKHZhbGlkYXRpb25SZXN1bHRzKS5mbGF0TWFwKFxuICAgIChyZXN1bHQpID0+IHJlc3VsdC53YXJuaW5nc1xuICApO1xuICBjb25zdCBpc092ZXJMaW1pdCA9IHRvdGFsQ29uY2VudHJhdGlvbiA+IG1heENvbmNlbnRyYXRpb247XG5cbiAgaWYgKGFsbEVycm9ycy5sZW5ndGggPT09IDAgJiYgYWxsV2FybmluZ3MubGVuZ3RoID09PSAwICYmICFpc092ZXJMaW1pdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC0zIGJnLXllbGxvdy01MCBib3JkZXIgYm9yZGVyLXllbGxvdy0yMDAgcm91bmRlZC1sZ1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yXCI+XG4gICAgICAgIDxpIGNsYXNzTmFtZT1cInJpLWFsZXJ0LWxpbmUgdGV4dC15ZWxsb3ctNjAwIG10LTAuNVwiPjwvaT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXllbGxvdy04MDAgbWItMlwiPlxuICAgICAgICAgICAgVmFsaWRhdGlvbiBJc3N1ZXNcbiAgICAgICAgICA8L2g0PlxuICAgICAgICAgIHtpc092ZXJMaW1pdCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNjAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgVG90YWwgY29uY2VudHJhdGlvbiAoe3RvdGFsQ29uY2VudHJhdGlvbi50b0ZpeGVkKDEpfSUpIGV4Y2VlZHNcbiAgICAgICAgICAgICAgbWF4aW11bSBhbGxvd2VkICh7bWF4Q29uY2VudHJhdGlvbn0lKVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7YWxsRXJyb3JzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXJlZC02MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgIEVycm9yczpcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTYwMCBsaXN0LWRpc2MgbGlzdC1pbnNpZGVcIj5cbiAgICAgICAgICAgICAgICB7YWxsRXJyb3JzLm1hcCgoZXJyb3IsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0+e2Vycm9yfTwvbGk+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHthbGxXYXJuaW5ncy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXllbGxvdy02MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgIFdhcm5pbmdzOlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC15ZWxsb3ctNjAwIGxpc3QtZGlzYyBsaXN0LWluc2lkZVwiPlxuICAgICAgICAgICAgICAgIHthbGxXYXJuaW5ncy5tYXAoKHdhcm5pbmcsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0+e3dhcm5pbmd9PC9saT5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZU1lbW8iLCJ1c2VEcm9wcGFibGUiLCJ1c2VEcmFnZ2FibGUiLCJhcnJheU1vdmUiLCJTb3J0YWJsZUNvbnRleHQiLCJ2ZXJ0aWNhbExpc3RTb3J0aW5nU3RyYXRlZ3kiLCJ1c2VTb3J0YWJsZSIsIkNTUyIsIkluZ3JlZGllbnREZXRhaWxQb3B1cCIsImluZ3JlZGllbnQiLCJvbkNsb3NlIiwiZXhwYW5kZWRTZWN0aW9ucyIsInNldEV4cGFuZGVkU2VjdGlvbnMiLCJTZXQiLCJ0b2dnbGVTZWN0aW9uIiwic2VjdGlvbklkIiwibmV3RXhwYW5kZWQiLCJoYXMiLCJkZWxldGUiLCJhZGQiLCJzZWN0aW9ucyIsImlkIiwidGl0bGUiLCJpY29uIiwiY29udGVudCIsImxhYmVsIiwidmFsdWUiLCJuYW1lIiwiY2FzTm8iLCJjYXRlZ29yeSIsInN1YmNhdGVnb3J5IiwiZGVzY3JpcHRpb24iLCJvbGZhY3RpdmVGYW1pbHkiLCJ0b3BOb3RlIiwiaGVhcnROb3RlIiwiYmFzZU5vdGUiLCJpbnRlbnNpdHkiLCJsb25nZXZpdHkiLCJtb2xlY3VsYXJXZWlnaHQiLCJib2lsaW5nUG9pbnQiLCJmbGFzaFBvaW50Iiwic29sdWJpbGl0eSIsInN0YWJpbGl0eSIsInBIIiwiaWZyYUNhdGVnb3J5IiwiaWZyYVJlc3RyaWN0aW9uIiwiZXVSZWd1bGF0aW9uIiwiZmRhU3RhdHVzIiwiaGFsYWxDZXJ0aWZpZWQiLCJ2ZWdhbiIsInJlY29tbWVuZGVkVXNhZ2UiLCJibGVuZHNXZWxsV2l0aCIsImFwcGxpY2F0aW9uIiwic3RvcmFnZSIsInNoZWxmTGlmZSIsIm9yaWdpbiIsImV4dHJhY3Rpb25NZXRob2QiLCJzdXN0YWluYWJpbGl0eVNjb3JlIiwiY2FyYm9uRm9vdHByaW50IiwiYmlvZGVncmFkYWJpbGl0eSIsImRpdiIsImNsYXNzTmFtZSIsImkiLCJoMiIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwibWFwIiwic2VjdGlvbiIsInNwYW4iLCJpdGVtIiwiaW5kZXgiLCJEZWxldGVDb25maXJtYXRpb25Nb2RhbCIsInRyaWFsTmFtZSIsIm9uQ29uZmlybSIsIm9uQ2FuY2VsIiwiY29uZmlybVRleHQiLCJzZXRDb25maXJtVGV4dCIsImlzQ29uZmlybVZhbGlkIiwiaDMiLCJpbnB1dCIsInR5cGUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIiwiVHJpYWxUYWIiLCJ0cmlhbCIsImlzQWN0aXZlIiwib25EZWxldGUiLCJvblJlbmFtZSIsImNhbkRlbGV0ZSIsImlzRWRpdGluZyIsInNldElzRWRpdGluZyIsImVkaXROYW1lIiwic2V0RWRpdE5hbWUiLCJoYW5kbGVTYXZlTmFtZSIsInRyaW0iLCJoYW5kbGVLZXlQcmVzcyIsImtleSIsIm9uQmx1ciIsIm9uS2V5UHJlc3MiLCJhdXRvRm9jdXMiLCJzdG9wUHJvcGFnYXRpb24iLCJvbkRvdWJsZUNsaWNrIiwiQ3VwUHJvZ3Jlc3MiLCJ0b3RhbEluZ3JlZGllbnRzIiwidG90YWxDb25jZW50cmF0aW9uIiwidG90YWxRdWFudGl0eSIsInRvdGFsQ29zdCIsIm1heENvbmNlbnRyYXRpb24iLCJmaWxsUGVyY2VudGFnZSIsIk1hdGgiLCJtaW4iLCJpc092ZXJmaWxsZWQiLCJib3R0bGVDb2xvciIsInN2ZyIsIndpZHRoIiwiaGVpZ2h0Iiwidmlld0JveCIsInJlY3QiLCJ4IiwieSIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInJ4IiwicGF0aCIsImQiLCJkZWZzIiwiY2xpcFBhdGgiLCJsaW5lYXJHcmFkaWVudCIsIngxIiwieTEiLCJ4MiIsInkyIiwic3RvcCIsIm9mZnNldCIsInN0b3BDb2xvciIsInN0b3BPcGFjaXR5IiwiYW5pbWF0ZSIsImF0dHJpYnV0ZU5hbWUiLCJ2YWx1ZXMiLCJkdXIiLCJyZXBlYXRDb3VudCIsImVsbGlwc2UiLCJjeCIsImN5IiwicnkiLCJvcGFjaXR5IiwidGV4dCIsInRleHRBbmNob3IiLCJkb21pbmFudEJhc2VsaW5lIiwiZm9udFNpemUiLCJmb250V2VpZ2h0Iiwic3R5bGUiLCJ0ZXh0U2hhZG93IiwidG9GaXhlZCIsImNpcmNsZSIsInIiLCJiZWdpbiIsIkZvcm11bGFDYW52YXMiLCJpbmdyZWRpZW50cyIsIm9uQWRkSW5ncmVkaWVudCIsIm9uUmVtb3ZlSW5ncmVkaWVudCIsIm9uVXBkYXRlSW5ncmVkaWVudCIsIm9uVXBkYXRlSW5ncmVkaWVudHMiLCJ0cmlhbHMiLCJzaG93Q29uZmlnTW9kYWwiLCJzZXRTaG93Q29uZmlnTW9kYWwiLCJzaG93RGVsZXRlTW9kYWwiLCJzZXRTaG93RGVsZXRlTW9kYWwiLCJ0cmlhbENvdW50ZXIiLCJzZXRUcmlhbENvdW50ZXIiLCJzZXRUcmlhbHMiLCJjcmVhdGVkQXQiLCJEYXRlIiwiYWN0aXZlVHJpYWxJZCIsInNldEFjdGl2ZVRyaWFsSWQiLCJjb2x1bW5zIiwic2V0Q29sdW1ucyIsImZvcm11bGFDb25maWciLCJzZXRGb3JtdWxhQ29uZmlnIiwidmFsaWRhdGlvblJlc3VsdHMiLCJzZXRWYWxpZGF0aW9uUmVzdWx0cyIsInNvcnRDb25maWciLCJzZXRTb3J0Q29uZmlnIiwidHJpYWxzU2Nyb2xsSW5kZXgiLCJzZXRUcmlhbHNTY3JvbGxJbmRleCIsInNldE5vZGVSZWYiLCJpc092ZXIiLCJhY3RpdmVUcmlhbCIsImZpbmQiLCJ0IiwiY3VycmVudEluZ3JlZGllbnRzIiwiaXNNb3VudGVkIiwibG9hZENvbmZpZyIsImNvbHVtbkNvbmZpZyIsImZvcm11bGFDb25maWdEYXRhIiwiUHJvbWlzZSIsImFsbCIsImRlZmF1bHRDb2x1bW5zIiwiZXJyb3IiLCJjb25zb2xlIiwiaGVhZGVyIiwidmlzaWJsZSIsInJlZ3VsYXRpb25zIiwiaWZyYUNhdGVnb3JpZXMiLCJhbGxlcmdlbnMiLCJyZXF1aXJlZCIsImRlY2xhcmF0aW9uVGhyZXNob2xkIiwidmFsaWRhdGlvbnMiLCJjb25jZW50cmF0aW9uTGltaXRzIiwiaW5kaXZpZHVhbCIsIm1heCIsInRvdGFsIiwicXVhbnRpdHlMaW1pdHMiLCJpbmdyZWRpZW50c0VxdWFsIiwiYXJyMSIsImFycjIiLCJsZW5ndGgiLCJldmVyeSIsImluZyIsIm90aGVyIiwiY29uY2VudHJhdGlvbiIsInF1YW50aXR5IiwicHJldiIsIm1heFRyaWFsTnVtYmVyIiwicmVkdWNlIiwibWF0Y2giLCJwYXJzZUludCIsInZpc2libGVUcmlhbHNDb3VudCIsIm1heFRyaWFsc1Njcm9sbEluZGV4Iiwic2Nyb2xsVHJpYWxzTGVmdCIsInNjcm9sbFRyaWFsc1JpZ2h0IiwiYWRkTmV3VHJpYWwiLCJuZXdUcmlhbE51bWJlciIsIm5ld1RyaWFsIiwic3dpdGNoVHJpYWwiLCJ0cmlhbElkIiwiZGVsZXRlVHJpYWxUYWIiLCJjb25maXJtRGVsZXRlVHJpYWwiLCJ0cmlhbEluZGV4IiwiZmluZEluZGV4IiwibmV3VHJpYWxzIiwiZmlsdGVyIiwibmV3QWN0aXZlSW5kZXgiLCJuZXdBY3RpdmVUcmlhbCIsInJlbmFtZVRyaWFsVGFiIiwibmV3TmFtZSIsImhhbmRsZVNvcnQiLCJjb2x1bW5JZCIsImRpcmVjdGlvbiIsImhhbmRsZURyYWdFbmQiLCJldmVudCIsImFjdGl2ZSIsIm92ZXIiLCJvbGRJbmRleCIsIm5ld0luZGV4IiwibmV3SW5ncmVkaWVudHMiLCJnZXRTb3J0ZWRJbmdyZWRpZW50cyIsInNvcnRlZCIsInNvcnQiLCJhIiwiYiIsImFWYWx1ZSIsImJWYWx1ZSIsInVuZGVmaW5lZCIsImxvY2FsZUNvbXBhcmUiLCJjYWxjdWxhdGlvbnMiLCJ0b3RhbEl0ZW1zIiwic3VtIiwiY29zdCIsInZpc2libGVDb2x1bW5zIiwiY29sIiwidHJhbnNmb3JtIiwibWluV2lkdGgiLCJWYWxpZGF0aW9uUGFuZWwiLCJyZWYiLCJ0YWJsZSIsInRoZWFkIiwidHIiLCJjb2x1bW4iLCJ0aCIsInRib2R5IiwiaXRlbXMiLCJzdHJhdGVneSIsIlNvcnRhYmxlSW5ncmVkaWVudFJvdyIsInZhbGlkYXRpb25SZXN1bHQiLCJDb25maWd1cmF0aW9uTW9kYWwiLCJvblVwZGF0ZUNvbHVtbnMiLCJEcmFnZ2FibGVJbmdyZWRpZW50Um93Iiwic2hvd0RldGFpbFBvcHVwIiwic2V0U2hvd0RldGFpbFBvcHVwIiwiYXR0cmlidXRlcyIsImxpc3RlbmVycyIsImlzRHJhZ2dpbmciLCJkYXRhIiwicG9zaXRpb24iLCJ6SW5kZXgiLCJoYXNFcnJvcnMiLCJpc1ZhbGlkIiwicmVuZGVyQ2VsbCIsImVycm9ycyIsImpvaW4iLCJJbmxpbmVFZGl0Q2VsbCIsIm9uVXBkYXRlIiwiaGFzRXJyb3IiLCJhbGxlcmdlbmljaXR5IiwidGQiLCJ0cmFuc2l0aW9uIiwiVHJhbnNmb3JtIiwidG9TdHJpbmciLCJlZGl0VmFsdWUiLCJzZXRFZGl0VmFsdWUiLCJoYW5kbGVTYXZlIiwiaGFuZGxlQ2FuY2VsIiwiTnVtYmVyIiwidGVtcENvbHVtbnMiLCJzZXRUZW1wQ29sdW1ucyIsInRvZ2dsZUNvbHVtbiIsInVwZGF0ZUNvbHVtbkhlYWRlciIsInJlb3JkZXJDb2x1bW4iLCJmcm9tSW5kZXgiLCJ0b0luZGV4IiwibmV3Q29sdW1ucyIsIm1vdmVkIiwic3BsaWNlIiwiY2hlY2tlZCIsImFsbEVycm9ycyIsIk9iamVjdCIsImZsYXRNYXAiLCJyZXN1bHQiLCJhbGxXYXJuaW5ncyIsIndhcm5pbmdzIiwiaXNPdmVyTGltaXQiLCJoNCIsInVsIiwibGkiLCJ3YXJuaW5nIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/FormulaCanvas.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/IngredientsPalette.tsx":
/*!*******************************************!*\
  !*** ./components/IngredientsPalette.tsx ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IngredientsPalette)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/core */ \"(app-pages-browser)/./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nfunction DraggableIngredient(param) {\n    let { ingredient, isDisabled = false } = param;\n    _s();\n    const { attributes, listeners, setNodeRef, transform, isDragging } = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useDraggable)({\n        id: ingredient.id,\n        data: {\n            ingredient\n        },\n        disabled: isDisabled\n    });\n    const style = transform ? {\n        transform: \"translate3d(\".concat(transform.x, \"px, \").concat(transform.y, \"px, 0)\"),\n        zIndex: 1000\n    } : undefined;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: setNodeRef,\n        style: style,\n        ...listeners,\n        ...attributes,\n        className: \"bg-white border border-gray-200 rounded-lg p-3 transition-all \".concat(isDisabled ? 'opacity-50 cursor-not-allowed bg-gray-50' : 'cursor-grab hover:shadow-md', \" \").concat(isDragging ? 'opacity-50' : ''),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-base font-medium text-gray-900\",\n                children: ingredient.name\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                lineNumber: 37,\n                columnNumber: 7\n            }, this),\n            ingredient.casNo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-sm text-gray-500 mt-1\",\n                children: [\n                    \"CAS: \",\n                    ingredient.casNo\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                lineNumber: 39,\n                columnNumber: 9\n            }, this),\n            ingredient.concentration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-sm text-blue-600 mt-1\",\n                children: [\n                    ingredient.concentration,\n                    \"%\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                lineNumber: 42,\n                columnNumber: 9\n            }, this),\n            isDisabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-xs text-orange-600 mt-1 font-medium\",\n                children: \"Already in use\"\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                lineNumber: 45,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n        lineNumber: 26,\n        columnNumber: 5\n    }, this);\n}\n_s(DraggableIngredient, \"uZNJ3/8UzXAvFYh/tqZxqBQOH0I=\", false, function() {\n    return [\n        _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useDraggable\n    ];\n});\n_c = DraggableIngredient;\nfunction IngredientNode(param) {\n    let { ingredient, level, expandedNodes, onToggle, searchTerm, usedIngredientIds } = param;\n    var _ingredient_children;\n    const hasChildren = ingredient.children && ingredient.children.length > 0;\n    const isExpanded = expandedNodes.has(ingredient.id);\n    const isLeaf = ingredient.isLeaf;\n    const isUsed = usedIngredientIds.includes(ingredient.id);\n    // Global search function that searches at all levels\n    const matchesSearch = (ing, term)=>{\n        var _ing_casNo, _ing_category, _ing_subcategory;\n        if (!term) return true;\n        const searchLower = term.toLowerCase();\n        const nameMatch = ing.name.toLowerCase().includes(searchLower);\n        const casMatch = ((_ing_casNo = ing.casNo) === null || _ing_casNo === void 0 ? void 0 : _ing_casNo.toLowerCase().includes(searchLower)) || false;\n        const categoryMatch = ((_ing_category = ing.category) === null || _ing_category === void 0 ? void 0 : _ing_category.toLowerCase().includes(searchLower)) || false;\n        const subcategoryMatch = ((_ing_subcategory = ing.subcategory) === null || _ing_subcategory === void 0 ? void 0 : _ing_subcategory.toLowerCase().includes(searchLower)) || false;\n        return nameMatch || casMatch || categoryMatch || subcategoryMatch;\n    };\n    // Check if this ingredient or any of its children match the search\n    const hasMatchingDescendant = (ing, term)=>{\n        if (matchesSearch(ing, term)) return true;\n        if (ing.children) {\n            return ing.children.some((child)=>hasMatchingDescendant(child, term));\n        }\n        return false;\n    };\n    // Don't render if search doesn't match this node or its descendants\n    if (searchTerm && !hasMatchingDescendant(ingredient, searchTerm)) {\n        return null;\n    }\n    const handleClick = ()=>{\n        if (hasChildren) {\n            onToggle(ingredient.id);\n        }\n    };\n    // Reduced padding based on level\n    const paddingLeft = level * 8;\n    if (isLeaf) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                paddingLeft: paddingLeft + 4\n            },\n            className: \"py-1\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DraggableIngredient, {\n                ingredient: ingredient,\n                isDisabled: isUsed\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                lineNumber: 105,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n            lineNumber: 104,\n            columnNumber: 7\n        }, this);\n    }\n    // Level 1 - Main categories (Floral, Citrus, etc.)\n    if (level === 1) {\n        var _ingredient_children1;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center py-2 px-1 hover:bg-gray-50 cursor-pointer rounded w-full\",\n                    style: {\n                        paddingLeft: \"\".concat(paddingLeft, \"px\")\n                    },\n                    onClick: handleClick,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-3 h-3 flex items-center justify-center mr-1 flex-shrink-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-arrow-\".concat(isExpanded ? 'down' : 'right', \"-s-line text-gray-600 text-sm\")\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 120,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 119,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-20 h-20 mr-3 flex-shrink-0 relative rounded border-2 bg-blue-100 border-blue-300 text-blue-800 flex items-center justify-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-base font-semibold text-center leading-tight px-2 break-words overflow-hidden\",\n                                children: ingredient.name\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 123,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 122,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-gray-700 text-base font-medium flex-1 ml-2 break-words\",\n                            children: ingredient.name\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 127,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                    lineNumber: 114,\n                    columnNumber: 9\n                }, this),\n                hasChildren && isExpanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-1\",\n                    children: (_ingredient_children1 = ingredient.children) === null || _ingredient_children1 === void 0 ? void 0 : _ingredient_children1.map((child)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IngredientNode, {\n                            ingredient: child,\n                            level: level + 1,\n                            expandedNodes: expandedNodes,\n                            onToggle: onToggle,\n                            searchTerm: searchTerm,\n                            usedIngredientIds: usedIngredientIds\n                        }, child.id, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 135,\n                            columnNumber: 15\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                    lineNumber: 133,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n            lineNumber: 113,\n            columnNumber: 7\n        }, this);\n    }\n    // Level 2 - Subcategories (Rose, Jasmine, etc.)\n    if (level === 2) {\n        var _ingredient_children2;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center py-2 px-1 hover:bg-gray-50 cursor-pointer rounded w-full\",\n                    style: {\n                        paddingLeft: \"\".concat(paddingLeft, \"px\")\n                    },\n                    onClick: handleClick,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-3 h-3 flex items-center justify-center mr-1 flex-shrink-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-arrow-\".concat(isExpanded ? 'down' : 'right', \"-s-line text-gray-600 text-sm\")\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 161,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 160,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-16 h-16 mr-3 flex-shrink-0 relative rounded border bg-green-100 border-green-300 text-green-800 flex items-center justify-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm font-medium text-center leading-tight px-2 break-words overflow-hidden\",\n                                children: ingredient.name\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 164,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 163,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-gray-700 text-sm font-medium flex-1 ml-2 break-words\",\n                            children: ingredient.name\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 168,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                    lineNumber: 155,\n                    columnNumber: 9\n                }, this),\n                hasChildren && isExpanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-1\",\n                    children: (_ingredient_children2 = ingredient.children) === null || _ingredient_children2 === void 0 ? void 0 : _ingredient_children2.map((child)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IngredientNode, {\n                            ingredient: child,\n                            level: level + 1,\n                            expandedNodes: expandedNodes,\n                            onToggle: onToggle,\n                            searchTerm: searchTerm,\n                            usedIngredientIds: usedIngredientIds\n                        }, child.id, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 176,\n                            columnNumber: 15\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                    lineNumber: 174,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n            lineNumber: 154,\n            columnNumber: 7\n        }, this);\n    }\n    // Level 3+ - Individual ingredients or further subcategories\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center py-2 px-1 hover:bg-gray-50 cursor-pointer rounded w-full\",\n                style: {\n                    paddingLeft: \"\".concat(paddingLeft, \"px\")\n                },\n                onClick: handleClick,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-3 h-3 flex items-center justify-center mr-1 flex-shrink-0\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"ri-arrow-\".concat(isExpanded ? 'down' : 'right', \"-s-line text-gray-600 text-sm\")\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 201,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                        lineNumber: 200,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full h-16 relative rounded border bg-purple-100 border-purple-300 text-purple-800 flex items-center justify-center p-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-sm font-medium text-center leading-tight break-words overflow-hidden w-full\",\n                            children: ingredient.name\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 204,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                        lineNumber: 203,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                lineNumber: 195,\n                columnNumber: 7\n            }, this),\n            hasChildren && isExpanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-1\",\n                children: (_ingredient_children = ingredient.children) === null || _ingredient_children === void 0 ? void 0 : _ingredient_children.map((child)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IngredientNode, {\n                        ingredient: child,\n                        level: level + 1,\n                        expandedNodes: expandedNodes,\n                        onToggle: onToggle,\n                        searchTerm: searchTerm,\n                        usedIngredientIds: usedIngredientIds\n                    }, child.id, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                        lineNumber: 213,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                lineNumber: 211,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n        lineNumber: 194,\n        columnNumber: 5\n    }, this);\n}\n_c1 = IngredientNode;\nfunction IngredientsPalette(param) {\n    let { ingredients, isCollapsed, onToggleCollapse, usedIngredientIds } = param;\n    _s1();\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('Source');\n    const [expandedNodes, setExpandedNodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set([\n        'natural',\n        'lib-popular',\n        'fg-aldehydes'\n    ]));\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [secondLevelScrollIndex, setSecondLevelScrollIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const tabs = [\n        {\n            id: 'Source',\n            name: 'Source',\n            icon: 'ri-plant-line'\n        },\n        {\n            id: 'Library',\n            name: 'Library',\n            icon: 'ri-book-line'\n        },\n        {\n            id: 'Functional Group',\n            name: 'Functional Group',\n            icon: 'ri-test-tube-line'\n        },\n        {\n            id: 'Existing Formula',\n            name: 'Existing Formula',\n            icon: 'ri-flask-line'\n        }\n    ];\n    // Library ingredients data\n    const libraryIngredients = [\n        {\n            id: 'lib-popular',\n            name: 'Popular Ingredients',\n            children: [\n                {\n                    id: 'lib-vanilla',\n                    name: 'Vanilla',\n                    casNo: '121-33-5',\n                    concentration: 15,\n                    quantity: 25,\n                    cost: 75,\n                    category: 'Library',\n                    subcategory: 'Popular',\n                    description: 'Sweet, creamy vanilla for gourmand fragrances',\n                    isLeaf: true,\n                    olfactiveFamily: 'Gourmand',\n                    topNote: 'Sweet, Creamy',\n                    heartNote: 'Vanilla, Balsamic, Honey',\n                    baseNote: 'Warm, Comforting',\n                    intensity: '8/10',\n                    longevity: '8-12 hours'\n                },\n                {\n                    id: 'lib-ambergris',\n                    name: 'Ambergris (Synthetic)',\n                    casNo: '13171-00-1',\n                    concentration: 5,\n                    quantity: 10,\n                    cost: 120,\n                    category: 'Library',\n                    subcategory: 'Popular',\n                    description: 'Oceanic, animalic base note',\n                    isLeaf: true,\n                    olfactiveFamily: 'Animalic',\n                    topNote: 'Marine, Salty',\n                    heartNote: 'Woody, Tobacco',\n                    baseNote: 'Animalic, Warm',\n                    intensity: '7/10',\n                    longevity: '12-24 hours'\n                },\n                {\n                    id: 'lib-oud',\n                    name: 'Oud Synthetic',\n                    casNo: '94891-27-7',\n                    concentration: 3,\n                    quantity: 5,\n                    cost: 200,\n                    category: 'Library',\n                    subcategory: 'Popular',\n                    description: 'Rich, complex oud alternative',\n                    isLeaf: true,\n                    olfactiveFamily: 'Woody Oriental',\n                    topNote: 'Medicinal, Sharp',\n                    heartNote: 'Woody, Smoky, Leathery',\n                    baseNote: 'Animalic, Balsamic',\n                    intensity: '10/10',\n                    longevity: '16-24 hours'\n                }\n            ]\n        },\n        {\n            id: 'lib-bases',\n            name: 'Fragrance Bases',\n            children: [\n                {\n                    id: 'lib-marine-base',\n                    name: 'Marine Base',\n                    casNo: 'Blend',\n                    concentration: 20,\n                    quantity: 30,\n                    cost: 65,\n                    category: 'Library',\n                    subcategory: 'Bases',\n                    description: 'Fresh aquatic fragrance base',\n                    isLeaf: true,\n                    olfactiveFamily: 'Aquatic',\n                    topNote: 'Ozonic, Fresh, Watery',\n                    heartNote: 'Marine, Seaweed, Algae',\n                    baseNote: 'Mineral, Driftwood',\n                    intensity: '6/10',\n                    longevity: '4-8 hours'\n                },\n                {\n                    id: 'lib-oriental-base',\n                    name: 'Oriental Base',\n                    casNo: 'Blend',\n                    concentration: 25,\n                    quantity: 20,\n                    cost: 85,\n                    category: 'Library',\n                    subcategory: 'Bases',\n                    description: 'Warm, spicy oriental base',\n                    isLeaf: true,\n                    olfactiveFamily: 'Oriental',\n                    topNote: 'Spicy, Warm',\n                    heartNote: 'Amber, Resin, Incense',\n                    baseNote: 'Vanilla, Benzoin, Labdanum',\n                    intensity: '9/10',\n                    longevity: '10-16 hours'\n                }\n            ]\n        }\n    ];\n    // Functional group ingredients\n    const functionalGroupIngredients = [\n        {\n            id: 'fg-aldehydes',\n            name: 'Aldehydes',\n            children: [\n                {\n                    id: 'fg-aldehyde-c8',\n                    name: 'Aldehyde C-8 (Octanal)',\n                    casNo: '124-13-0',\n                    concentration: 2,\n                    quantity: 15,\n                    cost: 35,\n                    category: 'Functional Group',\n                    subcategory: 'Aldehydes',\n                    description: 'Fresh, citrusy aldehyde with orange peel facets',\n                    isLeaf: true,\n                    olfactiveFamily: 'Aldehydic Citrus',\n                    topNote: 'Fresh, Citrus, Orange peel',\n                    heartNote: 'Waxy, Soapy',\n                    baseNote: 'Fatty, Slight',\n                    intensity: '8/10',\n                    longevity: '2-4 hours'\n                },\n                {\n                    id: 'fg-aldehyde-c10',\n                    name: 'Aldehyde C-10 (Decanal)',\n                    casNo: '112-31-2',\n                    concentration: 3,\n                    quantity: 18,\n                    cost: 40,\n                    category: 'Functional Group',\n                    subcategory: 'Aldehydes',\n                    description: 'Classic aldehydic note with powdery facets',\n                    isLeaf: true,\n                    olfactiveFamily: 'Aldehydic',\n                    topNote: 'Soapy, Clean, Metallic',\n                    heartNote: 'Powdery, Waxy, Orange peel',\n                    baseNote: 'Fatty, Slight',\n                    intensity: '9/10',\n                    longevity: '3-6 hours'\n                }\n            ]\n        },\n        {\n            id: 'fg-esters',\n            name: 'Esters',\n            children: [\n                {\n                    id: 'fg-benzyl-acetate',\n                    name: 'Benzyl Acetate',\n                    casNo: '140-11-4',\n                    concentration: 12,\n                    quantity: 25,\n                    cost: 32,\n                    category: 'Functional Group',\n                    subcategory: 'Esters',\n                    description: 'Fruity, floral ester with jasmine facets',\n                    isLeaf: true,\n                    olfactiveFamily: 'Floral Fruity',\n                    topNote: 'Fresh, Green, Pear',\n                    heartNote: 'Jasmine, Floral, Sweet',\n                    baseNote: 'Soft, Powdery',\n                    intensity: '7/10',\n                    longevity: '4-6 hours'\n                },\n                {\n                    id: 'fg-linalyl-acetate',\n                    name: 'Linalyl Acetate',\n                    casNo: '115-95-7',\n                    concentration: 15,\n                    quantity: 20,\n                    cost: 38,\n                    category: 'Functional Group',\n                    subcategory: 'Esters',\n                    description: 'Fresh, bergamot-like ester',\n                    isLeaf: true,\n                    olfactiveFamily: 'Floral Citrus',\n                    topNote: 'Fresh, Bergamot, Lavender',\n                    heartNote: 'Floral, Petitgrain',\n                    baseNote: 'Woody, Slight',\n                    intensity: '6/10',\n                    longevity: '3-5 hours'\n                }\n            ]\n        },\n        {\n            id: 'fg-terpenes',\n            name: 'Terpenes',\n            children: [\n                {\n                    id: 'fg-limonene',\n                    name: 'Limonene',\n                    casNo: '5989-27-5',\n                    concentration: 25,\n                    quantity: 50,\n                    cost: 28,\n                    category: 'Functional Group',\n                    subcategory: 'Terpenes',\n                    description: 'Fresh citrus terpene, main component of citrus oils',\n                    isLeaf: true,\n                    olfactiveFamily: 'Citrus',\n                    topNote: 'Fresh, Citrus, Lemon-orange',\n                    heartNote: 'Sweet, Fruity',\n                    baseNote: 'Clean, Light',\n                    intensity: '8/10',\n                    longevity: '1-3 hours'\n                },\n                {\n                    id: 'fg-pinene',\n                    name: 'Alpha-Pinene',\n                    casNo: '80-56-8',\n                    concentration: 8,\n                    quantity: 22,\n                    cost: 30,\n                    category: 'Functional Group',\n                    subcategory: 'Terpenes',\n                    description: 'Fresh, pine-like terpene',\n                    isLeaf: true,\n                    olfactiveFamily: 'Fresh Coniferous',\n                    topNote: 'Fresh, Pine, Turpentine',\n                    heartNote: 'Woody, Resinous',\n                    baseNote: 'Dry, Slight',\n                    intensity: '7/10',\n                    longevity: '2-4 hours'\n                }\n            ]\n        },\n        {\n            id: 'fg-lactones',\n            name: 'Lactones',\n            children: [\n                {\n                    id: 'fg-gamma-undecalactone',\n                    name: 'Gamma-Undecalactone',\n                    casNo: '104-67-6',\n                    concentration: 5,\n                    quantity: 12,\n                    cost: 55,\n                    category: 'Functional Group',\n                    subcategory: 'Lactones',\n                    description: 'Creamy, peach-like lactone',\n                    isLeaf: true,\n                    olfactiveFamily: 'Fruity Creamy',\n                    topNote: 'Fresh, Fruity, Peach',\n                    heartNote: 'Creamy, Milky, Coconut',\n                    baseNote: 'Soft, Powdery',\n                    intensity: '8/10',\n                    longevity: '6-10 hours'\n                }\n            ]\n        }\n    ];\n    const getContentForTab = ()=>{\n        if (activeTab === 'Source') {\n            return ingredients;\n        } else if (activeTab === 'Library') {\n            return libraryIngredients;\n        } else if (activeTab === 'Functional Group') {\n            return functionalGroupIngredients;\n        }\n        return [];\n    };\n    const currentContent = getContentForTab();\n    const visibleSecondLevelTabs = 2;\n    const maxSecondLevelScrollIndex = Math.max(0, currentContent.length - visibleSecondLevelTabs);\n    // Auto-expand first element based on active tab\n    const getDefaultExpandedForTab = (tabId)=>{\n        switch(tabId){\n            case 'Source':\n                return 'natural';\n            case 'Library':\n                return 'lib-popular';\n            case 'Functional Group':\n                return 'fg-aldehydes';\n            default:\n                return '';\n        }\n    };\n    // Update expanded nodes when switching tabs\n    const handleTabChange = (tabId)=>{\n        setActiveTab(tabId);\n        const defaultExpanded = getDefaultExpandedForTab(tabId);\n        if (defaultExpanded) {\n            setExpandedNodes(new Set([\n                defaultExpanded\n            ]));\n        }\n    };\n    const toggleNode = (id)=>{\n        const newExpanded = new Set(expandedNodes);\n        if (newExpanded.has(id)) {\n            newExpanded.delete(id);\n        } else {\n            newExpanded.add(id);\n        }\n        setExpandedNodes(newExpanded);\n    };\n    const scrollSecondLevelLeft = ()=>{\n        setSecondLevelScrollIndex(Math.max(0, secondLevelScrollIndex - 1));\n    };\n    const scrollSecondLevelRight = ()=>{\n        setSecondLevelScrollIndex(Math.min(maxSecondLevelScrollIndex, secondLevelScrollIndex + 1));\n    };\n    if (isCollapsed) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col w-16 overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-2 border-b border-gray-200\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onToggleCollapse,\n                        className: \"w-full p-2 hover:bg-gray-100 rounded-lg transition-colors\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-4 h-4 flex items-center justify-center mx-auto\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"ri-menu-unfold-line text-gray-600\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 574,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 573,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                        lineNumber: 569,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                    lineNumber: 568,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 flex flex-col items-center py-2 space-y-2\",\n                    children: tabs.map((tab)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>handleTabChange(tab.id),\n                            className: \"w-10 h-10 flex items-center justify-center rounded-lg transition-colors \".concat(activeTab === tab.id ? 'bg-teal-600 text-white' : 'text-gray-500 hover:bg-gray-200'),\n                            title: tab.name,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: tab.icon\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 590,\n                                columnNumber: 15\n                            }, this)\n                        }, tab.id, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 580,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                    lineNumber: 578,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n            lineNumber: 567,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 lg:p-4 border-b border-gray-200 flex-shrink-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between mb-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg lg:text-xl font-semibold text-gray-900\",\n                                children: \"Ingredients\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 602,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"hidden lg:block\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onToggleCollapse,\n                                    className: \"p-1 hover:bg-gray-100 rounded transition-colors\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-4 h-4 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"ri-menu-fold-line text-gray-600\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                            lineNumber: 609,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                        lineNumber: 608,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                    lineNumber: 604,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 603,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                        lineNumber: 601,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 lg:grid-cols-4 gap-1 mb-3\",\n                        children: tabs.map((tab)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>handleTabChange(tab.id),\n                                className: \"flex flex-col items-center p-2 rounded text-xs lg:text-sm transition-colors \".concat(activeTab === tab.id ? 'bg-teal-600 text-white' : 'text-gray-500 hover:bg-gray-200'),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-4 h-4 flex items-center justify-center mb-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: tab.icon\n                                        }, void 0, false, {\n                                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                            lineNumber: 627,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                        lineNumber: 626,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"leading-tight text-center\",\n                                        children: tab.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                        lineNumber: 629,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, tab.id, true, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 617,\n                                columnNumber: 13\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                        lineNumber: 615,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-4 h-4 flex items-center justify-center absolute left-3 top-1/2 transform -translate-y-1/2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"ri-search-line text-gray-400\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                    lineNumber: 636,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 635,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                placeholder: \"Search ingredients...\",\n                                value: searchTerm,\n                                onChange: (e)=>setSearchTerm(e.target.value),\n                                className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-orange-500\"\n                            }, void 0, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 638,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                        lineNumber: 634,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                lineNumber: 600,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto p-2 lg:p-4\",\n                children: [\n                    currentContent.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: scrollSecondLevelLeft,\n                                    disabled: secondLevelScrollIndex === 0,\n                                    className: \"w-6 h-6 flex items-center justify-center rounded flex-shrink-0 \".concat(secondLevelScrollIndex === 0 ? 'text-gray-300 cursor-not-allowed' : 'text-gray-600 hover:bg-gray-100'),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"ri-arrow-left-s-line text-sm\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                        lineNumber: 661,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                    lineNumber: 652,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-hidden\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2 transition-transform duration-200\",\n                                        style: {\n                                            transform: \"translateX(-\".concat(secondLevelScrollIndex * (100 / visibleSecondLevelTabs), \"%)\")\n                                        },\n                                        children: currentContent.map((ingredient)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>toggleNode(ingredient.id),\n                                                className: \"flex-shrink-0 px-3 lg:px-4 py-2 rounded-full text-xs lg:text-sm font-medium transition-colors cursor-pointer whitespace-nowrap \".concat(expandedNodes.has(ingredient.id) ? 'bg-pink-600 text-white' : 'bg-white border border-gray-300 text-gray-700 hover:bg-gray-50'),\n                                                style: {\n                                                    minWidth: \"calc(\".concat(100 / visibleSecondLevelTabs, \"% - 0.5rem)\")\n                                                },\n                                                children: ingredient.name\n                                            }, ingredient.id, false, {\n                                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                                lineNumber: 670,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                        lineNumber: 665,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                    lineNumber: 664,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: scrollSecondLevelRight,\n                                    disabled: secondLevelScrollIndex >= maxSecondLevelScrollIndex,\n                                    className: \"w-6 h-6 flex items-center justify-center rounded flex-shrink-0 \".concat(secondLevelScrollIndex >= maxSecondLevelScrollIndex ? 'text-gray-300 cursor-not-allowed' : 'text-gray-600 hover:bg-gray-100'),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"ri-arrow-right-s-line text-sm\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                        lineNumber: 697,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                    lineNumber: 688,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                            lineNumber: 651,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                        lineNumber: 650,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-2\",\n                        children: currentContent.map((ingredient)=>expandedNodes.has(ingredient.id) && ingredient.children && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full\",\n                                children: ingredient.children.map((child)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IngredientNode, {\n                                        ingredient: child,\n                                        level: 1,\n                                        expandedNodes: expandedNodes,\n                                        onToggle: toggleNode,\n                                        searchTerm: searchTerm,\n                                        usedIngredientIds: usedIngredientIds\n                                    }, child.id, false, {\n                                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                        lineNumber: 708,\n                                        columnNumber: 19\n                                    }, this))\n                            }, ingredient.id, false, {\n                                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                                lineNumber: 706,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                        lineNumber: 703,\n                        columnNumber: 9\n                    }, this),\n                    activeTab === 'Existing Formula' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center text-gray-500 py-8 text-base\",\n                        children: [\n                            \"Content for \",\n                            activeTab,\n                            \" tab coming soon...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                        lineNumber: 724,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n                lineNumber: 648,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/IngredientsPalette.tsx\",\n        lineNumber: 599,\n        columnNumber: 5\n    }, this);\n}\n_s1(IngredientsPalette, \"n3QU8qKfGOf+GJ0nl5GVeWex82Q=\");\n_c2 = IngredientsPalette;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"DraggableIngredient\");\n$RefreshReg$(_c1, \"IngredientNode\");\n$RefreshReg$(_c2, \"IngredientsPalette\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvSW5ncmVkaWVudHNQYWxldHRlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBR2lDO0FBQ1k7QUFRN0MsU0FBU0Usb0JBQW9CLEtBQTREO1FBQTVELEVBQUVDLFVBQVUsRUFBRUMsYUFBYSxLQUFLLEVBQTRCLEdBQTVEOztJQUMzQixNQUFNLEVBQUVDLFVBQVUsRUFBRUMsU0FBUyxFQUFFQyxVQUFVLEVBQUVDLFNBQVMsRUFBRUMsVUFBVSxFQUFFLEdBQUdSLDJEQUFZQSxDQUFDO1FBQ2hGUyxJQUFJUCxXQUFXTyxFQUFFO1FBQ2pCQyxNQUFNO1lBQUVSO1FBQVc7UUFDbkJTLFVBQVVSO0lBQ1o7SUFFQSxNQUFNUyxRQUFRTCxZQUFZO1FBQ3hCQSxXQUFXLGVBQWlDQSxPQUFsQkEsVUFBVU0sQ0FBQyxFQUFDLFFBQWtCLE9BQVpOLFVBQVVPLENBQUMsRUFBQztRQUN4REMsUUFBUTtJQUNWLElBQUlDO0lBRUoscUJBQ0UsOERBQUNDO1FBQ0NDLEtBQUtaO1FBQ0xNLE9BQU9BO1FBQ04sR0FBR1AsU0FBUztRQUNaLEdBQUdELFVBQVU7UUFDZGUsV0FBVyxpRUFJUFgsT0FIRkwsYUFDSSw2Q0FDQSwrQkFDTCxLQUFrQyxPQUEvQkssYUFBYSxlQUFlOzswQkFFaEMsOERBQUNTO2dCQUFJRSxXQUFVOzBCQUF1Q2pCLFdBQVdrQixJQUFJOzs7Ozs7WUFDcEVsQixXQUFXbUIsS0FBSyxrQkFDZiw4REFBQ0o7Z0JBQUlFLFdBQVU7O29CQUE2QjtvQkFBTWpCLFdBQVdtQixLQUFLOzs7Ozs7O1lBRW5FbkIsV0FBV29CLGFBQWEsa0JBQ3ZCLDhEQUFDTDtnQkFBSUUsV0FBVTs7b0JBQThCakIsV0FBV29CLGFBQWE7b0JBQUM7Ozs7Ozs7WUFFdkVuQiw0QkFDQyw4REFBQ2M7Z0JBQUlFLFdBQVU7MEJBQTJDOzs7Ozs7Ozs7Ozs7QUFJbEU7R0FwQ1NsQjs7UUFDOERELHVEQUFZQTs7O0tBRDFFQztBQStDVCxTQUFT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V0FBVTs7NEJBQTJDOzRCQUMzQzBDOzRCQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTW5DO0lBL2V3Qko7TUFBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYXJlc2gucGVudGFwYXRpL0RvY3VtZW50cy9Qcm9qZWN0cy9mcmFncmFuY2VGb3JtdWxhL2NvbXBvbmVudHMvSW5ncmVkaWVudHNQYWxldHRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEcmFnZ2FibGUgfSBmcm9tICdAZG5kLWtpdC9jb3JlJztcbmltcG9ydCB7IEluZ3JlZGllbnQgfSBmcm9tICdAL2xpYi9pbmdyZWRpZW50c0RhdGEnO1xuXG5pbnRlcmZhY2UgRHJhZ2dhYmxlSW5ncmVkaWVudFByb3BzIHtcbiAgaW5ncmVkaWVudDogSW5ncmVkaWVudDtcbiAgaXNEaXNhYmxlZD86IGJvb2xlYW47XG59XG5cbmZ1bmN0aW9uIERyYWdnYWJsZUluZ3JlZGllbnQoeyBpbmdyZWRpZW50LCBpc0Rpc2FibGVkID0gZmFsc2UgfTogRHJhZ2dhYmxlSW5ncmVkaWVudFByb3BzKSB7XG4gIGNvbnN0IHsgYXR0cmlidXRlcywgbGlzdGVuZXJzLCBzZXROb2RlUmVmLCB0cmFuc2Zvcm0sIGlzRHJhZ2dpbmcgfSA9IHVzZURyYWdnYWJsZSh7XG4gICAgaWQ6IGluZ3JlZGllbnQuaWQsXG4gICAgZGF0YTogeyBpbmdyZWRpZW50IH0sXG4gICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWRcbiAgfSk7XG5cbiAgY29uc3Qgc3R5bGUgPSB0cmFuc2Zvcm0gPyB7XG4gICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHt0cmFuc2Zvcm0ueH1weCwgJHt0cmFuc2Zvcm0ueX1weCwgMClgLFxuICAgIHpJbmRleDogMTAwMCxcbiAgfSA6IHVuZGVmaW5lZDtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHJlZj17c2V0Tm9kZVJlZn1cbiAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgIHsuLi5saXN0ZW5lcnN9XG4gICAgICB7Li4uYXR0cmlidXRlc31cbiAgICAgIGNsYXNzTmFtZT17YGJnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBwLTMgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgaXNEaXNhYmxlZFxuICAgICAgICAgID8gJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkIGJnLWdyYXktNTAnXG4gICAgICAgICAgOiAnY3Vyc29yLWdyYWIgaG92ZXI6c2hhZG93LW1kJ1xuICAgICAgfSAke2lzRHJhZ2dpbmcgPyAnb3BhY2l0eS01MCcgOiAnJ31gfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj57aW5ncmVkaWVudC5uYW1lfTwvZGl2PlxuICAgICAge2luZ3JlZGllbnQuY2FzTm8gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBtdC0xXCI+Q0FTOiB7aW5ncmVkaWVudC5jYXNOb308L2Rpdj5cbiAgICAgICl9XG4gICAgICB7aW5ncmVkaWVudC5jb25jZW50cmF0aW9uICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmx1ZS02MDAgbXQtMVwiPntpbmdyZWRpZW50LmNvbmNlbnRyYXRpb259JTwvZGl2PlxuICAgICAgKX1cbiAgICAgIHtpc0Rpc2FibGVkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtb3JhbmdlLTYwMCBtdC0xIGZvbnQtbWVkaXVtXCI+QWxyZWFkeSBpbiB1c2U8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmludGVyZmFjZSBJbmdyZWRpZW50Tm9kZVByb3BzIHtcbiAgaW5ncmVkaWVudDogSW5ncmVkaWVudDtcbiAgbGV2ZWw6IG51bWJlcjtcbiAgZXhwYW5kZWROb2RlczogU2V0PHN0cmluZz47XG4gIG9uVG9nZ2xlOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgc2VhcmNoVGVybTogc3RyaW5nO1xuICB1c2VkSW5ncmVkaWVudElkczogc3RyaW5nW107XG59XG5cbmZ1bmN0aW9uIEluZ3JlZGllbnROb2RlKHsgaW5ncmVkaWVudCwgbGV2ZWwsIGV4cGFuZGVkTm9kZXMsIG9uVG9nZ2xlLCBzZWFyY2hUZXJtLCB1c2VkSW5ncmVkaWVudElkcyB9OiBJbmdyZWRpZW50Tm9kZVByb3BzKSB7XG4gIGNvbnN0IGhhc0NoaWxkcmVuID0gaW5ncmVkaWVudC5jaGlsZHJlbiAmJiBpbmdyZWRpZW50LmNoaWxkcmVuLmxlbmd0aCA+IDA7XG4gIGNvbnN0IGlzRXhwYW5kZWQgPSBleHBhbmRlZE5vZGVzLmhhcyhpbmdyZWRpZW50LmlkKTtcbiAgY29uc3QgaXNMZWFmID0gaW5ncmVkaWVudC5pc0xlYWY7XG4gIGNvbnN0IGlzVXNlZCA9IHVzZWRJbmdyZWRpZW50SWRzLmluY2x1ZGVzKGluZ3JlZGllbnQuaWQpO1xuXG4gIC8vIEdsb2JhbCBzZWFyY2ggZnVuY3Rpb24gdGhhdCBzZWFyY2hlcyBhdCBhbGwgbGV2ZWxzXG4gIGNvbnN0IG1hdGNoZXNTZWFyY2ggPSAoaW5nOiBJbmdyZWRpZW50LCB0ZXJtOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBpZiAoIXRlcm0pIHJldHVybiB0cnVlO1xuXG4gICAgY29uc3Qgc2VhcmNoTG93ZXIgPSB0ZXJtLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgbmFtZU1hdGNoID0gaW5nLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcik7XG4gICAgY29uc3QgY2FzTWF0Y2ggPSBpbmcuY2FzTm8/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpIHx8IGZhbHNlO1xuICAgIGNvbnN0IGNhdGVnb3J5TWF0Y2ggPSBpbmcuY2F0ZWdvcnk/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpIHx8IGZhbHNlO1xuICAgIGNvbnN0IHN1YmNhdGVnb3J5TWF0Y2ggPSBpbmcuc3ViY2F0ZWdvcnk/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpIHx8IGZhbHNlO1xuXG4gICAgcmV0dXJuIG5hbWVNYXRjaCB8fCBjYXNNYXRjaCB8fCBjYXRlZ29yeU1hdGNoIHx8IHN1YmNhdGVnb3J5TWF0Y2g7XG4gIH07XG5cbiAgLy8gQ2hlY2sgaWYgdGhpcyBpbmdyZWRpZW50IG9yIGFueSBvZiBpdHMgY2hpbGRyZW4gbWF0Y2ggdGhlIHNlYXJjaFxuICBjb25zdCBoYXNNYXRjaGluZ0Rlc2NlbmRhbnQgPSAoaW5nOiBJbmdyZWRpZW50LCB0ZXJtOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBpZiAobWF0Y2hlc1NlYXJjaChpbmcsIHRlcm0pKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoaW5nLmNoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gaW5nLmNoaWxkcmVuLnNvbWUoY2hpbGQgPT4gaGFzTWF0Y2hpbmdEZXNjZW5kYW50KGNoaWxkLCB0ZXJtKSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBEb24ndCByZW5kZXIgaWYgc2VhcmNoIGRvZXNuJ3QgbWF0Y2ggdGhpcyBub2RlIG9yIGl0cyBkZXNjZW5kYW50c1xuICBpZiAoc2VhcmNoVGVybSAmJiAhaGFzTWF0Y2hpbmdEZXNjZW5kYW50KGluZ3JlZGllbnQsIHNlYXJjaFRlcm0pKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IHtcbiAgICBpZiAoaGFzQ2hpbGRyZW4pIHtcbiAgICAgIG9uVG9nZ2xlKGluZ3JlZGllbnQuaWQpO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWR1Y2VkIHBhZGRpbmcgYmFzZWQgb24gbGV2ZWxcbiAgY29uc3QgcGFkZGluZ0xlZnQgPSBsZXZlbCAqIDg7XG5cbiAgaWYgKGlzTGVhZikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmdMZWZ0OiBwYWRkaW5nTGVmdCArIDQgfX0gY2xhc3NOYW1lPVwicHktMVwiPlxuICAgICAgICA8RHJhZ2dhYmxlSW5ncmVkaWVudCBpbmdyZWRpZW50PXtpbmdyZWRpZW50fSBpc0Rpc2FibGVkPXtpc1VzZWR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gTGV2ZWwgMSAtIE1haW4gY2F0ZWdvcmllcyAoRmxvcmFsLCBDaXRydXMsIGV0Yy4pXG4gIGlmIChsZXZlbCA9PT0gMSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgcHktMiBweC0xIGhvdmVyOmJnLWdyYXktNTAgY3Vyc29yLXBvaW50ZXIgcm91bmRlZCB3LWZ1bGxcIlxuICAgICAgICAgIHN0eWxlPXt7IHBhZGRpbmdMZWZ0OiBgJHtwYWRkaW5nTGVmdH1weGAgfX1cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtci0xIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17YHJpLWFycm93LSR7aXNFeHBhbmRlZCA/ICdkb3duJyA6ICdyaWdodCd9LXMtbGluZSB0ZXh0LWdyYXktNjAwIHRleHQtc21gfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yMCBoLTIwIG1yLTMgZmxleC1zaHJpbmstMCByZWxhdGl2ZSByb3VuZGVkIGJvcmRlci0yIGJnLWJsdWUtMTAwIGJvcmRlci1ibHVlLTMwMCB0ZXh0LWJsdWUtODAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LWNlbnRlciBsZWFkaW5nLXRpZ2h0IHB4LTIgYnJlYWstd29yZHMgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgIHtpbmdyZWRpZW50Lm5hbWV9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTcwMCB0ZXh0LWJhc2UgZm9udC1tZWRpdW0gZmxleC0xIG1sLTIgYnJlYWstd29yZHNcIj5cbiAgICAgICAgICAgIHtpbmdyZWRpZW50Lm5hbWV9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7aGFzQ2hpbGRyZW4gJiYgaXNFeHBhbmRlZCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIHtpbmdyZWRpZW50LmNoaWxkcmVuPy5tYXAoKGNoaWxkKSA9PiAoXG4gICAgICAgICAgICAgIDxJbmdyZWRpZW50Tm9kZVxuICAgICAgICAgICAgICAgIGtleT17Y2hpbGQuaWR9XG4gICAgICAgICAgICAgICAgaW5ncmVkaWVudD17Y2hpbGR9XG4gICAgICAgICAgICAgICAgbGV2ZWw9e2xldmVsICsgMX1cbiAgICAgICAgICAgICAgICBleHBhbmRlZE5vZGVzPXtleHBhbmRlZE5vZGVzfVxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXtvblRvZ2dsZX1cbiAgICAgICAgICAgICAgICBzZWFyY2hUZXJtPXtzZWFyY2hUZXJtfVxuICAgICAgICAgICAgICAgIHVzZWRJbmdyZWRpZW50SWRzPXt1c2VkSW5ncmVkaWVudElkc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIExldmVsIDIgLSBTdWJjYXRlZ29yaWVzIChSb3NlLCBKYXNtaW5lLCBldGMuKVxuICBpZiAobGV2ZWwgPT09IDIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHB5LTIgcHgtMSBob3ZlcjpiZy1ncmF5LTUwIGN1cnNvci1wb2ludGVyIHJvdW5kZWQgdy1mdWxsXCJcbiAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nTGVmdDogYCR7cGFkZGluZ0xlZnR9cHhgIH19XG4gICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMyBoLTMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbXItMSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9e2ByaS1hcnJvdy0ke2lzRXhwYW5kZWQgPyAnZG93bicgOiAncmlnaHQnfS1zLWxpbmUgdGV4dC1ncmF5LTYwMCB0ZXh0LXNtYH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBtci0zIGZsZXgtc2hyaW5rLTAgcmVsYXRpdmUgcm91bmRlZCBib3JkZXIgYmctZ3JlZW4tMTAwIGJvcmRlci1ncmVlbi0zMDAgdGV4dC1ncmVlbi04MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1jZW50ZXIgbGVhZGluZy10aWdodCBweC0yIGJyZWFrLXdvcmRzIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICB7aW5ncmVkaWVudC5uYW1lfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgdGV4dC1zbSBmb250LW1lZGl1bSBmbGV4LTEgbWwtMiBicmVhay13b3Jkc1wiPlxuICAgICAgICAgICAge2luZ3JlZGllbnQubmFtZX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtoYXNDaGlsZHJlbiAmJiBpc0V4cGFuZGVkICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAge2luZ3JlZGllbnQuY2hpbGRyZW4/Lm1hcCgoY2hpbGQpID0+IChcbiAgICAgICAgICAgICAgPEluZ3JlZGllbnROb2RlXG4gICAgICAgICAgICAgICAga2V5PXtjaGlsZC5pZH1cbiAgICAgICAgICAgICAgICBpbmdyZWRpZW50PXtjaGlsZH1cbiAgICAgICAgICAgICAgICBsZXZlbD17bGV2ZWwgKyAxfVxuICAgICAgICAgICAgICAgIGV4cGFuZGVkTm9kZXM9e2V4cGFuZGVkTm9kZXN9XG4gICAgICAgICAgICAgICAgb25Ub2dnbGU9e29uVG9nZ2xlfVxuICAgICAgICAgICAgICAgIHNlYXJjaFRlcm09e3NlYXJjaFRlcm19XG4gICAgICAgICAgICAgICAgdXNlZEluZ3JlZGllbnRJZHM9e3VzZWRJbmdyZWRpZW50SWRzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gTGV2ZWwgMysgLSBJbmRpdmlkdWFsIGluZ3JlZGllbnRzIG9yIGZ1cnRoZXIgc3ViY2F0ZWdvcmllc1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHB5LTIgcHgtMSBob3ZlcjpiZy1ncmF5LTUwIGN1cnNvci1wb2ludGVyIHJvdW5kZWQgdy1mdWxsXCJcbiAgICAgICAgc3R5bGU9e3sgcGFkZGluZ0xlZnQ6IGAke3BhZGRpbmdMZWZ0fXB4YCB9fVxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1yLTEgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT17YHJpLWFycm93LSR7aXNFeHBhbmRlZCA/ICdkb3duJyA6ICdyaWdodCd9LXMtbGluZSB0ZXh0LWdyYXktNjAwIHRleHQtc21gfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0xNiByZWxhdGl2ZSByb3VuZGVkIGJvcmRlciBiZy1wdXJwbGUtMTAwIGJvcmRlci1wdXJwbGUtMzAwIHRleHQtcHVycGxlLTgwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtY2VudGVyIGxlYWRpbmctdGlnaHQgYnJlYWstd29yZHMgb3ZlcmZsb3ctaGlkZGVuIHctZnVsbFwiPlxuICAgICAgICAgICAge2luZ3JlZGllbnQubmFtZX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtoYXNDaGlsZHJlbiAmJiBpc0V4cGFuZGVkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICB7aW5ncmVkaWVudC5jaGlsZHJlbj8ubWFwKChjaGlsZCkgPT4gKFxuICAgICAgICAgICAgPEluZ3JlZGllbnROb2RlXG4gICAgICAgICAgICAgIGtleT17Y2hpbGQuaWR9XG4gICAgICAgICAgICAgIGluZ3JlZGllbnQ9e2NoaWxkfVxuICAgICAgICAgICAgICBsZXZlbD17bGV2ZWwgKyAxfVxuICAgICAgICAgICAgICBleHBhbmRlZE5vZGVzPXtleHBhbmRlZE5vZGVzfVxuICAgICAgICAgICAgICBvblRvZ2dsZT17b25Ub2dnbGV9XG4gICAgICAgICAgICAgIHNlYXJjaFRlcm09e3NlYXJjaFRlcm19XG4gICAgICAgICAgICAgIHVzZWRJbmdyZWRpZW50SWRzPXt1c2VkSW5ncmVkaWVudElkc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIEluZ3JlZGllbnRzUGFsZXR0ZVByb3BzIHtcbiAgaW5ncmVkaWVudHM6IEluZ3JlZGllbnRbXTtcbiAgaXNDb2xsYXBzZWQ6IGJvb2xlYW47XG4gIG9uVG9nZ2xlQ29sbGFwc2U6ICgpID0+IHZvaWQ7XG4gIHVzZWRJbmdyZWRpZW50SWRzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW5ncmVkaWVudHNQYWxldHRlKHsgaW5ncmVkaWVudHMsIGlzQ29sbGFwc2VkLCBvblRvZ2dsZUNvbGxhcHNlLCB1c2VkSW5ncmVkaWVudElkcyB9OiBJbmdyZWRpZW50c1BhbGV0dGVQcm9wcykge1xuICBjb25zdCBbYWN0aXZlVGFiLCBzZXRBY3RpdmVUYWJdID0gdXNlU3RhdGUoJ1NvdXJjZScpO1xuICBjb25zdCBbZXhwYW5kZWROb2Rlcywgc2V0RXhwYW5kZWROb2Rlc10gPSB1c2VTdGF0ZTxTZXQ8c3RyaW5nPj4obmV3IFNldChbJ25hdHVyYWwnLCAnbGliLXBvcHVsYXInLCAnZmctYWxkZWh5ZGVzJ10pKTtcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc2Vjb25kTGV2ZWxTY3JvbGxJbmRleCwgc2V0U2Vjb25kTGV2ZWxTY3JvbGxJbmRleF0gPSB1c2VTdGF0ZSgwKTtcblxuICBjb25zdCB0YWJzID0gW1xuICAgIHsgaWQ6ICdTb3VyY2UnLCBuYW1lOiAnU291cmNlJywgaWNvbjogJ3JpLXBsYW50LWxpbmUnIH0sXG4gICAgeyBpZDogJ0xpYnJhcnknLCBuYW1lOiAnTGlicmFyeScsIGljb246ICdyaS1ib29rLWxpbmUnIH0sXG4gICAgeyBpZDogJ0Z1bmN0aW9uYWwgR3JvdXAnLCBuYW1lOiAnRnVuY3Rpb25hbCBHcm91cCcsIGljb246ICdyaS10ZXN0LXR1YmUtbGluZScgfSxcbiAgICB7IGlkOiAnRXhpc3RpbmcgRm9ybXVsYScsIG5hbWU6ICdFeGlzdGluZyBGb3JtdWxhJywgaWNvbjogJ3JpLWZsYXNrLWxpbmUnIH1cbiAgXTtcblxuICAvLyBMaWJyYXJ5IGluZ3JlZGllbnRzIGRhdGFcbiAgY29uc3QgbGlicmFyeUluZ3JlZGllbnRzOiBJbmdyZWRpZW50W10gPSBbXG4gICAge1xuICAgICAgaWQ6ICdsaWItcG9wdWxhcicsXG4gICAgICBuYW1lOiAnUG9wdWxhciBJbmdyZWRpZW50cycsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdsaWItdmFuaWxsYScsXG4gICAgICAgICAgbmFtZTogJ1ZhbmlsbGEnLFxuICAgICAgICAgIGNhc05vOiAnMTIxLTMzLTUnLFxuICAgICAgICAgIGNvbmNlbnRyYXRpb246IDE1LFxuICAgICAgICAgIHF1YW50aXR5OiAyNSxcbiAgICAgICAgICBjb3N0OiA3NSxcbiAgICAgICAgICBjYXRlZ29yeTogJ0xpYnJhcnknLFxuICAgICAgICAgIHN1YmNhdGVnb3J5OiAnUG9wdWxhcicsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTd2VldCwgY3JlYW15IHZhbmlsbGEgZm9yIGdvdXJtYW5kIGZyYWdyYW5jZXMnLFxuICAgICAgICAgIGlzTGVhZjogdHJ1ZSxcbiAgICAgICAgICBvbGZhY3RpdmVGYW1pbHk6ICdHb3VybWFuZCcsXG4gICAgICAgICAgdG9wTm90ZTogJ1N3ZWV0LCBDcmVhbXknLFxuICAgICAgICAgIGhlYXJ0Tm90ZTogJ1ZhbmlsbGEsIEJhbHNhbWljLCBIb25leScsXG4gICAgICAgICAgYmFzZU5vdGU6ICdXYXJtLCBDb21mb3J0aW5nJyxcbiAgICAgICAgICBpbnRlbnNpdHk6ICc4LzEwJyxcbiAgICAgICAgICBsb25nZXZpdHk6ICc4LTEyIGhvdXJzJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdsaWItYW1iZXJncmlzJyxcbiAgICAgICAgICBuYW1lOiAnQW1iZXJncmlzIChTeW50aGV0aWMpJyxcbiAgICAgICAgICBjYXNObzogJzEzMTcxLTAwLTEnLFxuICAgICAgICAgIGNvbmNlbnRyYXRpb246IDUsXG4gICAgICAgICAgcXVhbnRpdHk6IDEwLFxuICAgICAgICAgIGNvc3Q6IDEyMCxcbiAgICAgICAgICBjYXRlZ29yeTogJ0xpYnJhcnknLFxuICAgICAgICAgIHN1YmNhdGVnb3J5OiAnUG9wdWxhcicsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdPY2VhbmljLCBhbmltYWxpYyBiYXNlIG5vdGUnLFxuICAgICAgICAgIGlzTGVhZjogdHJ1ZSxcbiAgICAgICAgICBvbGZhY3RpdmVGYW1pbHk6ICdBbmltYWxpYycsXG4gICAgICAgICAgdG9wTm90ZTogJ01hcmluZSwgU2FsdHknLFxuICAgICAgICAgIGhlYXJ0Tm90ZTogJ1dvb2R5LCBUb2JhY2NvJyxcbiAgICAgICAgICBiYXNlTm90ZTogJ0FuaW1hbGljLCBXYXJtJyxcbiAgICAgICAgICBpbnRlbnNpdHk6ICc3LzEwJyxcbiAgICAgICAgICBsb25nZXZpdHk6ICcxMi0yNCBob3VycydcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnbGliLW91ZCcsXG4gICAgICAgICAgbmFtZTogJ091ZCBTeW50aGV0aWMnLFxuICAgICAgICAgIGNhc05vOiAnOTQ4OTEtMjctNycsXG4gICAgICAgICAgY29uY2VudHJhdGlvbjogMyxcbiAgICAgICAgICBxdWFudGl0eTogNSxcbiAgICAgICAgICBjb3N0OiAyMDAsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdMaWJyYXJ5JyxcbiAgICAgICAgICBzdWJjYXRlZ29yeTogJ1BvcHVsYXInLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUmljaCwgY29tcGxleCBvdWQgYWx0ZXJuYXRpdmUnLFxuICAgICAgICAgIGlzTGVhZjogdHJ1ZSxcbiAgICAgICAgICBvbGZhY3RpdmVGYW1pbHk6ICdXb29keSBPcmllbnRhbCcsXG4gICAgICAgICAgdG9wTm90ZTogJ01lZGljaW5hbCwgU2hhcnAnLFxuICAgICAgICAgIGhlYXJ0Tm90ZTogJ1dvb2R5LCBTbW9reSwgTGVhdGhlcnknLFxuICAgICAgICAgIGJhc2VOb3RlOiAnQW5pbWFsaWMsIEJhbHNhbWljJyxcbiAgICAgICAgICBpbnRlbnNpdHk6ICcxMC8xMCcsXG4gICAgICAgICAgbG9uZ2V2aXR5OiAnMTYtMjQgaG91cnMnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnbGliLWJhc2VzJyxcbiAgICAgIG5hbWU6ICdGcmFncmFuY2UgQmFzZXMnLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnbGliLW1hcmluZS1iYXNlJyxcbiAgICAgICAgICBuYW1lOiAnTWFyaW5lIEJhc2UnLFxuICAgICAgICAgIGNhc05vOiAnQmxlbmQnLFxuICAgICAgICAgIGNvbmNlbnRyYXRpb246IDIwLFxuICAgICAgICAgIHF1YW50aXR5OiAzMCxcbiAgICAgICAgICBjb3N0OiA2NSxcbiAgICAgICAgICBjYXRlZ29yeTogJ0xpYnJhcnknLFxuICAgICAgICAgIHN1YmNhdGVnb3J5OiAnQmFzZXMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRnJlc2ggYXF1YXRpYyBmcmFncmFuY2UgYmFzZScsXG4gICAgICAgICAgaXNMZWFmOiB0cnVlLFxuICAgICAgICAgIG9sZmFjdGl2ZUZhbWlseTogJ0FxdWF0aWMnLFxuICAgICAgICAgIHRvcE5vdGU6ICdPem9uaWMsIEZyZXNoLCBXYXRlcnknLFxuICAgICAgICAgIGhlYXJ0Tm90ZTogJ01hcmluZSwgU2Vhd2VlZCwgQWxnYWUnLFxuICAgICAgICAgIGJhc2VOb3RlOiAnTWluZXJhbCwgRHJpZnR3b29kJyxcbiAgICAgICAgICBpbnRlbnNpdHk6ICc2LzEwJyxcbiAgICAgICAgICBsb25nZXZpdHk6ICc0LTggaG91cnMnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2xpYi1vcmllbnRhbC1iYXNlJyxcbiAgICAgICAgICBuYW1lOiAnT3JpZW50YWwgQmFzZScsXG4gICAgICAgICAgY2FzTm86ICdCbGVuZCcsXG4gICAgICAgICAgY29uY2VudHJhdGlvbjogMjUsXG4gICAgICAgICAgcXVhbnRpdHk6IDIwLFxuICAgICAgICAgIGNvc3Q6IDg1LFxuICAgICAgICAgIGNhdGVnb3J5OiAnTGlicmFyeScsXG4gICAgICAgICAgc3ViY2F0ZWdvcnk6ICdCYXNlcycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdXYXJtLCBzcGljeSBvcmllbnRhbCBiYXNlJyxcbiAgICAgICAgICBpc0xlYWY6IHRydWUsXG4gICAgICAgICAgb2xmYWN0aXZlRmFtaWx5OiAnT3JpZW50YWwnLFxuICAgICAgICAgIHRvcE5vdGU6ICdTcGljeSwgV2FybScsXG4gICAgICAgICAgaGVhcnROb3RlOiAnQW1iZXIsIFJlc2luLCBJbmNlbnNlJyxcbiAgICAgICAgICBiYXNlTm90ZTogJ1ZhbmlsbGEsIEJlbnpvaW4sIExhYmRhbnVtJyxcbiAgICAgICAgICBpbnRlbnNpdHk6ICc5LzEwJyxcbiAgICAgICAgICBsb25nZXZpdHk6ICcxMC0xNiBob3VycydcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXTtcblxuICAvLyBGdW5jdGlvbmFsIGdyb3VwIGluZ3JlZGllbnRzXG4gIGNvbnN0IGZ1bmN0aW9uYWxHcm91cEluZ3JlZGllbnRzOiBJbmdyZWRpZW50W10gPSBbXG4gICAge1xuICAgICAgaWQ6ICdmZy1hbGRlaHlkZXMnLFxuICAgICAgbmFtZTogJ0FsZGVoeWRlcycsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdmZy1hbGRlaHlkZS1jOCcsXG4gICAgICAgICAgbmFtZTogJ0FsZGVoeWRlIEMtOCAoT2N0YW5hbCknLFxuICAgICAgICAgIGNhc05vOiAnMTI0LTEzLTAnLFxuICAgICAgICAgIGNvbmNlbnRyYXRpb246IDIsXG4gICAgICAgICAgcXVhbnRpdHk6IDE1LFxuICAgICAgICAgIGNvc3Q6IDM1LFxuICAgICAgICAgIGNhdGVnb3J5OiAnRnVuY3Rpb25hbCBHcm91cCcsXG4gICAgICAgICAgc3ViY2F0ZWdvcnk6ICdBbGRlaHlkZXMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRnJlc2gsIGNpdHJ1c3kgYWxkZWh5ZGUgd2l0aCBvcmFuZ2UgcGVlbCBmYWNldHMnLFxuICAgICAgICAgIGlzTGVhZjogdHJ1ZSxcbiAgICAgICAgICBvbGZhY3RpdmVGYW1pbHk6ICdBbGRlaHlkaWMgQ2l0cnVzJyxcbiAgICAgICAgICB0b3BOb3RlOiAnRnJlc2gsIENpdHJ1cywgT3JhbmdlIHBlZWwnLFxuICAgICAgICAgIGhlYXJ0Tm90ZTogJ1dheHksIFNvYXB5JyxcbiAgICAgICAgICBiYXNlTm90ZTogJ0ZhdHR5LCBTbGlnaHQnLFxuICAgICAgICAgIGludGVuc2l0eTogJzgvMTAnLFxuICAgICAgICAgIGxvbmdldml0eTogJzItNCBob3VycydcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZmctYWxkZWh5ZGUtYzEwJyxcbiAgICAgICAgICBuYW1lOiAnQWxkZWh5ZGUgQy0xMCAoRGVjYW5hbCknLFxuICAgICAgICAgIGNhc05vOiAnMTEyLTMxLTInLFxuICAgICAgICAgIGNvbmNlbnRyYXRpb246IDMsXG4gICAgICAgICAgcXVhbnRpdHk6IDE4LFxuICAgICAgICAgIGNvc3Q6IDQwLFxuICAgICAgICAgIGNhdGVnb3J5OiAnRnVuY3Rpb25hbCBHcm91cCcsXG4gICAgICAgICAgc3ViY2F0ZWdvcnk6ICdBbGRlaHlkZXMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ2xhc3NpYyBhbGRlaHlkaWMgbm90ZSB3aXRoIHBvd2RlcnkgZmFjZXRzJyxcbiAgICAgICAgICBpc0xlYWY6IHRydWUsXG4gICAgICAgICAgb2xmYWN0aXZlRmFtaWx5OiAnQWxkZWh5ZGljJyxcbiAgICAgICAgICB0b3BOb3RlOiAnU29hcHksIENsZWFuLCBNZXRhbGxpYycsXG4gICAgICAgICAgaGVhcnROb3RlOiAnUG93ZGVyeSwgV2F4eSwgT3JhbmdlIHBlZWwnLFxuICAgICAgICAgIGJhc2VOb3RlOiAnRmF0dHksIFNsaWdodCcsXG4gICAgICAgICAgaW50ZW5zaXR5OiAnOS8xMCcsXG4gICAgICAgICAgbG9uZ2V2aXR5OiAnMy02IGhvdXJzJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2ZnLWVzdGVycycsXG4gICAgICBuYW1lOiAnRXN0ZXJzJyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2ZnLWJlbnp5bC1hY2V0YXRlJyxcbiAgICAgICAgICBuYW1lOiAnQmVuenlsIEFjZXRhdGUnLFxuICAgICAgICAgIGNhc05vOiAnMTQwLTExLTQnLFxuICAgICAgICAgIGNvbmNlbnRyYXRpb246IDEyLFxuICAgICAgICAgIHF1YW50aXR5OiAyNSxcbiAgICAgICAgICBjb3N0OiAzMixcbiAgICAgICAgICBjYXRlZ29yeTogJ0Z1bmN0aW9uYWwgR3JvdXAnLFxuICAgICAgICAgIHN1YmNhdGVnb3J5OiAnRXN0ZXJzJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0ZydWl0eSwgZmxvcmFsIGVzdGVyIHdpdGggamFzbWluZSBmYWNldHMnLFxuICAgICAgICAgIGlzTGVhZjogdHJ1ZSxcbiAgICAgICAgICBvbGZhY3RpdmVGYW1pbHk6ICdGbG9yYWwgRnJ1aXR5JyxcbiAgICAgICAgICB0b3BOb3RlOiAnRnJlc2gsIEdyZWVuLCBQZWFyJyxcbiAgICAgICAgICBoZWFydE5vdGU6ICdKYXNtaW5lLCBGbG9yYWwsIFN3ZWV0JyxcbiAgICAgICAgICBiYXNlTm90ZTogJ1NvZnQsIFBvd2RlcnknLFxuICAgICAgICAgIGludGVuc2l0eTogJzcvMTAnLFxuICAgICAgICAgIGxvbmdldml0eTogJzQtNiBob3VycydcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZmctbGluYWx5bC1hY2V0YXRlJyxcbiAgICAgICAgICBuYW1lOiAnTGluYWx5bCBBY2V0YXRlJyxcbiAgICAgICAgICBjYXNObzogJzExNS05NS03JyxcbiAgICAgICAgICBjb25jZW50cmF0aW9uOiAxNSxcbiAgICAgICAgICBxdWFudGl0eTogMjAsXG4gICAgICAgICAgY29zdDogMzgsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdGdW5jdGlvbmFsIEdyb3VwJyxcbiAgICAgICAgICBzdWJjYXRlZ29yeTogJ0VzdGVycycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdGcmVzaCwgYmVyZ2Ftb3QtbGlrZSBlc3RlcicsXG4gICAgICAgICAgaXNMZWFmOiB0cnVlLFxuICAgICAgICAgIG9sZmFjdGl2ZUZhbWlseTogJ0Zsb3JhbCBDaXRydXMnLFxuICAgICAgICAgIHRvcE5vdGU6ICdGcmVzaCwgQmVyZ2Ftb3QsIExhdmVuZGVyJyxcbiAgICAgICAgICBoZWFydE5vdGU6ICdGbG9yYWwsIFBldGl0Z3JhaW4nLFxuICAgICAgICAgIGJhc2VOb3RlOiAnV29vZHksIFNsaWdodCcsXG4gICAgICAgICAgaW50ZW5zaXR5OiAnNi8xMCcsXG4gICAgICAgICAgbG9uZ2V2aXR5OiAnMy01IGhvdXJzJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2ZnLXRlcnBlbmVzJyxcbiAgICAgIG5hbWU6ICdUZXJwZW5lcycsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdmZy1saW1vbmVuZScsXG4gICAgICAgICAgbmFtZTogJ0xpbW9uZW5lJyxcbiAgICAgICAgICBjYXNObzogJzU5ODktMjctNScsXG4gICAgICAgICAgY29uY2VudHJhdGlvbjogMjUsXG4gICAgICAgICAgcXVhbnRpdHk6IDUwLFxuICAgICAgICAgIGNvc3Q6IDI4LFxuICAgICAgICAgIGNhdGVnb3J5OiAnRnVuY3Rpb25hbCBHcm91cCcsXG4gICAgICAgICAgc3ViY2F0ZWdvcnk6ICdUZXJwZW5lcycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdGcmVzaCBjaXRydXMgdGVycGVuZSwgbWFpbiBjb21wb25lbnQgb2YgY2l0cnVzIG9pbHMnLFxuICAgICAgICAgIGlzTGVhZjogdHJ1ZSxcbiAgICAgICAgICBvbGZhY3RpdmVGYW1pbHk6ICdDaXRydXMnLFxuICAgICAgICAgIHRvcE5vdGU6ICdGcmVzaCwgQ2l0cnVzLCBMZW1vbi1vcmFuZ2UnLFxuICAgICAgICAgIGhlYXJ0Tm90ZTogJ1N3ZWV0LCBGcnVpdHknLFxuICAgICAgICAgIGJhc2VOb3RlOiAnQ2xlYW4sIExpZ2h0JyxcbiAgICAgICAgICBpbnRlbnNpdHk6ICc4LzEwJyxcbiAgICAgICAgICBsb25nZXZpdHk6ICcxLTMgaG91cnMnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2ZnLXBpbmVuZScsXG4gICAgICAgICAgbmFtZTogJ0FscGhhLVBpbmVuZScsXG4gICAgICAgICAgY2FzTm86ICc4MC01Ni04JyxcbiAgICAgICAgICBjb25jZW50cmF0aW9uOiA4LFxuICAgICAgICAgIHF1YW50aXR5OiAyMixcbiAgICAgICAgICBjb3N0OiAzMCxcbiAgICAgICAgICBjYXRlZ29yeTogJ0Z1bmN0aW9uYWwgR3JvdXAnLFxuICAgICAgICAgIHN1YmNhdGVnb3J5OiAnVGVycGVuZXMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRnJlc2gsIHBpbmUtbGlrZSB0ZXJwZW5lJyxcbiAgICAgICAgICBpc0xlYWY6IHRydWUsXG4gICAgICAgICAgb2xmYWN0aXZlRmFtaWx5OiAnRnJlc2ggQ29uaWZlcm91cycsXG4gICAgICAgICAgdG9wTm90ZTogJ0ZyZXNoLCBQaW5lLCBUdXJwZW50aW5lJyxcbiAgICAgICAgICBoZWFydE5vdGU6ICdXb29keSwgUmVzaW5vdXMnLFxuICAgICAgICAgIGJhc2VOb3RlOiAnRHJ5LCBTbGlnaHQnLFxuICAgICAgICAgIGludGVuc2l0eTogJzcvMTAnLFxuICAgICAgICAgIGxvbmdldml0eTogJzItNCBob3VycydcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdmZy1sYWN0b25lcycsXG4gICAgICBuYW1lOiAnTGFjdG9uZXMnLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZmctZ2FtbWEtdW5kZWNhbGFjdG9uZScsXG4gICAgICAgICAgbmFtZTogJ0dhbW1hLVVuZGVjYWxhY3RvbmUnLFxuICAgICAgICAgIGNhc05vOiAnMTA0LTY3LTYnLFxuICAgICAgICAgIGNvbmNlbnRyYXRpb246IDUsXG4gICAgICAgICAgcXVhbnRpdHk6IDEyLFxuICAgICAgICAgIGNvc3Q6IDU1LFxuICAgICAgICAgIGNhdGVnb3J5OiAnRnVuY3Rpb25hbCBHcm91cCcsXG4gICAgICAgICAgc3ViY2F0ZWdvcnk6ICdMYWN0b25lcycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDcmVhbXksIHBlYWNoLWxpa2UgbGFjdG9uZScsXG4gICAgICAgICAgaXNMZWFmOiB0cnVlLFxuICAgICAgICAgIG9sZmFjdGl2ZUZhbWlseTogJ0ZydWl0eSBDcmVhbXknLFxuICAgICAgICAgIHRvcE5vdGU6ICdGcmVzaCwgRnJ1aXR5LCBQZWFjaCcsXG4gICAgICAgICAgaGVhcnROb3RlOiAnQ3JlYW15LCBNaWxreSwgQ29jb251dCcsXG4gICAgICAgICAgYmFzZU5vdGU6ICdTb2Z0LCBQb3dkZXJ5JyxcbiAgICAgICAgICBpbnRlbnNpdHk6ICc4LzEwJyxcbiAgICAgICAgICBsb25nZXZpdHk6ICc2LTEwIGhvdXJzJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdO1xuXG4gIGNvbnN0IGdldENvbnRlbnRGb3JUYWIgPSAoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZVRhYiA9PT0gJ1NvdXJjZScpIHtcbiAgICAgIHJldHVybiBpbmdyZWRpZW50cztcbiAgICB9IGVsc2UgaWYgKGFjdGl2ZVRhYiA9PT0gJ0xpYnJhcnknKSB7XG4gICAgICByZXR1cm4gbGlicmFyeUluZ3JlZGllbnRzO1xuICAgIH0gZWxzZSBpZiAoYWN0aXZlVGFiID09PSAnRnVuY3Rpb25hbCBHcm91cCcpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbmFsR3JvdXBJbmdyZWRpZW50cztcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9O1xuXG4gIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gZ2V0Q29udGVudEZvclRhYigpO1xuICBjb25zdCB2aXNpYmxlU2Vjb25kTGV2ZWxUYWJzID0gMjtcbiAgY29uc3QgbWF4U2Vjb25kTGV2ZWxTY3JvbGxJbmRleCA9IE1hdGgubWF4KDAsIGN1cnJlbnRDb250ZW50Lmxlbmd0aCAtIHZpc2libGVTZWNvbmRMZXZlbFRhYnMpO1xuXG4gIC8vIEF1dG8tZXhwYW5kIGZpcnN0IGVsZW1lbnQgYmFzZWQgb24gYWN0aXZlIHRhYlxuICBjb25zdCBnZXREZWZhdWx0RXhwYW5kZWRGb3JUYWIgPSAodGFiSWQ6IHN0cmluZykgPT4ge1xuICAgIHN3aXRjaCAodGFiSWQpIHtcbiAgICAgIGNhc2UgJ1NvdXJjZSc6XG4gICAgICAgIHJldHVybiAnbmF0dXJhbCc7XG4gICAgICBjYXNlICdMaWJyYXJ5JzpcbiAgICAgICAgcmV0dXJuICdsaWItcG9wdWxhcic7XG4gICAgICBjYXNlICdGdW5jdGlvbmFsIEdyb3VwJzpcbiAgICAgICAgcmV0dXJuICdmZy1hbGRlaHlkZXMnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfTtcblxuICAvLyBVcGRhdGUgZXhwYW5kZWQgbm9kZXMgd2hlbiBzd2l0Y2hpbmcgdGFic1xuICBjb25zdCBoYW5kbGVUYWJDaGFuZ2UgPSAodGFiSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldEFjdGl2ZVRhYih0YWJJZCk7XG4gICAgY29uc3QgZGVmYXVsdEV4cGFuZGVkID0gZ2V0RGVmYXVsdEV4cGFuZGVkRm9yVGFiKHRhYklkKTtcbiAgICBpZiAoZGVmYXVsdEV4cGFuZGVkKSB7XG4gICAgICBzZXRFeHBhbmRlZE5vZGVzKG5ldyBTZXQoW2RlZmF1bHRFeHBhbmRlZF0pKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlTm9kZSA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbmV3RXhwYW5kZWQgPSBuZXcgU2V0KGV4cGFuZGVkTm9kZXMpO1xuICAgIGlmIChuZXdFeHBhbmRlZC5oYXMoaWQpKSB7XG4gICAgICBuZXdFeHBhbmRlZC5kZWxldGUoaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdFeHBhbmRlZC5hZGQoaWQpO1xuICAgIH1cbiAgICBzZXRFeHBhbmRlZE5vZGVzKG5ld0V4cGFuZGVkKTtcbiAgfTtcblxuICBjb25zdCBzY3JvbGxTZWNvbmRMZXZlbExlZnQgPSAoKSA9PiB7XG4gICAgc2V0U2Vjb25kTGV2ZWxTY3JvbGxJbmRleChNYXRoLm1heCgwLCBzZWNvbmRMZXZlbFNjcm9sbEluZGV4IC0gMSkpO1xuICB9O1xuXG4gIGNvbnN0IHNjcm9sbFNlY29uZExldmVsUmlnaHQgPSAoKSA9PiB7XG4gICAgc2V0U2Vjb25kTGV2ZWxTY3JvbGxJbmRleChNYXRoLm1pbihtYXhTZWNvbmRMZXZlbFNjcm9sbEluZGV4LCBzZWNvbmRMZXZlbFNjcm9sbEluZGV4ICsgMSkpO1xuICB9O1xuXG4gIGlmIChpc0NvbGxhcHNlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXNtIGJvcmRlciBib3JkZXItZ3JheS0yMDAgaC1mdWxsIGZsZXggZmxleC1jb2wgdy0xNiBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25Ub2dnbGVDb2xsYXBzZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgaG92ZXI6YmctZ3JheS0xMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktbWVudS11bmZvbGQtbGluZSB0ZXh0LWdyYXktNjAwXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcHktMiBzcGFjZS15LTJcIj5cbiAgICAgICAgICB7dGFicy5tYXAoKHRhYikgPT4gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBrZXk9e3RhYi5pZH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVGFiQ2hhbmdlKHRhYi5pZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctMTAgaC0xMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGFiID09PSB0YWIuaWRcbiAgICAgICAgICAgICAgICAgID8gJ2JnLXRlYWwtNjAwIHRleHQtd2hpdGUnXG4gICAgICAgICAgICAgICAgICA6ICd0ZXh0LWdyYXktNTAwIGhvdmVyOmJnLWdyYXktMjAwJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgdGl0bGU9e3RhYi5uYW1lfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e3RhYi5pY29ufSAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGgtZnVsbCBmbGV4IGZsZXgtY29sIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgbGc6cC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTNcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBsZzp0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPkluZ3JlZGllbnRzPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZGRlbiBsZzpibG9ja1wiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtvblRvZ2dsZUNvbGxhcHNlfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTEgaG92ZXI6YmctZ3JheS0xMDAgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cInJpLW1lbnUtZm9sZC1saW5lIHRleHQtZ3JheS02MDBcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTQgZ2FwLTEgbWItM1wiPlxuICAgICAgICAgIHt0YWJzLm1hcCgodGFiKSA9PiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGtleT17dGFiLmlkfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UodGFiLmlkKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC0yIHJvdW5kZWQgdGV4dC14cyBsZzp0ZXh0LXNtIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGFiID09PSB0YWIuaWRcbiAgICAgICAgICAgICAgICAgID8gJ2JnLXRlYWwtNjAwIHRleHQtd2hpdGUnXG4gICAgICAgICAgICAgICAgICA6ICd0ZXh0LWdyYXktNTAwIGhvdmVyOmJnLWdyYXktMjAwJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1iLTFcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e3RhYi5pY29ufSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGVhZGluZy10aWdodCB0ZXh0LWNlbnRlclwiPnt0YWIubmFtZX08L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMlwiPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktc2VhcmNoLWxpbmUgdGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBpbmdyZWRpZW50cy4uLlwiXG4gICAgICAgICAgICB2YWx1ZT17c2VhcmNoVGVybX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcGwtMTAgcHItNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItb3JhbmdlLTUwMFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtMiBsZzpwLTRcIj5cbiAgICAgICAge2N1cnJlbnRDb250ZW50Lmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17c2Nyb2xsU2Vjb25kTGV2ZWxMZWZ0fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzZWNvbmRMZXZlbFNjcm9sbEluZGV4ID09PSAwfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctNiBoLTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZCBmbGV4LXNocmluay0wICR7XG4gICAgICAgICAgICAgICAgICBzZWNvbmRMZXZlbFNjcm9sbEluZGV4ID09PSAwXG4gICAgICAgICAgICAgICAgICAgID8gJ3RleHQtZ3JheS0zMDAgY3Vyc29yLW5vdC1hbGxvd2VkJ1xuICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktMTAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktYXJyb3ctbGVmdC1zLWxpbmUgdGV4dC1zbVwiIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoLSR7c2Vjb25kTGV2ZWxTY3JvbGxJbmRleCAqICgxMDAgLyB2aXNpYmxlU2Vjb25kTGV2ZWxUYWJzKX0lKWAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Y3VycmVudENvbnRlbnQubWFwKChpbmdyZWRpZW50KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZ3JlZGllbnQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlTm9kZShpbmdyZWRpZW50LmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LXNocmluay0wIHB4LTMgbGc6cHgtNCBweS0yIHJvdW5kZWQtZnVsbCB0ZXh0LXhzIGxnOnRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMgY3Vyc29yLXBvaW50ZXIgd2hpdGVzcGFjZS1ub3dyYXAgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZGVkTm9kZXMuaGFzKGluZ3JlZGllbnQuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXBpbmstNjAwIHRleHQtd2hpdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0zMDAgdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTUwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogYGNhbGMoJHsxMDAgLyB2aXNpYmxlU2Vjb25kTGV2ZWxUYWJzfSUgLSAwLjVyZW0pYCxcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2luZ3JlZGllbnQubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3Njcm9sbFNlY29uZExldmVsUmlnaHR9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NlY29uZExldmVsU2Nyb2xsSW5kZXggPj0gbWF4U2Vjb25kTGV2ZWxTY3JvbGxJbmRleH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTYgaC02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQgZmxleC1zaHJpbmstMCAke1xuICAgICAgICAgICAgICAgICAgc2Vjb25kTGV2ZWxTY3JvbGxJbmRleCA+PSBtYXhTZWNvbmRMZXZlbFNjcm9sbEluZGV4XG4gICAgICAgICAgICAgICAgICAgID8gJ3RleHQtZ3JheS0zMDAgY3Vyc29yLW5vdC1hbGxvd2VkJ1xuICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktMTAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicmktYXJyb3ctcmlnaHQtcy1saW5lIHRleHQtc21cIiAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAge2N1cnJlbnRDb250ZW50Lm1hcCgoaW5ncmVkaWVudCkgPT4gKFxuICAgICAgICAgICAgZXhwYW5kZWROb2Rlcy5oYXMoaW5ncmVkaWVudC5pZCkgJiYgaW5ncmVkaWVudC5jaGlsZHJlbiAmJiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmdyZWRpZW50LmlkfSBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICB7aW5ncmVkaWVudC5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8SW5ncmVkaWVudE5vZGVcbiAgICAgICAgICAgICAgICAgICAga2V5PXtjaGlsZC5pZH1cbiAgICAgICAgICAgICAgICAgICAgaW5ncmVkaWVudD17Y2hpbGR9XG4gICAgICAgICAgICAgICAgICAgIGxldmVsPXsxfVxuICAgICAgICAgICAgICAgICAgICBleHBhbmRlZE5vZGVzPXtleHBhbmRlZE5vZGVzfVxuICAgICAgICAgICAgICAgICAgICBvblRvZ2dsZT17dG9nZ2xlTm9kZX1cbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoVGVybT17c2VhcmNoVGVybX1cbiAgICAgICAgICAgICAgICAgICAgdXNlZEluZ3JlZGllbnRJZHM9e3VzZWRJbmdyZWRpZW50SWRzfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHthY3RpdmVUYWIgPT09ICdFeGlzdGluZyBGb3JtdWxhJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIHB5LTggdGV4dC1iYXNlXCI+XG4gICAgICAgICAgICBDb250ZW50IGZvciB7YWN0aXZlVGFifSB0YWIgY29taW5nIHNvb24uLi5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRHJhZ2dhYmxlIiwiRHJhZ2dhYmxlSW5ncmVkaWVudCIsImluZ3JlZGllbnQiLCJpc0Rpc2FibGVkIiwiYXR0cmlidXRlcyIsImxpc3RlbmVycyIsInNldE5vZGVSZWYiLCJ0cmFuc2Zvcm0iLCJpc0RyYWdnaW5nIiwiaWQiLCJkYXRhIiwiZGlzYWJsZWQiLCJzdHlsZSIsIngiLCJ5IiwiekluZGV4IiwidW5kZWZpbmVkIiwiZGl2IiwicmVmIiwiY2xhc3NOYW1lIiwibmFtZSIsImNhc05vIiwiY29uY2VudHJhdGlvbiIsIkluZ3JlZGllbnROb2RlIiwibGV2ZWwiLCJleHBhbmRlZE5vZGVzIiwib25Ub2dnbGUiLCJzZWFyY2hUZXJtIiwidXNlZEluZ3JlZGllbnRJZHMiLCJoYXNDaGlsZHJlbiIsImNoaWxkcmVuIiwibGVuZ3RoIiwiaXNFeHBhbmRlZCIsImhhcyIsImlzTGVhZiIsImlzVXNlZCIsImluY2x1ZGVzIiwibWF0Y2hlc1NlYXJjaCIsImluZyIsInRlcm0iLCJzZWFyY2hMb3dlciIsInRvTG93ZXJDYXNlIiwibmFtZU1hdGNoIiwiY2FzTWF0Y2giLCJjYXRlZ29yeU1hdGNoIiwiY2F0ZWdvcnkiLCJzdWJjYXRlZ29yeU1hdGNoIiwic3ViY2F0ZWdvcnkiLCJoYXNNYXRjaGluZ0Rlc2NlbmRhbnQiLCJzb21lIiwiY2hpbGQiLCJoYW5kbGVDbGljayIsInBhZGRpbmdMZWZ0Iiwib25DbGljayIsImkiLCJzcGFuIiwibWFwIiwiSW5ncmVkaWVudHNQYWxldHRlIiwiaW5ncmVkaWVudHMiLCJpc0NvbGxhcHNlZCIsIm9uVG9nZ2xlQ29sbGFwc2UiLCJhY3RpdmVUYWIiLCJzZXRBY3RpdmVUYWIiLCJzZXRFeHBhbmRlZE5vZGVzIiwiU2V0Iiwic2V0U2VhcmNoVGVybSIsInNlY29uZExldmVsU2Nyb2xsSW5kZXgiLCJzZXRTZWNvbmRMZXZlbFNjcm9sbEluZGV4IiwidGFicyIsImljb24iLCJsaWJyYXJ5SW5ncmVkaWVudHMiLCJxdWFudGl0eSIsImNvc3QiLCJkZXNjcmlwdGlvbiIsIm9sZmFjdGl2ZUZhbWlseSIsInRvcE5vdGUiLCJoZWFydE5vdGUiLCJiYXNlTm90ZSIsImludGVuc2l0eSIsImxvbmdldml0eSIsImZ1bmN0aW9uYWxHcm91cEluZ3JlZGllbnRzIiwiZ2V0Q29udGVudEZvclRhYiIsImN1cnJlbnRDb250ZW50IiwidmlzaWJsZVNlY29uZExldmVsVGFicyIsIm1heFNlY29uZExldmVsU2Nyb2xsSW5kZXgiLCJNYXRoIiwibWF4IiwiZ2V0RGVmYXVsdEV4cGFuZGVkRm9yVGFiIiwidGFiSWQiLCJoYW5kbGVUYWJDaGFuZ2UiLCJkZWZhdWx0RXhwYW5kZWQiLCJ0b2dnbGVOb2RlIiwibmV3RXhwYW5kZWQiLCJkZWxldGUiLCJhZGQiLCJzY3JvbGxTZWNvbmRMZXZlbExlZnQiLCJzY3JvbGxTZWNvbmRMZXZlbFJpZ2h0IiwibWluIiwiYnV0dG9uIiwidGFiIiwidGl0bGUiLCJoMyIsImlucHV0IiwidHlwZSIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJtaW5XaWR0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/IngredientsPalette.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/PerfumeFormulaBuilder.tsx":
/*!**********************************************!*\
  !*** ./components/PerfumeFormulaBuilder.tsx ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PerfumeFormulaBuilder)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/core */ \"(app-pages-browser)/./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/sortable */ \"(app-pages-browser)/./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var _IngredientsPalette__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./IngredientsPalette */ \"(app-pages-browser)/./components/IngredientsPalette.tsx\");\n/* harmony import */ var _FormulaCanvas__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FormulaCanvas */ \"(app-pages-browser)/./components/FormulaCanvas.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction PerfumeFormulaBuilder() {\n    _s();\n    const [ingredients, setIngredients] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isPaletteCollapsed, setIsPaletteCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [activeIngredient, setActiveIngredient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [ingredientsData, setIngredientsData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PerfumeFormulaBuilder.useEffect\": ()=>{\n            const loadIngredientsData = {\n                \"PerfumeFormulaBuilder.useEffect.loadIngredientsData\": async ()=>{\n                    try {\n                        const enhancedIngredients = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_lib_ingredientsData_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/lib/ingredientsData */ \"(app-pages-browser)/./lib/ingredientsData.ts\"));\n                        setIngredientsData(enhancedIngredients.ingredientsData);\n                    } catch (error) {\n                        console.error('Failed to load ingredients data:', error);\n                        const fallbackData = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_lib_ingredientsData_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/lib/ingredientsData */ \"(app-pages-browser)/./lib/ingredientsData.ts\"));\n                        setIngredientsData(fallbackData.ingredientsData);\n                    }\n                }\n            }[\"PerfumeFormulaBuilder.useEffect.loadIngredientsData\"];\n            loadIngredientsData();\n        }\n    }[\"PerfumeFormulaBuilder.useEffect\"], []);\n    const sensors = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useSensors)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.PointerSensor, {\n        activationConstraint: {\n            distance: 8\n        }\n    }), (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.KeyboardSensor, {\n        coordinateGetter: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.sortableKeyboardCoordinates\n    }));\n    const isIngredientInFormula = (ingredientId)=>{\n        return ingredients.some((ingredient)=>ingredient.id === ingredientId);\n    };\n    const handleDragStart = (event)=>{\n        var _event_active_data_current;\n        const ingredient = (_event_active_data_current = event.active.data.current) === null || _event_active_data_current === void 0 ? void 0 : _event_active_data_current.ingredient;\n        if (ingredient) {\n            setActiveIngredient(ingredient);\n        }\n    };\n    const handleDragEnd = (event)=>{\n        var _active_data_current;\n        const { active, over } = event;\n        setActiveIngredient(null);\n        if (over && over.id !== 'formula-canvas' && ingredients.some((ing)=>ing.id === active.id)) {\n            return;\n        }\n        if (over && over.id === 'formula-canvas' && ((_active_data_current = active.data.current) === null || _active_data_current === void 0 ? void 0 : _active_data_current.ingredient)) {\n            const ingredient = active.data.current.ingredient;\n            if (!isIngredientInFormula(ingredient.id)) {\n                const newIngredient = {\n                    ...ingredient,\n                    concentration: 5,\n                    quantity: 10,\n                    cost: Math.round(Math.random() * 50 + 10)\n                };\n                addIngredient(newIngredient);\n            }\n        }\n    };\n    const addIngredient = (ingredient)=>{\n        setIngredients((prev)=>[\n                ...prev,\n                ingredient\n            ]);\n    };\n    const removeIngredient = (ingredientId)=>{\n        setIngredients((prev)=>prev.filter((ing)=>ing.id !== ingredientId));\n    };\n    const updateIngredient = (ingredientId, updates)=>{\n        setIngredients((prev)=>prev.map((ing)=>ing.id === ingredientId ? {\n                    ...ing,\n                    ...updates\n                } : ing));\n    };\n    const handleUpdateIngredients = (newIngredients)=>{\n        setIngredients(newIngredients);\n    };\n    const dragOverlayContent = activeIngredient ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white border-2 border-blue-400 rounded-lg p-3 shadow-lg opacity-90 pointer-events-none relative z-50\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-4 h-4 flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"ri-flask-fill text-blue-600\"\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                            lineNumber: 99,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                        lineNumber: 98,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-base font-medium text-gray-900\",\n                        children: activeIngredient.name\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                        lineNumber: 101,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                lineNumber: 97,\n                columnNumber: 7\n            }, this),\n            activeIngredient.casNo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-sm text-gray-500 mt-1\",\n                children: [\n                    \"CAS: \",\n                    activeIngredient.casNo\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                lineNumber: 104,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n        lineNumber: 96,\n        columnNumber: 5\n    }, this) : null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.DndContext, {\n        sensors: sensors,\n        onDragStart: handleDragStart,\n        onDragEnd: handleDragEnd,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col lg:flex-row h-screen bg-gray-50 p-2 lg:p-4 gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"\".concat(isPaletteCollapsed ? 'w-16' : 'w-full lg:w-80 xl:w-96', \" \").concat(isPaletteCollapsed ? 'h-auto' : 'h-80 lg:h-auto', \" transition-all duration-300 flex-shrink-0 order-1\"),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_IngredientsPalette__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            ingredients: ingredientsData,\n                            isCollapsed: isPaletteCollapsed,\n                            onToggleCollapse: ()=>setIsPaletteCollapsed(!isPaletteCollapsed),\n                            usedIngredientIds: ingredients.map((i)=>i.id)\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                            lineNumber: 117,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                        lineNumber: 116,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 order-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FormulaCanvas__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            ingredients: ingredients,\n                            onAddIngredient: addIngredient,\n                            onRemoveIngredient: removeIngredient,\n                            onUpdateIngredient: updateIngredient,\n                            onUpdateIngredients: handleUpdateIngredients\n                        }, void 0, false, {\n                            fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                            lineNumber: 126,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                        lineNumber: 125,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                lineNumber: 115,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.DragOverlay, {\n                children: dragOverlayContent\n            }, void 0, false, {\n                fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n                lineNumber: 136,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/naresh.pentapati/Documents/Projects/fragranceFormula/components/PerfumeFormulaBuilder.tsx\",\n        lineNumber: 110,\n        columnNumber: 5\n    }, this);\n}\n_s(PerfumeFormulaBuilder, \"oZ+lUbAoo1+bl8KSNeX00gT21Ec=\", false, function() {\n    return [\n        _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useSensors\n    ];\n});\n_c = PerfumeFormulaBuilder;\nvar _c;\n$RefreshReg$(_c, \"PerfumeFormulaBuilder\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvUGVyZnVtZUZvcm11bGFCdWlsZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRzRDO0FBQ2dGO0FBQzVEO0FBQ1Y7QUFDVjtBQUc3QixTQUFTVzs7SUFDdEIsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdiLCtDQUFRQSxDQUFlLEVBQUU7SUFDL0QsTUFBTSxDQUFDYyxvQkFBb0JDLHNCQUFzQixHQUFHZiwrQ0FBUUEsQ0FBQztJQUM3RCxNQUFNLENBQUNnQixrQkFBa0JDLG9CQUFvQixHQUFHakIsK0NBQVFBLENBQW9CO0lBQzVFLE1BQU0sQ0FBQ2tCLGlCQUFpQkMsbUJBQW1CLEdBQUduQiwrQ0FBUUEsQ0FBZSxFQUFFO0lBRXZFQyxnREFBU0E7MkNBQUM7WUFDUixNQUFNbUI7dUVBQXNCO29CQUMxQixJQUFJO3dCQUNGLE1BQU1DLHNCQUFzQixNQUFNLG1OQUErQjt3QkFDakVGLG1CQUFtQkUsb0JBQW9CSCxlQUFlO29CQUN4RCxFQUFFLE9BQU9JLE9BQU87d0JBQ2RDLFFBQVFELEtBQUssQ0FBQyxvQ0FBb0NBO3dCQUNsRCxNQUFNRSxlQUFlLE1BQU0sbU5BQStCO3dCQUMxREwsbUJBQW1CSyxhQUFhTixlQUFlO29CQUNqRDtnQkFDRjs7WUFFQUU7UUFDRjswQ0FBRyxFQUFFO0lBRUwsTUFBTUssVUFBVXBCLHlEQUFVQSxDQUN4QkQsd0RBQVNBLENBQUNFLHdEQUFhQSxFQUFFO1FBQ3ZCb0Isc0JBQXNCO1lBQ3BCQyxVQUFVO1FBQ1o7SUFDRixJQUNBdkIsd0RBQVNBLENBQUNHLHlEQUFjQSxFQUFFO1FBQ3hCcUIsa0JBQWtCcEIsMEVBQTJCQTtJQUMvQztJQUdGLE1BQU1xQix3QkFBd0IsQ0FBQ0M7UUFDN0IsT0FBT2xCLFlBQVltQixJQUFJLENBQUNDLENBQUFBLGFBQWNBLFdBQVdDLEVBQUUsS0FBS0g7SUFDMUQ7SUFFQSxNQUFNSSxrQkFBa0IsQ0FBQ0M7WUFDSkE7UUFBbkIs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QUFvQmxCOzRCQUNwQm1CLHFCQUFxQmhCOzs7Ozs7Ozs7Ozs7Ozs7OzswQkFLM0IsOERBQUNyRCxzREFBV0E7MEJBQ1R1RDs7Ozs7Ozs7Ozs7O0FBSVQ7R0FsSXdCL0M7O1FBcUJOTixxREFBVUE7OztLQXJCSk0iLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYXJlc2gucGVudGFwYXRpL0RvY3VtZW50cy9Qcm9qZWN0cy9mcmFncmFuY2VGb3JtdWxhL2NvbXBvbmVudHMvUGVyZnVtZUZvcm11bGFCdWlsZGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERuZENvbnRleHQsIERyYWdFbmRFdmVudCwgRHJhZ092ZXJsYXksIHVzZVNlbnNvciwgdXNlU2Vuc29ycywgUG9pbnRlclNlbnNvciwgS2V5Ym9hcmRTZW5zb3IgfSBmcm9tICdAZG5kLWtpdC9jb3JlJztcbmltcG9ydCB7IHNvcnRhYmxlS2V5Ym9hcmRDb29yZGluYXRlcyB9IGZyb20gJ0BkbmQta2l0L3NvcnRhYmxlJztcbmltcG9ydCBJbmdyZWRpZW50c1BhbGV0dGUgZnJvbSAnLi9JbmdyZWRpZW50c1BhbGV0dGUnO1xuaW1wb3J0IEZvcm11bGFDYW52YXMgZnJvbSAnLi9Gb3JtdWxhQ2FudmFzJztcbmltcG9ydCB7IEluZ3JlZGllbnQgfSBmcm9tICdAL2xpYi9pbmdyZWRpZW50c0RhdGEnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQZXJmdW1lRm9ybXVsYUJ1aWxkZXIoKSB7XG4gIGNvbnN0IFtpbmdyZWRpZW50cywgc2V0SW5ncmVkaWVudHNdID0gdXNlU3RhdGU8SW5ncmVkaWVudFtdPihbXSk7XG4gIGNvbnN0IFtpc1BhbGV0dGVDb2xsYXBzZWQsIHNldElzUGFsZXR0ZUNvbGxhcHNlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthY3RpdmVJbmdyZWRpZW50LCBzZXRBY3RpdmVJbmdyZWRpZW50XSA9IHVzZVN0YXRlPEluZ3JlZGllbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2luZ3JlZGllbnRzRGF0YSwgc2V0SW5ncmVkaWVudHNEYXRhXSA9IHVzZVN0YXRlPEluZ3JlZGllbnRbXT4oW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZEluZ3JlZGllbnRzRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGVuaGFuY2VkSW5ncmVkaWVudHMgPSBhd2FpdCBpbXBvcnQoJ0AvbGliL2luZ3JlZGllbnRzRGF0YScpO1xuICAgICAgICBzZXRJbmdyZWRpZW50c0RhdGEoZW5oYW5jZWRJbmdyZWRpZW50cy5pbmdyZWRpZW50c0RhdGEpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgaW5ncmVkaWVudHMgZGF0YTonLCBlcnJvcik7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrRGF0YSA9IGF3YWl0IGltcG9ydCgnQC9saWIvaW5ncmVkaWVudHNEYXRhJyk7XG4gICAgICAgIHNldEluZ3JlZGllbnRzRGF0YShmYWxsYmFja0RhdGEuaW5ncmVkaWVudHNEYXRhKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbG9hZEluZ3JlZGllbnRzRGF0YSgpO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgc2Vuc29ycyA9IHVzZVNlbnNvcnMoXG4gICAgdXNlU2Vuc29yKFBvaW50ZXJTZW5zb3IsIHtcbiAgICAgIGFjdGl2YXRpb25Db25zdHJhaW50OiB7XG4gICAgICAgIGRpc3RhbmNlOiA4LFxuICAgICAgfSxcbiAgICB9KSxcbiAgICB1c2VTZW5zb3IoS2V5Ym9hcmRTZW5zb3IsIHtcbiAgICAgIGNvb3JkaW5hdGVHZXR0ZXI6IHNvcnRhYmxlS2V5Ym9hcmRDb29yZGluYXRlcyxcbiAgICB9KVxuICApO1xuXG4gIGNvbnN0IGlzSW5ncmVkaWVudEluRm9ybXVsYSA9IChpbmdyZWRpZW50SWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBpbmdyZWRpZW50cy5zb21lKGluZ3JlZGllbnQgPT4gaW5ncmVkaWVudC5pZCA9PT0gaW5ncmVkaWVudElkKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEcmFnU3RhcnQgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgIGNvbnN0IGluZ3JlZGllbnQgPSBldmVudC5hY3RpdmUuZGF0YS5jdXJyZW50Py5pbmdyZWRpZW50O1xuICAgIGlmIChpbmdyZWRpZW50KSB7XG4gICAgICBzZXRBY3RpdmVJbmdyZWRpZW50KGluZ3JlZGllbnQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEcmFnRW5kID0gKGV2ZW50OiBEcmFnRW5kRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGFjdGl2ZSwgb3ZlciB9ID0gZXZlbnQ7XG4gICAgc2V0QWN0aXZlSW5ncmVkaWVudChudWxsKTtcblxuICAgIGlmIChvdmVyICYmIG92ZXIuaWQgIT09ICdmb3JtdWxhLWNhbnZhcycgJiYgaW5ncmVkaWVudHMuc29tZShpbmcgPT4gaW5nLmlkID09PSBhY3RpdmUuaWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG92ZXIgJiYgb3Zlci5pZCA9PT0gJ2Zvcm11bGEtY2FudmFzJyAmJiBhY3RpdmUuZGF0YS5jdXJyZW50Py5pbmdyZWRpZW50KSB7XG4gICAgICBjb25zdCBpbmdyZWRpZW50ID0gYWN0aXZlLmRhdGEuY3VycmVudC5pbmdyZWRpZW50IGFzIEluZ3JlZGllbnQ7XG4gICAgICBcbiAgICAgIGlmICghaXNJbmdyZWRpZW50SW5Gb3JtdWxhKGluZ3JlZGllbnQuaWQpKSB7XG4gICAgICAgIGNvbnN0IG5ld0luZ3JlZGllbnQgPSB7XG4gICAgICAgICAgLi4uaW5ncmVkaWVudCxcbiAgICAgICAgICBjb25jZW50cmF0aW9uOiA1LFxuICAgICAgICAgIHF1YW50aXR5OiAxMCxcbiAgICAgICAgICBjb3N0OiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1MCArIDEwKVxuICAgICAgICB9O1xuICAgICAgICBhZGRJbmdyZWRpZW50KG5ld0luZ3JlZGllbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBhZGRJbmdyZWRpZW50ID0gKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IHtcbiAgICBzZXRJbmdyZWRpZW50cyhwcmV2ID0+IFsuLi5wcmV2LCBpbmdyZWRpZW50XSk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlSW5ncmVkaWVudCA9IChpbmdyZWRpZW50SWQ6IHN0cmluZykgPT4ge1xuICAgIHNldEluZ3JlZGllbnRzKHByZXYgPT4gcHJldi5maWx0ZXIoaW5nID0+IGluZy5pZCAhPT0gaW5ncmVkaWVudElkKSk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlSW5ncmVkaWVudCA9IChpbmdyZWRpZW50SWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxJbmdyZWRpZW50PikgPT4ge1xuICAgIHNldEluZ3JlZGllbnRzKHByZXYgPT4gcHJldi5tYXAoaW5nID0+XG4gICAgICBpbmcuaWQgPT09IGluZ3JlZGllbnRJZCA/IHsgLi4uaW5nLCAuLi51cGRhdGVzIH0gOiBpbmdcbiAgICApKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVVcGRhdGVJbmdyZWRpZW50cyA9IChuZXdJbmdyZWRpZW50czogSW5ncmVkaWVudFtdKSA9PiB7XG4gICAgc2V0SW5ncmVkaWVudHMobmV3SW5ncmVkaWVudHMpO1xuICB9O1xuXG4gIGNvbnN0IGRyYWdPdmVybGF5Q29udGVudCA9IGFjdGl2ZUluZ3JlZGllbnQgPyAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBib3JkZXItMiBib3JkZXItYmx1ZS00MDAgcm91bmRlZC1sZyBwLTMgc2hhZG93LWxnIG9wYWNpdHktOTAgcG9pbnRlci1ldmVudHMtbm9uZSByZWxhdGl2ZSB6LTUwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJyaS1mbGFzay1maWxsIHRleHQtYmx1ZS02MDBcIj48L2k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+e2FjdGl2ZUluZ3JlZGllbnQubmFtZX08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAge2FjdGl2ZUluZ3JlZGllbnQuY2FzTm8gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBtdC0xXCI+Q0FTOiB7YWN0aXZlSW5ncmVkaWVudC5jYXNOb308L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICkgOiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPERuZENvbnRleHRcbiAgICAgIHNlbnNvcnM9e3NlbnNvcnN9XG4gICAgICBvbkRyYWdTdGFydD17aGFuZGxlRHJhZ1N0YXJ0fVxuICAgICAgb25EcmFnRW5kPXtoYW5kbGVEcmFnRW5kfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBsZzpmbGV4LXJvdyBoLXNjcmVlbiBiZy1ncmF5LTUwIHAtMiBsZzpwLTQgZ2FwLTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2lzUGFsZXR0ZUNvbGxhcHNlZCA/ICd3LTE2JyA6ICd3LWZ1bGwgbGc6dy04MCB4bDp3LTk2J30gJHtpc1BhbGV0dGVDb2xsYXBzZWQgPyAnaC1hdXRvJyA6ICdoLTgwIGxnOmgtYXV0byd9IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBmbGV4LXNocmluay0wIG9yZGVyLTFgfT5cbiAgICAgICAgICA8SW5ncmVkaWVudHNQYWxldHRlXG4gICAgICAgICAgICBpbmdyZWRpZW50cz17aW5ncmVkaWVudHNEYXRhfVxuICAgICAgICAgICAgaXNDb2xsYXBzZWQ9e2lzUGFsZXR0ZUNvbGxhcHNlZH1cbiAgICAgICAgICAgIG9uVG9nZ2xlQ29sbGFwc2U9eygpID0+IHNldElzUGFsZXR0ZUNvbGxhcHNlZCghaXNQYWxldHRlQ29sbGFwc2VkKX1cbiAgICAgICAgICAgIHVzZWRJbmdyZWRpZW50SWRzPXtpbmdyZWRpZW50cy5tYXAoaSA9PiBpLmlkKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvcmRlci0yXCI+XG4gICAgICAgICAgPEZvcm11bGFDYW52YXNcbiAgICAgICAgICAgIGluZ3JlZGllbnRzPXtpbmdyZWRpZW50c31cbiAgICAgICAgICAgIG9uQWRkSW5ncmVkaWVudD17YWRkSW5ncmVkaWVudH1cbiAgICAgICAgICAgIG9uUmVtb3ZlSW5ncmVkaWVudD17cmVtb3ZlSW5ncmVkaWVudH1cbiAgICAgICAgICAgIG9uVXBkYXRlSW5ncmVkaWVudD17dXBkYXRlSW5ncmVkaWVudH1cbiAgICAgICAgICAgIG9uVXBkYXRlSW5ncmVkaWVudHM9e2hhbmRsZVVwZGF0ZUluZ3JlZGllbnRzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxEcmFnT3ZlcmxheT5cbiAgICAgICAge2RyYWdPdmVybGF5Q29udGVudH1cbiAgICAgIDwvRHJhZ092ZXJsYXk+XG4gICAgPC9EbmRDb250ZXh0PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRG5kQ29udGV4dCIsIkRyYWdPdmVybGF5IiwidXNlU2Vuc29yIiwidXNlU2Vuc29ycyIsIlBvaW50ZXJTZW5zb3IiLCJLZXlib2FyZFNlbnNvciIsInNvcnRhYmxlS2V5Ym9hcmRDb29yZGluYXRlcyIsIkluZ3JlZGllbnRzUGFsZXR0ZSIsIkZvcm11bGFDYW52YXMiLCJQZXJmdW1lRm9ybXVsYUJ1aWxkZXIiLCJpbmdyZWRpZW50cyIsInNldEluZ3JlZGllbnRzIiwiaXNQYWxldHRlQ29sbGFwc2VkIiwic2V0SXNQYWxldHRlQ29sbGFwc2VkIiwiYWN0aXZlSW5ncmVkaWVudCIsInNldEFjdGl2ZUluZ3JlZGllbnQiLCJpbmdyZWRpZW50c0RhdGEiLCJzZXRJbmdyZWRpZW50c0RhdGEiLCJsb2FkSW5ncmVkaWVudHNEYXRhIiwiZW5oYW5jZWRJbmdyZWRpZW50cyIsImVycm9yIiwiY29uc29sZSIsImZhbGxiYWNrRGF0YSIsInNlbnNvcnMiLCJhY3RpdmF0aW9uQ29uc3RyYWludCIsImRpc3RhbmNlIiwiY29vcmRpbmF0ZUdldHRlciIsImlzSW5ncmVkaWVudEluRm9ybXVsYSIsImluZ3JlZGllbnRJZCIsInNvbWUiLCJpbmdyZWRpZW50IiwiaWQiLCJoYW5kbGVEcmFnU3RhcnQiLCJldmVudCIsImFjdGl2ZSIsImRhdGEiLCJjdXJyZW50IiwiaGFuZGxlRHJhZ0VuZCIsIm92ZXIiLCJpbmciLCJuZXdJbmdyZWRpZW50IiwiY29uY2VudHJhdGlvbiIsInF1YW50aXR5IiwiY29zdCIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsImFkZEluZ3JlZGllbnQiLCJwcmV2IiwicmVtb3ZlSW5ncmVkaWVudCIsImZpbHRlciIsInVwZGF0ZUluZ3JlZGllbnQiLCJ1cGRhdGVzIiwibWFwIiwiaGFuZGxlVXBkYXRlSW5ncmVkaWVudHMiLCJuZXdJbmdyZWRpZW50cyIsImRyYWdPdmVybGF5Q29udGVudCIsImRpdiIsImNsYXNzTmFtZSIsImkiLCJuYW1lIiwiY2FzTm8iLCJvbkRyYWdTdGFydCIsIm9uRHJhZ0VuZCIsImlzQ29sbGFwc2VkIiwib25Ub2dnbGVDb2xsYXBzZSIsInVzZWRJbmdyZWRpZW50SWRzIiwib25BZGRJbmdyZWRpZW50Iiwib25SZW1vdmVJbmdyZWRpZW50Iiwib25VcGRhdGVJbmdyZWRpZW50Iiwib25VcGRhdGVJbmdyZWRpZW50cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/PerfumeFormulaBuilder.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@dnd-kit/accessibility/dist/accessibility.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@dnd-kit/accessibility/dist/accessibility.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HiddenText: () => (/* binding */ HiddenText),\n/* harmony export */   LiveRegion: () => (/* binding */ LiveRegion),\n/* harmony export */   useAnnouncement: () => (/* binding */ useAnnouncement)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst hiddenStyles = {\n  display: 'none'\n};\nfunction HiddenText(_ref) {\n  let {\n    id,\n    value\n  } = _ref;\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: id,\n    style: hiddenStyles\n  }, value);\n}\n\nfunction LiveRegion(_ref) {\n  let {\n    id,\n    announcement,\n    ariaLiveType = \"assertive\"\n  } = _ref;\n  // Hide element visually but keep it readable by screen readers\n  const visuallyHidden = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0 0 0 0)',\n    clipPath: 'inset(100%)',\n    whiteSpace: 'nowrap'\n  };\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: id,\n    style: visuallyHidden,\n    role: \"status\",\n    \"aria-live\": ariaLiveType,\n    \"aria-atomic\": true\n  }, announcement);\n}\n\nfunction useAnnouncement() {\n  const [announcement, setAnnouncement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const announce = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(value => {\n    if (value != null) {\n      setAnnouncement(value);\n    }\n  }, []);\n  return {\n    announce,\n    announcement\n  };\n}\n\n\n//# sourceMappingURL=accessibility.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9hY2Nlc3NpYmlsaXR5L2Rpc3QvYWNjZXNzaWJpbGl0eS5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUQ7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLFNBQVMsMERBQW1CO0FBQzVCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBEQUFtQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsMENBQTBDLCtDQUFRO0FBQ2xELG1CQUFtQixrREFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFbUQ7QUFDbkQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYXJlc2gucGVudGFwYXRpL0RvY3VtZW50cy9Qcm9qZWN0cy9mcmFncmFuY2VGb3JtdWxhL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9hY2Nlc3NpYmlsaXR5L2Rpc3QvYWNjZXNzaWJpbGl0eS5lc20uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgaGlkZGVuU3R5bGVzID0ge1xuICBkaXNwbGF5OiAnbm9uZSdcbn07XG5mdW5jdGlvbiBIaWRkZW5UZXh0KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBpZCxcbiAgICB2YWx1ZVxuICB9ID0gX3JlZjtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGlkOiBpZCxcbiAgICBzdHlsZTogaGlkZGVuU3R5bGVzXG4gIH0sIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gTGl2ZVJlZ2lvbihfcmVmKSB7XG4gIGxldCB7XG4gICAgaWQsXG4gICAgYW5ub3VuY2VtZW50LFxuICAgIGFyaWFMaXZlVHlwZSA9IFwiYXNzZXJ0aXZlXCJcbiAgfSA9IF9yZWY7XG4gIC8vIEhpZGUgZWxlbWVudCB2aXN1YWxseSBidXQga2VlcCBpdCByZWFkYWJsZSBieSBzY3JlZW4gcmVhZGVyc1xuICBjb25zdCB2aXN1YWxseUhpZGRlbiA9IHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICB0b3A6IDAsXG4gICAgbGVmdDogMCxcbiAgICB3aWR0aDogMSxcbiAgICBoZWlnaHQ6IDEsXG4gICAgbWFyZ2luOiAtMSxcbiAgICBib3JkZXI6IDAsXG4gICAgcGFkZGluZzogMCxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgY2xpcDogJ3JlY3QoMCAwIDAgMCknLFxuICAgIGNsaXBQYXRoOiAnaW5zZXQoMTAwJSknLFxuICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnXG4gIH07XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBpZDogaWQsXG4gICAgc3R5bGU6IHZpc3VhbGx5SGlkZGVuLFxuICAgIHJvbGU6IFwic3RhdHVzXCIsXG4gICAgXCJhcmlhLWxpdmVcIjogYXJpYUxpdmVUeXBlLFxuICAgIFwiYXJpYS1hdG9taWNcIjogdHJ1ZVxuICB9LCBhbm5vdW5jZW1lbnQpO1xufVxuXG5mdW5jdGlvbiB1c2VBbm5vdW5jZW1lbnQoKSB7XG4gIGNvbnN0IFthbm5vdW5jZW1lbnQsIHNldEFubm91bmNlbWVudF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IGFubm91bmNlID0gdXNlQ2FsbGJhY2sodmFsdWUgPT4ge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBzZXRBbm5vdW5jZW1lbnQodmFsdWUpO1xuICAgIH1cbiAgfSwgW10pO1xuICByZXR1cm4ge1xuICAgIGFubm91bmNlLFxuICAgIGFubm91bmNlbWVudFxuICB9O1xufVxuXG5leHBvcnQgeyBIaWRkZW5UZXh0LCBMaXZlUmVnaW9uLCB1c2VBbm5vdW5jZW1lbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjY2Vzc2liaWxpdHkuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@dnd-kit/accessibility/dist/accessibility.esm.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@dnd-kit/core/dist/core.esm.js":
/*!*****************************************************!*\
  !*** ./node_modules/@dnd-kit/core/dist/core.esm.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AutoScrollActivator: () => (/* binding */ AutoScrollActivator),\n/* harmony export */   DndContext: () => (/* binding */ DndContext),\n/* harmony export */   DragOverlay: () => (/* binding */ DragOverlay),\n/* harmony export */   KeyboardCode: () => (/* binding */ KeyboardCode),\n/* harmony export */   KeyboardSensor: () => (/* binding */ KeyboardSensor),\n/* harmony export */   MeasuringFrequency: () => (/* binding */ MeasuringFrequency),\n/* harmony export */   MeasuringStrategy: () => (/* binding */ MeasuringStrategy),\n/* harmony export */   MouseSensor: () => (/* binding */ MouseSensor),\n/* harmony export */   PointerSensor: () => (/* binding */ PointerSensor),\n/* harmony export */   TouchSensor: () => (/* binding */ TouchSensor),\n/* harmony export */   TraversalOrder: () => (/* binding */ TraversalOrder),\n/* harmony export */   applyModifiers: () => (/* binding */ applyModifiers),\n/* harmony export */   closestCenter: () => (/* binding */ closestCenter),\n/* harmony export */   closestCorners: () => (/* binding */ closestCorners),\n/* harmony export */   defaultAnnouncements: () => (/* binding */ defaultAnnouncements),\n/* harmony export */   defaultCoordinates: () => (/* binding */ defaultCoordinates),\n/* harmony export */   defaultDropAnimation: () => (/* binding */ defaultDropAnimationConfiguration),\n/* harmony export */   defaultDropAnimationSideEffects: () => (/* binding */ defaultDropAnimationSideEffects),\n/* harmony export */   defaultKeyboardCoordinateGetter: () => (/* binding */ defaultKeyboardCoordinateGetter),\n/* harmony export */   defaultScreenReaderInstructions: () => (/* binding */ defaultScreenReaderInstructions),\n/* harmony export */   getClientRect: () => (/* binding */ getClientRect),\n/* harmony export */   getFirstCollision: () => (/* binding */ getFirstCollision),\n/* harmony export */   getScrollableAncestors: () => (/* binding */ getScrollableAncestors),\n/* harmony export */   pointerWithin: () => (/* binding */ pointerWithin),\n/* harmony export */   rectIntersection: () => (/* binding */ rectIntersection),\n/* harmony export */   useDndContext: () => (/* binding */ useDndContext),\n/* harmony export */   useDndMonitor: () => (/* binding */ useDndMonitor),\n/* harmony export */   useDraggable: () => (/* binding */ useDraggable),\n/* harmony export */   useDroppable: () => (/* binding */ useDroppable),\n/* harmony export */   useSensor: () => (/* binding */ useSensor),\n/* harmony export */   useSensors: () => (/* binding */ useSensors)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/utilities */ \"(app-pages-browser)/./node_modules/@dnd-kit/utilities/dist/utilities.esm.js\");\n/* harmony import */ var _dnd_kit_accessibility__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/accessibility */ \"(app-pages-browser)/./node_modules/@dnd-kit/accessibility/dist/accessibility.esm.js\");\n\n\n\n\n\nconst DndMonitorContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\n\nfunction useDndMonitor(listener) {\n  const registerListener = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(DndMonitorContext);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!registerListener) {\n      throw new Error('useDndMonitor must be used within a children of <DndContext>');\n    }\n\n    const unsubscribe = registerListener(listener);\n    return unsubscribe;\n  }, [listener, registerListener]);\n}\n\nfunction useDndMonitorProvider() {\n  const [listeners] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => new Set());\n  const registerListener = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(listener => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  }, [listeners]);\n  const dispatch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(_ref => {\n    let {\n      type,\n      event\n    } = _ref;\n    listeners.forEach(listener => {\n      var _listener$type;\n\n      return (_listener$type = listener[type]) == null ? void 0 : _listener$type.call(listener, event);\n    });\n  }, [listeners]);\n  return [dispatch, registerListener];\n}\n\nconst defaultScreenReaderInstructions = {\n  draggable: \"\\n    To pick up a draggable item, press the space bar.\\n    While dragging, use the arrow keys to move the item.\\n    Press space again to drop the item in its new position, or press escape to cancel.\\n  \"\n};\nconst defaultAnnouncements = {\n  onDragStart(_ref) {\n    let {\n      active\n    } = _ref;\n    return \"Picked up draggable item \" + active.id + \".\";\n  },\n\n  onDragOver(_ref2) {\n    let {\n      active,\n      over\n    } = _ref2;\n\n    if (over) {\n      return \"Draggable item \" + active.id + \" was moved over droppable area \" + over.id + \".\";\n    }\n\n    return \"Draggable item \" + active.id + \" is no longer over a droppable area.\";\n  },\n\n  onDragEnd(_ref3) {\n    let {\n      active,\n      over\n    } = _ref3;\n\n    if (over) {\n      return \"Draggable item \" + active.id + \" was dropped over droppable area \" + over.id;\n    }\n\n    return \"Draggable item \" + active.id + \" was dropped.\";\n  },\n\n  onDragCancel(_ref4) {\n    let {\n      active\n    } = _ref4;\n    return \"Dragging was cancelled. Draggable item \" + active.id + \" was dropped.\";\n  }\n\n};\n\nfunction Accessibility(_ref) {\n  let {\n    announcements = defaultAnnouncements,\n    container,\n    hiddenTextDescribedById,\n    screenReaderInstructions = defaultScreenReaderInstructions\n  } = _ref;\n  const {\n    announce,\n    announcement\n  } = (0,_dnd_kit_accessibility__WEBPACK_IMPORTED_MODULE_3__.useAnnouncement)();\n  const liveRegionId = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useUniqueId)(\"DndLiveRegion\");\n  const [mounted, setMounted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setMounted(true);\n  }, []);\n  useDndMonitor((0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    onDragStart(_ref2) {\n      let {\n        active\n      } = _ref2;\n      announce(announcements.onDragStart({\n        active\n      }));\n    },\n\n    onDragMove(_ref3) {\n      let {\n        active,\n        over\n      } = _ref3;\n\n      if (announcements.onDragMove) {\n        announce(announcements.onDragMove({\n          active,\n          over\n        }));\n      }\n    },\n\n    onDragOver(_ref4) {\n      let {\n        active,\n        over\n      } = _ref4;\n      announce(announcements.onDragOver({\n        active,\n        over\n      }));\n    },\n\n    onDragEnd(_ref5) {\n      let {\n        active,\n        over\n      } = _ref5;\n      announce(announcements.onDragEnd({\n        active,\n        over\n      }));\n    },\n\n    onDragCancel(_ref6) {\n      let {\n        active,\n        over\n      } = _ref6;\n      announce(announcements.onDragCancel({\n        active,\n        over\n      }));\n    }\n\n  }), [announce, announcements]));\n\n  if (!mounted) {\n    return null;\n  }\n\n  const markup = react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_dnd_kit_accessibility__WEBPACK_IMPORTED_MODULE_3__.HiddenText, {\n    id: hiddenTextDescribedById,\n    value: screenReaderInstructions.draggable\n  }), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_dnd_kit_accessibility__WEBPACK_IMPORTED_MODULE_3__.LiveRegion, {\n    id: liveRegionId,\n    announcement: announcement\n  }));\n  return container ? (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(markup, container) : markup;\n}\n\nvar Action;\n\n(function (Action) {\n  Action[\"DragStart\"] = \"dragStart\";\n  Action[\"DragMove\"] = \"dragMove\";\n  Action[\"DragEnd\"] = \"dragEnd\";\n  Action[\"DragCancel\"] = \"dragCancel\";\n  Action[\"DragOver\"] = \"dragOver\";\n  Action[\"RegisterDroppable\"] = \"registerDroppable\";\n  Action[\"SetDroppableDisabled\"] = \"setDroppableDisabled\";\n  Action[\"UnregisterDroppable\"] = \"unregisterDroppable\";\n})(Action || (Action = {}));\n\nfunction noop() {}\n\nfunction useSensor(sensor, options) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    sensor,\n    options: options != null ? options : {}\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [sensor, options]);\n}\n\nfunction useSensors() {\n  for (var _len = arguments.length, sensors = new Array(_len), _key = 0; _key < _len; _key++) {\n    sensors[_key] = arguments[_key];\n  }\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => [...sensors].filter(sensor => sensor != null), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [...sensors]);\n}\n\nconst defaultCoordinates = /*#__PURE__*/Object.freeze({\n  x: 0,\n  y: 0\n});\n\n/**\r\n * Returns the distance between two points\r\n */\nfunction distanceBetween(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n}\n\nfunction getRelativeTransformOrigin(event, rect) {\n  const eventCoordinates = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getEventCoordinates)(event);\n\n  if (!eventCoordinates) {\n    return '0 0';\n  }\n\n  const transformOrigin = {\n    x: (eventCoordinates.x - rect.left) / rect.width * 100,\n    y: (eventCoordinates.y - rect.top) / rect.height * 100\n  };\n  return transformOrigin.x + \"% \" + transformOrigin.y + \"%\";\n}\n\n/**\r\n * Sort collisions from smallest to greatest value\r\n */\nfunction sortCollisionsAsc(_ref, _ref2) {\n  let {\n    data: {\n      value: a\n    }\n  } = _ref;\n  let {\n    data: {\n      value: b\n    }\n  } = _ref2;\n  return a - b;\n}\n/**\r\n * Sort collisions from greatest to smallest value\r\n */\n\nfunction sortCollisionsDesc(_ref3, _ref4) {\n  let {\n    data: {\n      value: a\n    }\n  } = _ref3;\n  let {\n    data: {\n      value: b\n    }\n  } = _ref4;\n  return b - a;\n}\n/**\r\n * Returns the coordinates of the corners of a given rectangle:\r\n * [TopLeft {x, y}, TopRight {x, y}, BottomLeft {x, y}, BottomRight {x, y}]\r\n */\n\nfunction cornersOfRectangle(_ref5) {\n  let {\n    left,\n    top,\n    height,\n    width\n  } = _ref5;\n  return [{\n    x: left,\n    y: top\n  }, {\n    x: left + width,\n    y: top\n  }, {\n    x: left,\n    y: top + height\n  }, {\n    x: left + width,\n    y: top + height\n  }];\n}\nfunction getFirstCollision(collisions, property) {\n  if (!collisions || collisions.length === 0) {\n    return null;\n  }\n\n  const [firstCollision] = collisions;\n  return property ? firstCollision[property] : firstCollision;\n}\n\n/**\r\n * Returns the coordinates of the center of a given ClientRect\r\n */\n\nfunction centerOfRectangle(rect, left, top) {\n  if (left === void 0) {\n    left = rect.left;\n  }\n\n  if (top === void 0) {\n    top = rect.top;\n  }\n\n  return {\n    x: left + rect.width * 0.5,\n    y: top + rect.height * 0.5\n  };\n}\n/**\r\n * Returns the closest rectangles from an array of rectangles to the center of a given\r\n * rectangle.\r\n */\n\n\nconst closestCenter = _ref => {\n  let {\n    collisionRect,\n    droppableRects,\n    droppableContainers\n  } = _ref;\n  const centerRect = centerOfRectangle(collisionRect, collisionRect.left, collisionRect.top);\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const distBetween = distanceBetween(centerOfRectangle(rect), centerRect);\n      collisions.push({\n        id,\n        data: {\n          droppableContainer,\n          value: distBetween\n        }\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n\n/**\r\n * Returns the closest rectangles from an array of rectangles to the corners of\r\n * another rectangle.\r\n */\n\nconst closestCorners = _ref => {\n  let {\n    collisionRect,\n    droppableRects,\n    droppableContainers\n  } = _ref;\n  const corners = cornersOfRectangle(collisionRect);\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const rectCorners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner, index) => {\n        return accumulator + distanceBetween(rectCorners[index], corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n      collisions.push({\n        id,\n        data: {\n          droppableContainer,\n          value: effectiveDistance\n        }\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n\n/**\r\n * Returns the intersecting rectangle area between two rectangles\r\n */\n\nfunction getIntersectionRatio(entry, target) {\n  const top = Math.max(target.top, entry.top);\n  const left = Math.max(target.left, entry.left);\n  const right = Math.min(target.left + target.width, entry.left + entry.width);\n  const bottom = Math.min(target.top + target.height, entry.top + entry.height);\n  const width = right - left;\n  const height = bottom - top;\n\n  if (left < right && top < bottom) {\n    const targetArea = target.width * target.height;\n    const entryArea = entry.width * entry.height;\n    const intersectionArea = width * height;\n    const intersectionRatio = intersectionArea / (targetArea + entryArea - intersectionArea);\n    return Number(intersectionRatio.toFixed(4));\n  } // Rectangles do not overlap, or overlap has an area of zero (edge/corner overlap)\n\n\n  return 0;\n}\n/**\r\n * Returns the rectangles that has the greatest intersection area with a given\r\n * rectangle in an array of rectangles.\r\n */\n\nconst rectIntersection = _ref => {\n  let {\n    collisionRect,\n    droppableRects,\n    droppableContainers\n  } = _ref;\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const intersectionRatio = getIntersectionRatio(rect, collisionRect);\n\n      if (intersectionRatio > 0) {\n        collisions.push({\n          id,\n          data: {\n            droppableContainer,\n            value: intersectionRatio\n          }\n        });\n      }\n    }\n  }\n\n  return collisions.sort(sortCollisionsDesc);\n};\n\n/**\r\n * Check if a given point is contained within a bounding rectangle\r\n */\n\nfunction isPointWithinRect(point, rect) {\n  const {\n    top,\n    left,\n    bottom,\n    right\n  } = rect;\n  return top <= point.y && point.y <= bottom && left <= point.x && point.x <= right;\n}\n/**\r\n * Returns the rectangles that the pointer is hovering over\r\n */\n\n\nconst pointerWithin = _ref => {\n  let {\n    droppableContainers,\n    droppableRects,\n    pointerCoordinates\n  } = _ref;\n\n  if (!pointerCoordinates) {\n    return [];\n  }\n\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect && isPointWithinRect(pointerCoordinates, rect)) {\n      /* There may be more than a single rectangle intersecting\r\n       * with the pointer coordinates. In order to sort the\r\n       * colliding rectangles, we measure the distance between\r\n       * the pointer and the corners of the intersecting rectangle\r\n       */\n      const corners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner) => {\n        return accumulator + distanceBetween(pointerCoordinates, corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n      collisions.push({\n        id,\n        data: {\n          droppableContainer,\n          value: effectiveDistance\n        }\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n\nfunction adjustScale(transform, rect1, rect2) {\n  return { ...transform,\n    scaleX: rect1 && rect2 ? rect1.width / rect2.width : 1,\n    scaleY: rect1 && rect2 ? rect1.height / rect2.height : 1\n  };\n}\n\nfunction getRectDelta(rect1, rect2) {\n  return rect1 && rect2 ? {\n    x: rect1.left - rect2.left,\n    y: rect1.top - rect2.top\n  } : defaultCoordinates;\n}\n\nfunction createRectAdjustmentFn(modifier) {\n  return function adjustClientRect(rect) {\n    for (var _len = arguments.length, adjustments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      adjustments[_key - 1] = arguments[_key];\n    }\n\n    return adjustments.reduce((acc, adjustment) => ({ ...acc,\n      top: acc.top + modifier * adjustment.y,\n      bottom: acc.bottom + modifier * adjustment.y,\n      left: acc.left + modifier * adjustment.x,\n      right: acc.right + modifier * adjustment.x\n    }), { ...rect\n    });\n  };\n}\nconst getAdjustedRect = /*#__PURE__*/createRectAdjustmentFn(1);\n\nfunction parseTransform(transform) {\n  if (transform.startsWith('matrix3d(')) {\n    const transformArray = transform.slice(9, -1).split(/, /);\n    return {\n      x: +transformArray[12],\n      y: +transformArray[13],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[5]\n    };\n  } else if (transform.startsWith('matrix(')) {\n    const transformArray = transform.slice(7, -1).split(/, /);\n    return {\n      x: +transformArray[4],\n      y: +transformArray[5],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[3]\n    };\n  }\n\n  return null;\n}\n\nfunction inverseTransform(rect, transform, transformOrigin) {\n  const parsedTransform = parseTransform(transform);\n\n  if (!parsedTransform) {\n    return rect;\n  }\n\n  const {\n    scaleX,\n    scaleY,\n    x: translateX,\n    y: translateY\n  } = parsedTransform;\n  const x = rect.left - translateX - (1 - scaleX) * parseFloat(transformOrigin);\n  const y = rect.top - translateY - (1 - scaleY) * parseFloat(transformOrigin.slice(transformOrigin.indexOf(' ') + 1));\n  const w = scaleX ? rect.width / scaleX : rect.width;\n  const h = scaleY ? rect.height / scaleY : rect.height;\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x\n  };\n}\n\nconst defaultOptions = {\n  ignoreTransform: false\n};\n/**\r\n * Returns the bounding client rect of an element relative to the viewport.\r\n */\n\nfunction getClientRect(element, options) {\n  if (options === void 0) {\n    options = defaultOptions;\n  }\n\n  let rect = element.getBoundingClientRect();\n\n  if (options.ignoreTransform) {\n    const {\n      transform,\n      transformOrigin\n    } = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getWindow)(element).getComputedStyle(element);\n\n    if (transform) {\n      rect = inverseTransform(rect, transform, transformOrigin);\n    }\n  }\n\n  const {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right\n  } = rect;\n  return {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right\n  };\n}\n/**\r\n * Returns the bounding client rect of an element relative to the viewport.\r\n *\r\n * @remarks\r\n * The ClientRect returned by this method does not take into account transforms\r\n * applied to the element it measures.\r\n *\r\n */\n\nfunction getTransformAgnosticClientRect(element) {\n  return getClientRect(element, {\n    ignoreTransform: true\n  });\n}\n\nfunction getWindowClientRect(element) {\n  const width = element.innerWidth;\n  const height = element.innerHeight;\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height\n  };\n}\n\nfunction isFixed(node, computedStyle) {\n  if (computedStyle === void 0) {\n    computedStyle = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getWindow)(node).getComputedStyle(node);\n  }\n\n  return computedStyle.position === 'fixed';\n}\n\nfunction isScrollable(element, computedStyle) {\n  if (computedStyle === void 0) {\n    computedStyle = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getWindow)(element).getComputedStyle(element);\n  }\n\n  const overflowRegex = /(auto|scroll|overlay)/;\n  const properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.some(property => {\n    const value = computedStyle[property];\n    return typeof value === 'string' ? overflowRegex.test(value) : false;\n  });\n}\n\nfunction getScrollableAncestors(element, limit) {\n  const scrollParents = [];\n\n  function findScrollableAncestors(node) {\n    if (limit != null && scrollParents.length >= limit) {\n      return scrollParents;\n    }\n\n    if (!node) {\n      return scrollParents;\n    }\n\n    if ((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isDocument)(node) && node.scrollingElement != null && !scrollParents.includes(node.scrollingElement)) {\n      scrollParents.push(node.scrollingElement);\n      return scrollParents;\n    }\n\n    if (!(0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(node) || (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isSVGElement)(node)) {\n      return scrollParents;\n    }\n\n    if (scrollParents.includes(node)) {\n      return scrollParents;\n    }\n\n    const computedStyle = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getWindow)(element).getComputedStyle(node);\n\n    if (node !== element) {\n      if (isScrollable(node, computedStyle)) {\n        scrollParents.push(node);\n      }\n    }\n\n    if (isFixed(node, computedStyle)) {\n      return scrollParents;\n    }\n\n    return findScrollableAncestors(node.parentNode);\n  }\n\n  if (!element) {\n    return scrollParents;\n  }\n\n  return findScrollableAncestors(element);\n}\nfunction getFirstScrollableAncestor(node) {\n  const [firstScrollableAncestor] = getScrollableAncestors(node, 1);\n  return firstScrollableAncestor != null ? firstScrollableAncestor : null;\n}\n\nfunction getScrollableElement(element) {\n  if (!_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.canUseDOM || !element) {\n    return null;\n  }\n\n  if ((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isWindow)(element)) {\n    return element;\n  }\n\n  if (!(0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isNode)(element)) {\n    return null;\n  }\n\n  if ((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isDocument)(element) || element === (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getOwnerDocument)(element).scrollingElement) {\n    return window;\n  }\n\n  if ((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(element)) {\n    return element;\n  }\n\n  return null;\n}\n\nfunction getScrollXCoordinate(element) {\n  if ((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isWindow)(element)) {\n    return element.scrollX;\n  }\n\n  return element.scrollLeft;\n}\nfunction getScrollYCoordinate(element) {\n  if ((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isWindow)(element)) {\n    return element.scrollY;\n  }\n\n  return element.scrollTop;\n}\nfunction getScrollCoordinates(element) {\n  return {\n    x: getScrollXCoordinate(element),\n    y: getScrollYCoordinate(element)\n  };\n}\n\nvar Direction;\n\n(function (Direction) {\n  Direction[Direction[\"Forward\"] = 1] = \"Forward\";\n  Direction[Direction[\"Backward\"] = -1] = \"Backward\";\n})(Direction || (Direction = {}));\n\nfunction isDocumentScrollingElement(element) {\n  if (!_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.canUseDOM || !element) {\n    return false;\n  }\n\n  return element === document.scrollingElement;\n}\n\nfunction getScrollPosition(scrollingContainer) {\n  const minScroll = {\n    x: 0,\n    y: 0\n  };\n  const dimensions = isDocumentScrollingElement(scrollingContainer) ? {\n    height: window.innerHeight,\n    width: window.innerWidth\n  } : {\n    height: scrollingContainer.clientHeight,\n    width: scrollingContainer.clientWidth\n  };\n  const maxScroll = {\n    x: scrollingContainer.scrollWidth - dimensions.width,\n    y: scrollingContainer.scrollHeight - dimensions.height\n  };\n  const isTop = scrollingContainer.scrollTop <= minScroll.y;\n  const isLeft = scrollingContainer.scrollLeft <= minScroll.x;\n  const isBottom = scrollingContainer.scrollTop >= maxScroll.y;\n  const isRight = scrollingContainer.scrollLeft >= maxScroll.x;\n  return {\n    isTop,\n    isLeft,\n    isBottom,\n    isRight,\n    maxScroll,\n    minScroll\n  };\n}\n\nconst defaultThreshold = {\n  x: 0.2,\n  y: 0.2\n};\nfunction getScrollDirectionAndSpeed(scrollContainer, scrollContainerRect, _ref, acceleration, thresholdPercentage) {\n  let {\n    top,\n    left,\n    right,\n    bottom\n  } = _ref;\n\n  if (acceleration === void 0) {\n    acceleration = 10;\n  }\n\n  if (thresholdPercentage === void 0) {\n    thresholdPercentage = defaultThreshold;\n  }\n\n  const {\n    isTop,\n    isBottom,\n    isLeft,\n    isRight\n  } = getScrollPosition(scrollContainer);\n  const direction = {\n    x: 0,\n    y: 0\n  };\n  const speed = {\n    x: 0,\n    y: 0\n  };\n  const threshold = {\n    height: scrollContainerRect.height * thresholdPercentage.y,\n    width: scrollContainerRect.width * thresholdPercentage.x\n  };\n\n  if (!isTop && top <= scrollContainerRect.top + threshold.height) {\n    // Scroll Up\n    direction.y = Direction.Backward;\n    speed.y = acceleration * Math.abs((scrollContainerRect.top + threshold.height - top) / threshold.height);\n  } else if (!isBottom && bottom >= scrollContainerRect.bottom - threshold.height) {\n    // Scroll Down\n    direction.y = Direction.Forward;\n    speed.y = acceleration * Math.abs((scrollContainerRect.bottom - threshold.height - bottom) / threshold.height);\n  }\n\n  if (!isRight && right >= scrollContainerRect.right - threshold.width) {\n    // Scroll Right\n    direction.x = Direction.Forward;\n    speed.x = acceleration * Math.abs((scrollContainerRect.right - threshold.width - right) / threshold.width);\n  } else if (!isLeft && left <= scrollContainerRect.left + threshold.width) {\n    // Scroll Left\n    direction.x = Direction.Backward;\n    speed.x = acceleration * Math.abs((scrollContainerRect.left + threshold.width - left) / threshold.width);\n  }\n\n  return {\n    direction,\n    speed\n  };\n}\n\nfunction getScrollElementRect(element) {\n  if (element === document.scrollingElement) {\n    const {\n      innerWidth,\n      innerHeight\n    } = window;\n    return {\n      top: 0,\n      left: 0,\n      right: innerWidth,\n      bottom: innerHeight,\n      width: innerWidth,\n      height: innerHeight\n    };\n  }\n\n  const {\n    top,\n    left,\n    right,\n    bottom\n  } = element.getBoundingClientRect();\n  return {\n    top,\n    left,\n    right,\n    bottom,\n    width: element.clientWidth,\n    height: element.clientHeight\n  };\n}\n\nfunction getScrollOffsets(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.add)(acc, getScrollCoordinates(node));\n  }, defaultCoordinates);\n}\nfunction getScrollXOffset(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return acc + getScrollXCoordinate(node);\n  }, 0);\n}\nfunction getScrollYOffset(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return acc + getScrollYCoordinate(node);\n  }, 0);\n}\n\nfunction scrollIntoViewIfNeeded(element, measure) {\n  if (measure === void 0) {\n    measure = getClientRect;\n  }\n\n  if (!element) {\n    return;\n  }\n\n  const {\n    top,\n    left,\n    bottom,\n    right\n  } = measure(element);\n  const firstScrollableAncestor = getFirstScrollableAncestor(element);\n\n  if (!firstScrollableAncestor) {\n    return;\n  }\n\n  if (bottom <= 0 || right <= 0 || top >= window.innerHeight || left >= window.innerWidth) {\n    element.scrollIntoView({\n      block: 'center',\n      inline: 'center'\n    });\n  }\n}\n\nconst properties = [['x', ['left', 'right'], getScrollXOffset], ['y', ['top', 'bottom'], getScrollYOffset]];\nclass Rect {\n  constructor(rect, element) {\n    this.rect = void 0;\n    this.width = void 0;\n    this.height = void 0;\n    this.top = void 0;\n    this.bottom = void 0;\n    this.right = void 0;\n    this.left = void 0;\n    const scrollableAncestors = getScrollableAncestors(element);\n    const scrollOffsets = getScrollOffsets(scrollableAncestors);\n    this.rect = { ...rect\n    };\n    this.width = rect.width;\n    this.height = rect.height;\n\n    for (const [axis, keys, getScrollOffset] of properties) {\n      for (const key of keys) {\n        Object.defineProperty(this, key, {\n          get: () => {\n            const currentOffsets = getScrollOffset(scrollableAncestors);\n            const scrollOffsetsDeltla = scrollOffsets[axis] - currentOffsets;\n            return this.rect[key] + scrollOffsetsDeltla;\n          },\n          enumerable: true\n        });\n      }\n    }\n\n    Object.defineProperty(this, 'rect', {\n      enumerable: false\n    });\n  }\n\n}\n\nclass Listeners {\n  constructor(target) {\n    this.target = void 0;\n    this.listeners = [];\n\n    this.removeAll = () => {\n      this.listeners.forEach(listener => {\n        var _this$target;\n\n        return (_this$target = this.target) == null ? void 0 : _this$target.removeEventListener(...listener);\n      });\n    };\n\n    this.target = target;\n  }\n\n  add(eventName, handler, options) {\n    var _this$target2;\n\n    (_this$target2 = this.target) == null ? void 0 : _this$target2.addEventListener(eventName, handler, options);\n    this.listeners.push([eventName, handler, options]);\n  }\n\n}\n\nfunction getEventListenerTarget(target) {\n  // If the `event.target` element is removed from the document events will still be targeted\n  // at it, and hence won't always bubble up to the window or document anymore.\n  // If there is any risk of an element being removed while it is being dragged,\n  // the best practice is to attach the event listeners directly to the target.\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n  const {\n    EventTarget\n  } = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getWindow)(target);\n  return target instanceof EventTarget ? target : (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getOwnerDocument)(target);\n}\n\nfunction hasExceededDistance(delta, measurement) {\n  const dx = Math.abs(delta.x);\n  const dy = Math.abs(delta.y);\n\n  if (typeof measurement === 'number') {\n    return Math.sqrt(dx ** 2 + dy ** 2) > measurement;\n  }\n\n  if ('x' in measurement && 'y' in measurement) {\n    return dx > measurement.x && dy > measurement.y;\n  }\n\n  if ('x' in measurement) {\n    return dx > measurement.x;\n  }\n\n  if ('y' in measurement) {\n    return dy > measurement.y;\n  }\n\n  return false;\n}\n\nvar EventName;\n\n(function (EventName) {\n  EventName[\"Click\"] = \"click\";\n  EventName[\"DragStart\"] = \"dragstart\";\n  EventName[\"Keydown\"] = \"keydown\";\n  EventName[\"ContextMenu\"] = \"contextmenu\";\n  EventName[\"Resize\"] = \"resize\";\n  EventName[\"SelectionChange\"] = \"selectionchange\";\n  EventName[\"VisibilityChange\"] = \"visibilitychange\";\n})(EventName || (EventName = {}));\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nvar KeyboardCode;\n\n(function (KeyboardCode) {\n  KeyboardCode[\"Space\"] = \"Space\";\n  KeyboardCode[\"Down\"] = \"ArrowDown\";\n  KeyboardCode[\"Right\"] = \"ArrowRight\";\n  KeyboardCode[\"Left\"] = \"ArrowLeft\";\n  KeyboardCode[\"Up\"] = \"ArrowUp\";\n  KeyboardCode[\"Esc\"] = \"Escape\";\n  KeyboardCode[\"Enter\"] = \"Enter\";\n  KeyboardCode[\"Tab\"] = \"Tab\";\n})(KeyboardCode || (KeyboardCode = {}));\n\nconst defaultKeyboardCodes = {\n  start: [KeyboardCode.Space, KeyboardCode.Enter],\n  cancel: [KeyboardCode.Esc],\n  end: [KeyboardCode.Space, KeyboardCode.Enter, KeyboardCode.Tab]\n};\nconst defaultKeyboardCoordinateGetter = (event, _ref) => {\n  let {\n    currentCoordinates\n  } = _ref;\n\n  switch (event.code) {\n    case KeyboardCode.Right:\n      return { ...currentCoordinates,\n        x: currentCoordinates.x + 25\n      };\n\n    case KeyboardCode.Left:\n      return { ...currentCoordinates,\n        x: currentCoordinates.x - 25\n      };\n\n    case KeyboardCode.Down:\n      return { ...currentCoordinates,\n        y: currentCoordinates.y + 25\n      };\n\n    case KeyboardCode.Up:\n      return { ...currentCoordinates,\n        y: currentCoordinates.y - 25\n      };\n  }\n\n  return undefined;\n};\n\nclass KeyboardSensor {\n  constructor(props) {\n    this.props = void 0;\n    this.autoScrollEnabled = false;\n    this.referenceCoordinates = void 0;\n    this.listeners = void 0;\n    this.windowListeners = void 0;\n    this.props = props;\n    const {\n      event: {\n        target\n      }\n    } = props;\n    this.props = props;\n    this.listeners = new Listeners((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getOwnerDocument)(target));\n    this.windowListeners = new Listeners((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getWindow)(target));\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.attach();\n  }\n\n  attach() {\n    this.handleStart();\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    setTimeout(() => this.listeners.add(EventName.Keydown, this.handleKeyDown));\n  }\n\n  handleStart() {\n    const {\n      activeNode,\n      onStart\n    } = this.props;\n    const node = activeNode.node.current;\n\n    if (node) {\n      scrollIntoViewIfNeeded(node);\n    }\n\n    onStart(defaultCoordinates);\n  }\n\n  handleKeyDown(event) {\n    if ((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isKeyboardEvent)(event)) {\n      const {\n        active,\n        context,\n        options\n      } = this.props;\n      const {\n        keyboardCodes = defaultKeyboardCodes,\n        coordinateGetter = defaultKeyboardCoordinateGetter,\n        scrollBehavior = 'smooth'\n      } = options;\n      const {\n        code\n      } = event;\n\n      if (keyboardCodes.end.includes(code)) {\n        this.handleEnd(event);\n        return;\n      }\n\n      if (keyboardCodes.cancel.includes(code)) {\n        this.handleCancel(event);\n        return;\n      }\n\n      const {\n        collisionRect\n      } = context.current;\n      const currentCoordinates = collisionRect ? {\n        x: collisionRect.left,\n        y: collisionRect.top\n      } : defaultCoordinates;\n\n      if (!this.referenceCoordinates) {\n        this.referenceCoordinates = currentCoordinates;\n      }\n\n      const newCoordinates = coordinateGetter(event, {\n        active,\n        context: context.current,\n        currentCoordinates\n      });\n\n      if (newCoordinates) {\n        const coordinatesDelta = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.subtract)(newCoordinates, currentCoordinates);\n        const scrollDelta = {\n          x: 0,\n          y: 0\n        };\n        const {\n          scrollableAncestors\n        } = context.current;\n\n        for (const scrollContainer of scrollableAncestors) {\n          const direction = event.code;\n          const {\n            isTop,\n            isRight,\n            isLeft,\n            isBottom,\n            maxScroll,\n            minScroll\n          } = getScrollPosition(scrollContainer);\n          const scrollElementRect = getScrollElementRect(scrollContainer);\n          const clampedCoordinates = {\n            x: Math.min(direction === KeyboardCode.Right ? scrollElementRect.right - scrollElementRect.width / 2 : scrollElementRect.right, Math.max(direction === KeyboardCode.Right ? scrollElementRect.left : scrollElementRect.left + scrollElementRect.width / 2, newCoordinates.x)),\n            y: Math.min(direction === KeyboardCode.Down ? scrollElementRect.bottom - scrollElementRect.height / 2 : scrollElementRect.bottom, Math.max(direction === KeyboardCode.Down ? scrollElementRect.top : scrollElementRect.top + scrollElementRect.height / 2, newCoordinates.y))\n          };\n          const canScrollX = direction === KeyboardCode.Right && !isRight || direction === KeyboardCode.Left && !isLeft;\n          const canScrollY = direction === KeyboardCode.Down && !isBottom || direction === KeyboardCode.Up && !isTop;\n\n          if (canScrollX && clampedCoordinates.x !== newCoordinates.x) {\n            const newScrollCoordinates = scrollContainer.scrollLeft + coordinatesDelta.x;\n            const canScrollToNewCoordinates = direction === KeyboardCode.Right && newScrollCoordinates <= maxScroll.x || direction === KeyboardCode.Left && newScrollCoordinates >= minScroll.x;\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.y) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                left: newScrollCoordinates,\n                behavior: scrollBehavior\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.x = scrollContainer.scrollLeft - newScrollCoordinates;\n            } else {\n              scrollDelta.x = direction === KeyboardCode.Right ? scrollContainer.scrollLeft - maxScroll.x : scrollContainer.scrollLeft - minScroll.x;\n            }\n\n            if (scrollDelta.x) {\n              scrollContainer.scrollBy({\n                left: -scrollDelta.x,\n                behavior: scrollBehavior\n              });\n            }\n\n            break;\n          } else if (canScrollY && clampedCoordinates.y !== newCoordinates.y) {\n            const newScrollCoordinates = scrollContainer.scrollTop + coordinatesDelta.y;\n            const canScrollToNewCoordinates = direction === KeyboardCode.Down && newScrollCoordinates <= maxScroll.y || direction === KeyboardCode.Up && newScrollCoordinates >= minScroll.y;\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.x) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                top: newScrollCoordinates,\n                behavior: scrollBehavior\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.y = scrollContainer.scrollTop - newScrollCoordinates;\n            } else {\n              scrollDelta.y = direction === KeyboardCode.Down ? scrollContainer.scrollTop - maxScroll.y : scrollContainer.scrollTop - minScroll.y;\n            }\n\n            if (scrollDelta.y) {\n              scrollContainer.scrollBy({\n                top: -scrollDelta.y,\n                behavior: scrollBehavior\n              });\n            }\n\n            break;\n          }\n        }\n\n        this.handleMove(event, (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.add)((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.subtract)(newCoordinates, this.referenceCoordinates), scrollDelta));\n      }\n    }\n  }\n\n  handleMove(event, coordinates) {\n    const {\n      onMove\n    } = this.props;\n    event.preventDefault();\n    onMove(coordinates);\n  }\n\n  handleEnd(event) {\n    const {\n      onEnd\n    } = this.props;\n    event.preventDefault();\n    this.detach();\n    onEnd();\n  }\n\n  handleCancel(event) {\n    const {\n      onCancel\n    } = this.props;\n    event.preventDefault();\n    this.detach();\n    onCancel();\n  }\n\n  detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n  }\n\n}\nKeyboardSensor.activators = [{\n  eventName: 'onKeyDown',\n  handler: (event, _ref, _ref2) => {\n    let {\n      keyboardCodes = defaultKeyboardCodes,\n      onActivation\n    } = _ref;\n    let {\n      active\n    } = _ref2;\n    const {\n      code\n    } = event.nativeEvent;\n\n    if (keyboardCodes.start.includes(code)) {\n      const activator = active.activatorNode.current;\n\n      if (activator && event.target !== activator) {\n        return false;\n      }\n\n      event.preventDefault();\n      onActivation == null ? void 0 : onActivation({\n        event: event.nativeEvent\n      });\n      return true;\n    }\n\n    return false;\n  }\n}];\n\nfunction isDistanceConstraint(constraint) {\n  return Boolean(constraint && 'distance' in constraint);\n}\n\nfunction isDelayConstraint(constraint) {\n  return Boolean(constraint && 'delay' in constraint);\n}\n\nclass AbstractPointerSensor {\n  constructor(props, events, listenerTarget) {\n    var _getEventCoordinates;\n\n    if (listenerTarget === void 0) {\n      listenerTarget = getEventListenerTarget(props.event.target);\n    }\n\n    this.props = void 0;\n    this.events = void 0;\n    this.autoScrollEnabled = true;\n    this.document = void 0;\n    this.activated = false;\n    this.initialCoordinates = void 0;\n    this.timeoutId = null;\n    this.listeners = void 0;\n    this.documentListeners = void 0;\n    this.windowListeners = void 0;\n    this.props = props;\n    this.events = events;\n    const {\n      event\n    } = props;\n    const {\n      target\n    } = event;\n    this.props = props;\n    this.events = events;\n    this.document = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getOwnerDocument)(target);\n    this.documentListeners = new Listeners(this.document);\n    this.listeners = new Listeners(listenerTarget);\n    this.windowListeners = new Listeners((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getWindow)(target));\n    this.initialCoordinates = (_getEventCoordinates = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getEventCoordinates)(event)) != null ? _getEventCoordinates : defaultCoordinates;\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleKeydown = this.handleKeydown.bind(this);\n    this.removeTextSelection = this.removeTextSelection.bind(this);\n    this.attach();\n  }\n\n  attach() {\n    const {\n      events,\n      props: {\n        options: {\n          activationConstraint,\n          bypassActivationConstraint\n        }\n      }\n    } = this;\n    this.listeners.add(events.move.name, this.handleMove, {\n      passive: false\n    });\n    this.listeners.add(events.end.name, this.handleEnd);\n\n    if (events.cancel) {\n      this.listeners.add(events.cancel.name, this.handleCancel);\n    }\n\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.DragStart, preventDefault);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    this.windowListeners.add(EventName.ContextMenu, preventDefault);\n    this.documentListeners.add(EventName.Keydown, this.handleKeydown);\n\n    if (activationConstraint) {\n      if (bypassActivationConstraint != null && bypassActivationConstraint({\n        event: this.props.event,\n        activeNode: this.props.activeNode,\n        options: this.props.options\n      })) {\n        return this.handleStart();\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        this.timeoutId = setTimeout(this.handleStart, activationConstraint.delay);\n        this.handlePending(activationConstraint);\n        return;\n      }\n\n      if (isDistanceConstraint(activationConstraint)) {\n        this.handlePending(activationConstraint);\n        return;\n      }\n    }\n\n    this.handleStart();\n  }\n\n  detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll(); // Wait until the next event loop before removing document listeners\n    // This is necessary because we listen for `click` and `selection` events on the document\n\n    setTimeout(this.documentListeners.removeAll, 50);\n\n    if (this.timeoutId !== null) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n  }\n\n  handlePending(constraint, offset) {\n    const {\n      active,\n      onPending\n    } = this.props;\n    onPending(active, constraint, this.initialCoordinates, offset);\n  }\n\n  handleStart() {\n    const {\n      initialCoordinates\n    } = this;\n    const {\n      onStart\n    } = this.props;\n\n    if (initialCoordinates) {\n      this.activated = true; // Stop propagation of click events once activation constraints are met\n\n      this.documentListeners.add(EventName.Click, stopPropagation, {\n        capture: true\n      }); // Remove any text selection from the document\n\n      this.removeTextSelection(); // Prevent further text selection while dragging\n\n      this.documentListeners.add(EventName.SelectionChange, this.removeTextSelection);\n      onStart(initialCoordinates);\n    }\n  }\n\n  handleMove(event) {\n    var _getEventCoordinates2;\n\n    const {\n      activated,\n      initialCoordinates,\n      props\n    } = this;\n    const {\n      onMove,\n      options: {\n        activationConstraint\n      }\n    } = props;\n\n    if (!initialCoordinates) {\n      return;\n    }\n\n    const coordinates = (_getEventCoordinates2 = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getEventCoordinates)(event)) != null ? _getEventCoordinates2 : defaultCoordinates;\n    const delta = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.subtract)(initialCoordinates, coordinates); // Constraint validation\n\n    if (!activated && activationConstraint) {\n      if (isDistanceConstraint(activationConstraint)) {\n        if (activationConstraint.tolerance != null && hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n\n        if (hasExceededDistance(delta, activationConstraint.distance)) {\n          return this.handleStart();\n        }\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        if (hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n      }\n\n      this.handlePending(activationConstraint, delta);\n      return;\n    }\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n\n    onMove(coordinates);\n  }\n\n  handleEnd() {\n    const {\n      onAbort,\n      onEnd\n    } = this.props;\n    this.detach();\n\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n\n    onEnd();\n  }\n\n  handleCancel() {\n    const {\n      onAbort,\n      onCancel\n    } = this.props;\n    this.detach();\n\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n\n    onCancel();\n  }\n\n  handleKeydown(event) {\n    if (event.code === KeyboardCode.Esc) {\n      this.handleCancel();\n    }\n  }\n\n  removeTextSelection() {\n    var _this$document$getSel;\n\n    (_this$document$getSel = this.document.getSelection()) == null ? void 0 : _this$document$getSel.removeAllRanges();\n  }\n\n}\n\nconst events = {\n  cancel: {\n    name: 'pointercancel'\n  },\n  move: {\n    name: 'pointermove'\n  },\n  end: {\n    name: 'pointerup'\n  }\n};\nclass PointerSensor extends AbstractPointerSensor {\n  constructor(props) {\n    const {\n      event\n    } = props; // Pointer events stop firing if the target is unmounted while dragging\n    // Therefore we attach listeners to the owner document instead\n\n    const listenerTarget = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getOwnerDocument)(event.target);\n    super(props, events, listenerTarget);\n  }\n\n}\nPointerSensor.activators = [{\n  eventName: 'onPointerDown',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n\n    if (!event.isPrimary || event.button !== 0) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nconst events$1 = {\n  move: {\n    name: 'mousemove'\n  },\n  end: {\n    name: 'mouseup'\n  }\n};\nvar MouseButton;\n\n(function (MouseButton) {\n  MouseButton[MouseButton[\"RightClick\"] = 2] = \"RightClick\";\n})(MouseButton || (MouseButton = {}));\n\nclass MouseSensor extends AbstractPointerSensor {\n  constructor(props) {\n    super(props, events$1, (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getOwnerDocument)(props.event.target));\n  }\n\n}\nMouseSensor.activators = [{\n  eventName: 'onMouseDown',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n\n    if (event.button === MouseButton.RightClick) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nconst events$2 = {\n  cancel: {\n    name: 'touchcancel'\n  },\n  move: {\n    name: 'touchmove'\n  },\n  end: {\n    name: 'touchend'\n  }\n};\nclass TouchSensor extends AbstractPointerSensor {\n  constructor(props) {\n    super(props, events$2);\n  }\n\n  static setup() {\n    // Adding a non-capture and non-passive `touchmove` listener in order\n    // to force `event.preventDefault()` calls to work in dynamically added\n    // touchmove event handlers. This is required for iOS Safari.\n    window.addEventListener(events$2.move.name, noop, {\n      capture: false,\n      passive: false\n    });\n    return function teardown() {\n      window.removeEventListener(events$2.move.name, noop);\n    }; // We create a new handler because the teardown function of another sensor\n    // could remove our event listener if we use a referentially equal listener.\n\n    function noop() {}\n  }\n\n}\nTouchSensor.activators = [{\n  eventName: 'onTouchStart',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n    const {\n      touches\n    } = event;\n\n    if (touches.length > 1) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nvar AutoScrollActivator;\n\n(function (AutoScrollActivator) {\n  AutoScrollActivator[AutoScrollActivator[\"Pointer\"] = 0] = \"Pointer\";\n  AutoScrollActivator[AutoScrollActivator[\"DraggableRect\"] = 1] = \"DraggableRect\";\n})(AutoScrollActivator || (AutoScrollActivator = {}));\n\nvar TraversalOrder;\n\n(function (TraversalOrder) {\n  TraversalOrder[TraversalOrder[\"TreeOrder\"] = 0] = \"TreeOrder\";\n  TraversalOrder[TraversalOrder[\"ReversedTreeOrder\"] = 1] = \"ReversedTreeOrder\";\n})(TraversalOrder || (TraversalOrder = {}));\n\nfunction useAutoScroller(_ref) {\n  let {\n    acceleration,\n    activator = AutoScrollActivator.Pointer,\n    canScroll,\n    draggingRect,\n    enabled,\n    interval = 5,\n    order = TraversalOrder.TreeOrder,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    delta,\n    threshold\n  } = _ref;\n  const scrollIntent = useScrollIntent({\n    delta,\n    disabled: !enabled\n  });\n  const [setAutoScrollInterval, clearAutoScrollInterval] = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useInterval)();\n  const scrollSpeed = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    x: 0,\n    y: 0\n  });\n  const scrollDirection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    x: 0,\n    y: 0\n  });\n  const rect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    switch (activator) {\n      case AutoScrollActivator.Pointer:\n        return pointerCoordinates ? {\n          top: pointerCoordinates.y,\n          bottom: pointerCoordinates.y,\n          left: pointerCoordinates.x,\n          right: pointerCoordinates.x\n        } : null;\n\n      case AutoScrollActivator.DraggableRect:\n        return draggingRect;\n    }\n  }, [activator, draggingRect, pointerCoordinates]);\n  const scrollContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const autoScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    const scrollContainer = scrollContainerRef.current;\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const scrollLeft = scrollSpeed.current.x * scrollDirection.current.x;\n    const scrollTop = scrollSpeed.current.y * scrollDirection.current.y;\n    scrollContainer.scrollBy(scrollLeft, scrollTop);\n  }, []);\n  const sortedScrollableAncestors = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => order === TraversalOrder.TreeOrder ? [...scrollableAncestors].reverse() : scrollableAncestors, [order, scrollableAncestors]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!enabled || !scrollableAncestors.length || !rect) {\n      clearAutoScrollInterval();\n      return;\n    }\n\n    for (const scrollContainer of sortedScrollableAncestors) {\n      if ((canScroll == null ? void 0 : canScroll(scrollContainer)) === false) {\n        continue;\n      }\n\n      const index = scrollableAncestors.indexOf(scrollContainer);\n      const scrollContainerRect = scrollableAncestorRects[index];\n\n      if (!scrollContainerRect) {\n        continue;\n      }\n\n      const {\n        direction,\n        speed\n      } = getScrollDirectionAndSpeed(scrollContainer, scrollContainerRect, rect, acceleration, threshold);\n\n      for (const axis of ['x', 'y']) {\n        if (!scrollIntent[axis][direction[axis]]) {\n          speed[axis] = 0;\n          direction[axis] = 0;\n        }\n      }\n\n      if (speed.x > 0 || speed.y > 0) {\n        clearAutoScrollInterval();\n        scrollContainerRef.current = scrollContainer;\n        setAutoScrollInterval(autoScroll, interval);\n        scrollSpeed.current = speed;\n        scrollDirection.current = direction;\n        return;\n      }\n    }\n\n    scrollSpeed.current = {\n      x: 0,\n      y: 0\n    };\n    scrollDirection.current = {\n      x: 0,\n      y: 0\n    };\n    clearAutoScrollInterval();\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [acceleration, autoScroll, canScroll, clearAutoScrollInterval, enabled, interval, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(rect), // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(scrollIntent), setAutoScrollInterval, scrollableAncestors, sortedScrollableAncestors, scrollableAncestorRects, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(threshold)]);\n}\nconst defaultScrollIntent = {\n  x: {\n    [Direction.Backward]: false,\n    [Direction.Forward]: false\n  },\n  y: {\n    [Direction.Backward]: false,\n    [Direction.Forward]: false\n  }\n};\n\nfunction useScrollIntent(_ref2) {\n  let {\n    delta,\n    disabled\n  } = _ref2;\n  const previousDelta = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.usePrevious)(delta);\n  return (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useLazyMemo)(previousIntent => {\n    if (disabled || !previousDelta || !previousIntent) {\n      // Reset scroll intent tracking when auto-scrolling is disabled\n      return defaultScrollIntent;\n    }\n\n    const direction = {\n      x: Math.sign(delta.x - previousDelta.x),\n      y: Math.sign(delta.y - previousDelta.y)\n    }; // Keep track of the user intent to scroll in each direction for both axis\n\n    return {\n      x: {\n        [Direction.Backward]: previousIntent.x[Direction.Backward] || direction.x === -1,\n        [Direction.Forward]: previousIntent.x[Direction.Forward] || direction.x === 1\n      },\n      y: {\n        [Direction.Backward]: previousIntent.y[Direction.Backward] || direction.y === -1,\n        [Direction.Forward]: previousIntent.y[Direction.Forward] || direction.y === 1\n      }\n    };\n  }, [disabled, delta, previousDelta]);\n}\n\nfunction useCachedNode(draggableNodes, id) {\n  const draggableNode = id != null ? draggableNodes.get(id) : undefined;\n  const node = draggableNode ? draggableNode.node.current : null;\n  return (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useLazyMemo)(cachedNode => {\n    var _ref;\n\n    if (id == null) {\n      return null;\n    } // In some cases, the draggable node can unmount while dragging\n    // This is the case for virtualized lists. In those situations,\n    // we fall back to the last known value for that node.\n\n\n    return (_ref = node != null ? node : cachedNode) != null ? _ref : null;\n  }, [node, id]);\n}\n\nfunction useCombineActivators(sensors, getSyntheticHandler) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => sensors.reduce((accumulator, sensor) => {\n    const {\n      sensor: Sensor\n    } = sensor;\n    const sensorActivators = Sensor.activators.map(activator => ({\n      eventName: activator.eventName,\n      handler: getSyntheticHandler(activator.handler, sensor)\n    }));\n    return [...accumulator, ...sensorActivators];\n  }, []), [sensors, getSyntheticHandler]);\n}\n\nvar MeasuringStrategy;\n\n(function (MeasuringStrategy) {\n  MeasuringStrategy[MeasuringStrategy[\"Always\"] = 0] = \"Always\";\n  MeasuringStrategy[MeasuringStrategy[\"BeforeDragging\"] = 1] = \"BeforeDragging\";\n  MeasuringStrategy[MeasuringStrategy[\"WhileDragging\"] = 2] = \"WhileDragging\";\n})(MeasuringStrategy || (MeasuringStrategy = {}));\n\nvar MeasuringFrequency;\n\n(function (MeasuringFrequency) {\n  MeasuringFrequency[\"Optimized\"] = \"optimized\";\n})(MeasuringFrequency || (MeasuringFrequency = {}));\n\nconst defaultValue = /*#__PURE__*/new Map();\nfunction useDroppableMeasuring(containers, _ref) {\n  let {\n    dragging,\n    dependencies,\n    config\n  } = _ref;\n  const [queue, setQueue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const {\n    frequency,\n    measure,\n    strategy\n  } = config;\n  const containersRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(containers);\n  const disabled = isDisabled();\n  const disabledRef = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useLatestValue)(disabled);\n  const measureDroppableContainers = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (ids) {\n    if (ids === void 0) {\n      ids = [];\n    }\n\n    if (disabledRef.current) {\n      return;\n    }\n\n    setQueue(value => {\n      if (value === null) {\n        return ids;\n      }\n\n      return value.concat(ids.filter(id => !value.includes(id)));\n    });\n  }, [disabledRef]);\n  const timeoutId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const droppableRects = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useLazyMemo)(previousValue => {\n    if (disabled && !dragging) {\n      return defaultValue;\n    }\n\n    if (!previousValue || previousValue === defaultValue || containersRef.current !== containers || queue != null) {\n      const map = new Map();\n\n      for (let container of containers) {\n        if (!container) {\n          continue;\n        }\n\n        if (queue && queue.length > 0 && !queue.includes(container.id) && container.rect.current) {\n          // This container does not need to be re-measured\n          map.set(container.id, container.rect.current);\n          continue;\n        }\n\n        const node = container.node.current;\n        const rect = node ? new Rect(measure(node), node) : null;\n        container.rect.current = rect;\n\n        if (rect) {\n          map.set(container.id, rect);\n        }\n      }\n\n      return map;\n    }\n\n    return previousValue;\n  }, [containers, queue, dragging, disabled, measure]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    containersRef.current = containers;\n  }, [containers]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (disabled) {\n      return;\n    }\n\n    measureDroppableContainers();\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [dragging, disabled]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (queue && queue.length > 0) {\n      setQueue(null);\n    }\n  }, //eslint-disable-next-line react-hooks/exhaustive-deps\n  [JSON.stringify(queue)]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (disabled || typeof frequency !== 'number' || timeoutId.current !== null) {\n      return;\n    }\n\n    timeoutId.current = setTimeout(() => {\n      measureDroppableContainers();\n      timeoutId.current = null;\n    }, frequency);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [frequency, disabled, measureDroppableContainers, ...dependencies]);\n  return {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled: queue != null\n  };\n\n  function isDisabled() {\n    switch (strategy) {\n      case MeasuringStrategy.Always:\n        return false;\n\n      case MeasuringStrategy.BeforeDragging:\n        return dragging;\n\n      default:\n        return !dragging;\n    }\n  }\n}\n\nfunction useInitialValue(value, computeFn) {\n  return (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useLazyMemo)(previousValue => {\n    if (!value) {\n      return null;\n    }\n\n    if (previousValue) {\n      return previousValue;\n    }\n\n    return typeof computeFn === 'function' ? computeFn(value) : value;\n  }, [computeFn, value]);\n}\n\nfunction useInitialRect(node, measure) {\n  return useInitialValue(node, measure);\n}\n\n/**\r\n * Returns a new MutationObserver instance.\r\n * If `MutationObserver` is undefined in the execution environment, returns `undefined`.\r\n */\n\nfunction useMutationObserver(_ref) {\n  let {\n    callback,\n    disabled\n  } = _ref;\n  const handleMutations = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useEvent)(callback);\n  const mutationObserver = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (disabled || typeof window === 'undefined' || typeof window.MutationObserver === 'undefined') {\n      return undefined;\n    }\n\n    const {\n      MutationObserver\n    } = window;\n    return new MutationObserver(handleMutations);\n  }, [handleMutations, disabled]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    return () => mutationObserver == null ? void 0 : mutationObserver.disconnect();\n  }, [mutationObserver]);\n  return mutationObserver;\n}\n\n/**\r\n * Returns a new ResizeObserver instance bound to the `onResize` callback.\r\n * If `ResizeObserver` is undefined in the execution environment, returns `undefined`.\r\n */\n\nfunction useResizeObserver(_ref) {\n  let {\n    callback,\n    disabled\n  } = _ref;\n  const handleResize = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useEvent)(callback);\n  const resizeObserver = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (disabled || typeof window === 'undefined' || typeof window.ResizeObserver === 'undefined') {\n      return undefined;\n    }\n\n    const {\n      ResizeObserver\n    } = window;\n    return new ResizeObserver(handleResize);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [disabled]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    return () => resizeObserver == null ? void 0 : resizeObserver.disconnect();\n  }, [resizeObserver]);\n  return resizeObserver;\n}\n\nfunction defaultMeasure(element) {\n  return new Rect(getClientRect(element), element);\n}\n\nfunction useRect(element, measure, fallbackRect) {\n  if (measure === void 0) {\n    measure = defaultMeasure;\n  }\n\n  const [rect, setRect] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n\n  function measureRect() {\n    setRect(currentRect => {\n      if (!element) {\n        return null;\n      }\n\n      if (element.isConnected === false) {\n        var _ref;\n\n        // Fall back to last rect we measured if the element is\n        // no longer connected to the DOM.\n        return (_ref = currentRect != null ? currentRect : fallbackRect) != null ? _ref : null;\n      }\n\n      const newRect = measure(element);\n\n      if (JSON.stringify(currentRect) === JSON.stringify(newRect)) {\n        return currentRect;\n      }\n\n      return newRect;\n    });\n  }\n\n  const mutationObserver = useMutationObserver({\n    callback(records) {\n      if (!element) {\n        return;\n      }\n\n      for (const record of records) {\n        const {\n          type,\n          target\n        } = record;\n\n        if (type === 'childList' && target instanceof HTMLElement && target.contains(element)) {\n          measureRect();\n          break;\n        }\n      }\n    }\n\n  });\n  const resizeObserver = useResizeObserver({\n    callback: measureRect\n  });\n  (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(() => {\n    measureRect();\n\n    if (element) {\n      resizeObserver == null ? void 0 : resizeObserver.observe(element);\n      mutationObserver == null ? void 0 : mutationObserver.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    } else {\n      resizeObserver == null ? void 0 : resizeObserver.disconnect();\n      mutationObserver == null ? void 0 : mutationObserver.disconnect();\n    }\n  }, [element]);\n  return rect;\n}\n\nfunction useRectDelta(rect) {\n  const initialRect = useInitialValue(rect);\n  return getRectDelta(rect, initialRect);\n}\n\nconst defaultValue$1 = [];\nfunction useScrollableAncestors(node) {\n  const previousNode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(node);\n  const ancestors = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useLazyMemo)(previousValue => {\n    if (!node) {\n      return defaultValue$1;\n    }\n\n    if (previousValue && previousValue !== defaultValue$1 && node && previousNode.current && node.parentNode === previousNode.current.parentNode) {\n      return previousValue;\n    }\n\n    return getScrollableAncestors(node);\n  }, [node]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    previousNode.current = node;\n  }, [node]);\n  return ancestors;\n}\n\nfunction useScrollOffsets(elements) {\n  const [scrollCoordinates, setScrollCoordinates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const prevElements = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(elements); // To-do: Throttle the handleScroll callback\n\n  const handleScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(event => {\n    const scrollingElement = getScrollableElement(event.target);\n\n    if (!scrollingElement) {\n      return;\n    }\n\n    setScrollCoordinates(scrollCoordinates => {\n      if (!scrollCoordinates) {\n        return null;\n      }\n\n      scrollCoordinates.set(scrollingElement, getScrollCoordinates(scrollingElement));\n      return new Map(scrollCoordinates);\n    });\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const previousElements = prevElements.current;\n\n    if (elements !== previousElements) {\n      cleanup(previousElements);\n      const entries = elements.map(element => {\n        const scrollableElement = getScrollableElement(element);\n\n        if (scrollableElement) {\n          scrollableElement.addEventListener('scroll', handleScroll, {\n            passive: true\n          });\n          return [scrollableElement, getScrollCoordinates(scrollableElement)];\n        }\n\n        return null;\n      }).filter(entry => entry != null);\n      setScrollCoordinates(entries.length ? new Map(entries) : null);\n      prevElements.current = elements;\n    }\n\n    return () => {\n      cleanup(elements);\n      cleanup(previousElements);\n    };\n\n    function cleanup(elements) {\n      elements.forEach(element => {\n        const scrollableElement = getScrollableElement(element);\n        scrollableElement == null ? void 0 : scrollableElement.removeEventListener('scroll', handleScroll);\n      });\n    }\n  }, [handleScroll, elements]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (elements.length) {\n      return scrollCoordinates ? Array.from(scrollCoordinates.values()).reduce((acc, coordinates) => (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.add)(acc, coordinates), defaultCoordinates) : getScrollOffsets(elements);\n    }\n\n    return defaultCoordinates;\n  }, [elements, scrollCoordinates]);\n}\n\nfunction useScrollOffsetsDelta(scrollOffsets, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [];\n  }\n\n  const initialScrollOffsets = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    initialScrollOffsets.current = null;\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  dependencies);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const hasScrollOffsets = scrollOffsets !== defaultCoordinates;\n\n    if (hasScrollOffsets && !initialScrollOffsets.current) {\n      initialScrollOffsets.current = scrollOffsets;\n    }\n\n    if (!hasScrollOffsets && initialScrollOffsets.current) {\n      initialScrollOffsets.current = null;\n    }\n  }, [scrollOffsets]);\n  return initialScrollOffsets.current ? (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.subtract)(scrollOffsets, initialScrollOffsets.current) : defaultCoordinates;\n}\n\nfunction useSensorSetup(sensors) {\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.canUseDOM) {\n      return;\n    }\n\n    const teardownFns = sensors.map(_ref => {\n      let {\n        sensor\n      } = _ref;\n      return sensor.setup == null ? void 0 : sensor.setup();\n    });\n    return () => {\n      for (const teardown of teardownFns) {\n        teardown == null ? void 0 : teardown();\n      }\n    };\n  }, // TO-DO: Sensors length could theoretically change which would not be a valid dependency\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  sensors.map(_ref2 => {\n    let {\n      sensor\n    } = _ref2;\n    return sensor;\n  }));\n}\n\nfunction useSyntheticListeners(listeners, id) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    return listeners.reduce((acc, _ref) => {\n      let {\n        eventName,\n        handler\n      } = _ref;\n\n      acc[eventName] = event => {\n        handler(event, id);\n      };\n\n      return acc;\n    }, {});\n  }, [listeners, id]);\n}\n\nfunction useWindowRect(element) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => element ? getWindowClientRect(element) : null, [element]);\n}\n\nconst defaultValue$2 = [];\nfunction useRects(elements, measure) {\n  if (measure === void 0) {\n    measure = getClientRect;\n  }\n\n  const [firstElement] = elements;\n  const windowRect = useWindowRect(firstElement ? (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getWindow)(firstElement) : null);\n  const [rects, setRects] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue$2);\n\n  function measureRects() {\n    setRects(() => {\n      if (!elements.length) {\n        return defaultValue$2;\n      }\n\n      return elements.map(element => isDocumentScrollingElement(element) ? windowRect : new Rect(measure(element), element));\n    });\n  }\n\n  const resizeObserver = useResizeObserver({\n    callback: measureRects\n  });\n  (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(() => {\n    resizeObserver == null ? void 0 : resizeObserver.disconnect();\n    measureRects();\n    elements.forEach(element => resizeObserver == null ? void 0 : resizeObserver.observe(element));\n  }, [elements]);\n  return rects;\n}\n\nfunction getMeasurableNode(node) {\n  if (!node) {\n    return null;\n  }\n\n  if (node.children.length > 1) {\n    return node;\n  }\n\n  const firstChild = node.children[0];\n  return (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(firstChild) ? firstChild : node;\n}\n\nfunction useDragOverlayMeasuring(_ref) {\n  let {\n    measure\n  } = _ref;\n  const [rect, setRect] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const handleResize = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(entries => {\n    for (const {\n      target\n    } of entries) {\n      if ((0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(target)) {\n        setRect(rect => {\n          const newRect = measure(target);\n          return rect ? { ...rect,\n            width: newRect.width,\n            height: newRect.height\n          } : newRect;\n        });\n        break;\n      }\n    }\n  }, [measure]);\n  const resizeObserver = useResizeObserver({\n    callback: handleResize\n  });\n  const handleNodeChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(element => {\n    const node = getMeasurableNode(element);\n    resizeObserver == null ? void 0 : resizeObserver.disconnect();\n\n    if (node) {\n      resizeObserver == null ? void 0 : resizeObserver.observe(node);\n    }\n\n    setRect(node ? measure(node) : null);\n  }, [measure, resizeObserver]);\n  const [nodeRef, setRef] = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useNodeRef)(handleNodeChange);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    nodeRef,\n    rect,\n    setRef\n  }), [rect, nodeRef, setRef]);\n}\n\nconst defaultSensors = [{\n  sensor: PointerSensor,\n  options: {}\n}, {\n  sensor: KeyboardSensor,\n  options: {}\n}];\nconst defaultData = {\n  current: {}\n};\nconst defaultMeasuringConfiguration = {\n  draggable: {\n    measure: getTransformAgnosticClientRect\n  },\n  droppable: {\n    measure: getTransformAgnosticClientRect,\n    strategy: MeasuringStrategy.WhileDragging,\n    frequency: MeasuringFrequency.Optimized\n  },\n  dragOverlay: {\n    measure: getClientRect\n  }\n};\n\nclass DroppableContainersMap extends Map {\n  get(id) {\n    var _super$get;\n\n    return id != null ? (_super$get = super.get(id)) != null ? _super$get : undefined : undefined;\n  }\n\n  toArray() {\n    return Array.from(this.values());\n  }\n\n  getEnabled() {\n    return this.toArray().filter(_ref => {\n      let {\n        disabled\n      } = _ref;\n      return !disabled;\n    });\n  }\n\n  getNodeFor(id) {\n    var _this$get$node$curren, _this$get;\n\n    return (_this$get$node$curren = (_this$get = this.get(id)) == null ? void 0 : _this$get.node.current) != null ? _this$get$node$curren : undefined;\n  }\n\n}\n\nconst defaultPublicContext = {\n  activatorEvent: null,\n  active: null,\n  activeNode: null,\n  activeNodeRect: null,\n  collisions: null,\n  containerNodeRect: null,\n  draggableNodes: /*#__PURE__*/new Map(),\n  droppableRects: /*#__PURE__*/new Map(),\n  droppableContainers: /*#__PURE__*/new DroppableContainersMap(),\n  over: null,\n  dragOverlay: {\n    nodeRef: {\n      current: null\n    },\n    rect: null,\n    setRef: noop\n  },\n  scrollableAncestors: [],\n  scrollableAncestorRects: [],\n  measuringConfiguration: defaultMeasuringConfiguration,\n  measureDroppableContainers: noop,\n  windowRect: null,\n  measuringScheduled: false\n};\nconst defaultInternalContext = {\n  activatorEvent: null,\n  activators: [],\n  active: null,\n  activeNodeRect: null,\n  ariaDescribedById: {\n    draggable: ''\n  },\n  dispatch: noop,\n  draggableNodes: /*#__PURE__*/new Map(),\n  over: null,\n  measureDroppableContainers: noop\n};\nconst InternalContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(defaultInternalContext);\nconst PublicContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(defaultPublicContext);\n\nfunction getInitialState() {\n  return {\n    draggable: {\n      active: null,\n      initialCoordinates: {\n        x: 0,\n        y: 0\n      },\n      nodes: new Map(),\n      translate: {\n        x: 0,\n        y: 0\n      }\n    },\n    droppable: {\n      containers: new DroppableContainersMap()\n    }\n  };\n}\nfunction reducer(state, action) {\n  switch (action.type) {\n    case Action.DragStart:\n      return { ...state,\n        draggable: { ...state.draggable,\n          initialCoordinates: action.initialCoordinates,\n          active: action.active\n        }\n      };\n\n    case Action.DragMove:\n      if (state.draggable.active == null) {\n        return state;\n      }\n\n      return { ...state,\n        draggable: { ...state.draggable,\n          translate: {\n            x: action.coordinates.x - state.draggable.initialCoordinates.x,\n            y: action.coordinates.y - state.draggable.initialCoordinates.y\n          }\n        }\n      };\n\n    case Action.DragEnd:\n    case Action.DragCancel:\n      return { ...state,\n        draggable: { ...state.draggable,\n          active: null,\n          initialCoordinates: {\n            x: 0,\n            y: 0\n          },\n          translate: {\n            x: 0,\n            y: 0\n          }\n        }\n      };\n\n    case Action.RegisterDroppable:\n      {\n        const {\n          element\n        } = action;\n        const {\n          id\n        } = element;\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.set(id, element);\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    case Action.SetDroppableDisabled:\n      {\n        const {\n          id,\n          key,\n          disabled\n        } = action;\n        const element = state.droppable.containers.get(id);\n\n        if (!element || key !== element.key) {\n          return state;\n        }\n\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.set(id, { ...element,\n          disabled\n        });\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    case Action.UnregisterDroppable:\n      {\n        const {\n          id,\n          key\n        } = action;\n        const element = state.droppable.containers.get(id);\n\n        if (!element || key !== element.key) {\n          return state;\n        }\n\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.delete(id);\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nfunction RestoreFocus(_ref) {\n  let {\n    disabled\n  } = _ref;\n  const {\n    active,\n    activatorEvent,\n    draggableNodes\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(InternalContext);\n  const previousActivatorEvent = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.usePrevious)(activatorEvent);\n  const previousActiveId = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.usePrevious)(active == null ? void 0 : active.id); // Restore keyboard focus on the activator node\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (disabled) {\n      return;\n    }\n\n    if (!activatorEvent && previousActivatorEvent && previousActiveId != null) {\n      if (!(0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isKeyboardEvent)(previousActivatorEvent)) {\n        return;\n      }\n\n      if (document.activeElement === previousActivatorEvent.target) {\n        // No need to restore focus\n        return;\n      }\n\n      const draggableNode = draggableNodes.get(previousActiveId);\n\n      if (!draggableNode) {\n        return;\n      }\n\n      const {\n        activatorNode,\n        node\n      } = draggableNode;\n\n      if (!activatorNode.current && !node.current) {\n        return;\n      }\n\n      requestAnimationFrame(() => {\n        for (const element of [activatorNode.current, node.current]) {\n          if (!element) {\n            continue;\n          }\n\n          const focusableNode = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.findFirstFocusableNode)(element);\n\n          if (focusableNode) {\n            focusableNode.focus();\n            break;\n          }\n        }\n      });\n    }\n  }, [activatorEvent, disabled, draggableNodes, previousActiveId, previousActivatorEvent]);\n  return null;\n}\n\nfunction applyModifiers(modifiers, _ref) {\n  let {\n    transform,\n    ...args\n  } = _ref;\n  return modifiers != null && modifiers.length ? modifiers.reduce((accumulator, modifier) => {\n    return modifier({\n      transform: accumulator,\n      ...args\n    });\n  }, transform) : transform;\n}\n\nfunction useMeasuringConfiguration(config) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    draggable: { ...defaultMeasuringConfiguration.draggable,\n      ...(config == null ? void 0 : config.draggable)\n    },\n    droppable: { ...defaultMeasuringConfiguration.droppable,\n      ...(config == null ? void 0 : config.droppable)\n    },\n    dragOverlay: { ...defaultMeasuringConfiguration.dragOverlay,\n      ...(config == null ? void 0 : config.dragOverlay)\n    }\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [config == null ? void 0 : config.draggable, config == null ? void 0 : config.droppable, config == null ? void 0 : config.dragOverlay]);\n}\n\nfunction useLayoutShiftScrollCompensation(_ref) {\n  let {\n    activeNode,\n    measure,\n    initialRect,\n    config = true\n  } = _ref;\n  const initialized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  const {\n    x,\n    y\n  } = typeof config === 'boolean' ? {\n    x: config,\n    y: config\n  } : config;\n  (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(() => {\n    const disabled = !x && !y;\n\n    if (disabled || !activeNode) {\n      initialized.current = false;\n      return;\n    }\n\n    if (initialized.current || !initialRect) {\n      // Return early if layout shift scroll compensation was already attempted\n      // or if there is no initialRect to compare to.\n      return;\n    } // Get the most up to date node ref for the active draggable\n\n\n    const node = activeNode == null ? void 0 : activeNode.node.current;\n\n    if (!node || node.isConnected === false) {\n      // Return early if there is no attached node ref or if the node is\n      // disconnected from the document.\n      return;\n    }\n\n    const rect = measure(node);\n    const rectDelta = getRectDelta(rect, initialRect);\n\n    if (!x) {\n      rectDelta.x = 0;\n    }\n\n    if (!y) {\n      rectDelta.y = 0;\n    } // Only perform layout shift scroll compensation once\n\n\n    initialized.current = true;\n\n    if (Math.abs(rectDelta.x) > 0 || Math.abs(rectDelta.y) > 0) {\n      const firstScrollableAncestor = getFirstScrollableAncestor(node);\n\n      if (firstScrollableAncestor) {\n        firstScrollableAncestor.scrollBy({\n          top: rectDelta.y,\n          left: rectDelta.x\n        });\n      }\n    }\n  }, [activeNode, x, y, initialRect, measure]);\n}\n\nconst ActiveDraggableContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({ ...defaultCoordinates,\n  scaleX: 1,\n  scaleY: 1\n});\nvar Status;\n\n(function (Status) {\n  Status[Status[\"Uninitialized\"] = 0] = \"Uninitialized\";\n  Status[Status[\"Initializing\"] = 1] = \"Initializing\";\n  Status[Status[\"Initialized\"] = 2] = \"Initialized\";\n})(Status || (Status = {}));\n\nconst DndContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function DndContext(_ref) {\n  var _sensorContext$curren, _dragOverlay$nodeRef$, _dragOverlay$rect, _over$rect;\n\n  let {\n    id,\n    accessibility,\n    autoScroll = true,\n    children,\n    sensors = defaultSensors,\n    collisionDetection = rectIntersection,\n    measuring,\n    modifiers,\n    ...props\n  } = _ref;\n  const store = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(reducer, undefined, getInitialState);\n  const [state, dispatch] = store;\n  const [dispatchMonitorEvent, registerMonitorListener] = useDndMonitorProvider();\n  const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Status.Uninitialized);\n  const isInitialized = status === Status.Initialized;\n  const {\n    draggable: {\n      active: activeId,\n      nodes: draggableNodes,\n      translate\n    },\n    droppable: {\n      containers: droppableContainers\n    }\n  } = state;\n  const node = activeId != null ? draggableNodes.get(activeId) : null;\n  const activeRects = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    initial: null,\n    translated: null\n  });\n  const active = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    var _node$data;\n\n    return activeId != null ? {\n      id: activeId,\n      // It's possible for the active node to unmount while dragging\n      data: (_node$data = node == null ? void 0 : node.data) != null ? _node$data : defaultData,\n      rect: activeRects\n    } : null;\n  }, [activeId, node]);\n  const activeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const [activeSensor, setActiveSensor] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [activatorEvent, setActivatorEvent] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const latestProps = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useLatestValue)(props, Object.values(props));\n  const draggableDescribedById = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useUniqueId)(\"DndDescribedBy\", id);\n  const enabledDroppableContainers = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => droppableContainers.getEnabled(), [droppableContainers]);\n  const measuringConfiguration = useMeasuringConfiguration(measuring);\n  const {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled\n  } = useDroppableMeasuring(enabledDroppableContainers, {\n    dragging: isInitialized,\n    dependencies: [translate.x, translate.y],\n    config: measuringConfiguration.droppable\n  });\n  const activeNode = useCachedNode(draggableNodes, activeId);\n  const activationCoordinates = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => activatorEvent ? (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getEventCoordinates)(activatorEvent) : null, [activatorEvent]);\n  const autoScrollOptions = getAutoScrollerOptions();\n  const initialActiveNodeRect = useInitialRect(activeNode, measuringConfiguration.draggable.measure);\n  useLayoutShiftScrollCompensation({\n    activeNode: activeId != null ? draggableNodes.get(activeId) : null,\n    config: autoScrollOptions.layoutShiftCompensation,\n    initialRect: initialActiveNodeRect,\n    measure: measuringConfiguration.draggable.measure\n  });\n  const activeNodeRect = useRect(activeNode, measuringConfiguration.draggable.measure, initialActiveNodeRect);\n  const containerNodeRect = useRect(activeNode ? activeNode.parentElement : null);\n  const sensorContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    activatorEvent: null,\n    active: null,\n    activeNode,\n    collisionRect: null,\n    collisions: null,\n    droppableRects,\n    draggableNodes,\n    draggingNode: null,\n    draggingNodeRect: null,\n    droppableContainers,\n    over: null,\n    scrollableAncestors: [],\n    scrollAdjustedTranslate: null\n  });\n  const overNode = droppableContainers.getNodeFor((_sensorContext$curren = sensorContext.current.over) == null ? void 0 : _sensorContext$curren.id);\n  const dragOverlay = useDragOverlayMeasuring({\n    measure: measuringConfiguration.dragOverlay.measure\n  }); // Use the rect of the drag overlay if it is mounted\n\n  const draggingNode = (_dragOverlay$nodeRef$ = dragOverlay.nodeRef.current) != null ? _dragOverlay$nodeRef$ : activeNode;\n  const draggingNodeRect = isInitialized ? (_dragOverlay$rect = dragOverlay.rect) != null ? _dragOverlay$rect : activeNodeRect : null;\n  const usesDragOverlay = Boolean(dragOverlay.nodeRef.current && dragOverlay.rect); // The delta between the previous and new position of the draggable node\n  // is only relevant when there is no drag overlay\n\n  const nodeRectDelta = useRectDelta(usesDragOverlay ? null : activeNodeRect); // Get the window rect of the dragging node\n\n  const windowRect = useWindowRect(draggingNode ? (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getWindow)(draggingNode) : null); // Get scrollable ancestors of the dragging node\n\n  const scrollableAncestors = useScrollableAncestors(isInitialized ? overNode != null ? overNode : activeNode : null);\n  const scrollableAncestorRects = useRects(scrollableAncestors); // Apply modifiers\n\n  const modifiedTranslate = applyModifiers(modifiers, {\n    transform: {\n      x: translate.x - nodeRectDelta.x,\n      y: translate.y - nodeRectDelta.y,\n      scaleX: 1,\n      scaleY: 1\n    },\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect,\n    over: sensorContext.current.over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect\n  });\n  const pointerCoordinates = activationCoordinates ? (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.add)(activationCoordinates, translate) : null;\n  const scrollOffsets = useScrollOffsets(scrollableAncestors); // Represents the scroll delta since dragging was initiated\n\n  const scrollAdjustment = useScrollOffsetsDelta(scrollOffsets); // Represents the scroll delta since the last time the active node rect was measured\n\n  const activeNodeScrollDelta = useScrollOffsetsDelta(scrollOffsets, [activeNodeRect]);\n  const scrollAdjustedTranslate = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.add)(modifiedTranslate, scrollAdjustment);\n  const collisionRect = draggingNodeRect ? getAdjustedRect(draggingNodeRect, modifiedTranslate) : null;\n  const collisions = active && collisionRect ? collisionDetection({\n    active,\n    collisionRect,\n    droppableRects,\n    droppableContainers: enabledDroppableContainers,\n    pointerCoordinates\n  }) : null;\n  const overId = getFirstCollision(collisions, 'id');\n  const [over, setOver] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null); // When there is no drag overlay used, we need to account for the\n  // window scroll delta\n\n  const appliedTranslate = usesDragOverlay ? modifiedTranslate : (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.add)(modifiedTranslate, activeNodeScrollDelta);\n  const transform = adjustScale(appliedTranslate, (_over$rect = over == null ? void 0 : over.rect) != null ? _over$rect : null, activeNodeRect);\n  const activeSensorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const instantiateSensor = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event, _ref2) => {\n    let {\n      sensor: Sensor,\n      options\n    } = _ref2;\n\n    if (activeRef.current == null) {\n      return;\n    }\n\n    const activeNode = draggableNodes.get(activeRef.current);\n\n    if (!activeNode) {\n      return;\n    }\n\n    const activatorEvent = event.nativeEvent;\n    const sensorInstance = new Sensor({\n      active: activeRef.current,\n      activeNode,\n      event: activatorEvent,\n      options,\n      // Sensors need to be instantiated with refs for arguments that change over time\n      // otherwise they are frozen in time with the stale arguments\n      context: sensorContext,\n\n      onAbort(id) {\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragAbort\n        } = latestProps.current;\n        const event = {\n          id\n        };\n        onDragAbort == null ? void 0 : onDragAbort(event);\n        dispatchMonitorEvent({\n          type: 'onDragAbort',\n          event\n        });\n      },\n\n      onPending(id, constraint, initialCoordinates, offset) {\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragPending\n        } = latestProps.current;\n        const event = {\n          id,\n          constraint,\n          initialCoordinates,\n          offset\n        };\n        onDragPending == null ? void 0 : onDragPending(event);\n        dispatchMonitorEvent({\n          type: 'onDragPending',\n          event\n        });\n      },\n\n      onStart(initialCoordinates) {\n        const id = activeRef.current;\n\n        if (id == null) {\n          return;\n        }\n\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragStart\n        } = latestProps.current;\n        const event = {\n          activatorEvent,\n          active: {\n            id,\n            data: draggableNode.data,\n            rect: activeRects\n          }\n        };\n        (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.unstable_batchedUpdates)(() => {\n          onDragStart == null ? void 0 : onDragStart(event);\n          setStatus(Status.Initializing);\n          dispatch({\n            type: Action.DragStart,\n            initialCoordinates,\n            active: id\n          });\n          dispatchMonitorEvent({\n            type: 'onDragStart',\n            event\n          });\n          setActiveSensor(activeSensorRef.current);\n          setActivatorEvent(activatorEvent);\n        });\n      },\n\n      onMove(coordinates) {\n        dispatch({\n          type: Action.DragMove,\n          coordinates\n        });\n      },\n\n      onEnd: createHandler(Action.DragEnd),\n      onCancel: createHandler(Action.DragCancel)\n    });\n    activeSensorRef.current = sensorInstance;\n\n    function createHandler(type) {\n      return async function handler() {\n        const {\n          active,\n          collisions,\n          over,\n          scrollAdjustedTranslate\n        } = sensorContext.current;\n        let event = null;\n\n        if (active && scrollAdjustedTranslate) {\n          const {\n            cancelDrop\n          } = latestProps.current;\n          event = {\n            activatorEvent,\n            active: active,\n            collisions,\n            delta: scrollAdjustedTranslate,\n            over\n          };\n\n          if (type === Action.DragEnd && typeof cancelDrop === 'function') {\n            const shouldCancel = await Promise.resolve(cancelDrop(event));\n\n            if (shouldCancel) {\n              type = Action.DragCancel;\n            }\n          }\n        }\n\n        activeRef.current = null;\n        (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.unstable_batchedUpdates)(() => {\n          dispatch({\n            type\n          });\n          setStatus(Status.Uninitialized);\n          setOver(null);\n          setActiveSensor(null);\n          setActivatorEvent(null);\n          activeSensorRef.current = null;\n          const eventName = type === Action.DragEnd ? 'onDragEnd' : 'onDragCancel';\n\n          if (event) {\n            const handler = latestProps.current[eventName];\n            handler == null ? void 0 : handler(event);\n            dispatchMonitorEvent({\n              type: eventName,\n              event\n            });\n          }\n        });\n      };\n    }\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [draggableNodes]);\n  const bindActivatorToSensorInstantiator = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((handler, sensor) => {\n    return (event, active) => {\n      const nativeEvent = event.nativeEvent;\n      const activeDraggableNode = draggableNodes.get(active);\n\n      if ( // Another sensor is already instantiating\n      activeRef.current !== null || // No active draggable\n      !activeDraggableNode || // Event has already been captured\n      nativeEvent.dndKit || nativeEvent.defaultPrevented) {\n        return;\n      }\n\n      const activationContext = {\n        active: activeDraggableNode\n      };\n      const shouldActivate = handler(event, sensor.options, activationContext);\n\n      if (shouldActivate === true) {\n        nativeEvent.dndKit = {\n          capturedBy: sensor.sensor\n        };\n        activeRef.current = active;\n        instantiateSensor(event, sensor);\n      }\n    };\n  }, [draggableNodes, instantiateSensor]);\n  const activators = useCombineActivators(sensors, bindActivatorToSensorInstantiator);\n  useSensorSetup(sensors);\n  (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(() => {\n    if (activeNodeRect && status === Status.Initializing) {\n      setStatus(Status.Initialized);\n    }\n  }, [activeNodeRect, status]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const {\n      onDragMove\n    } = latestProps.current;\n    const {\n      active,\n      activatorEvent,\n      collisions,\n      over\n    } = sensorContext.current;\n\n    if (!active || !activatorEvent) {\n      return;\n    }\n\n    const event = {\n      active,\n      activatorEvent,\n      collisions,\n      delta: {\n        x: scrollAdjustedTranslate.x,\n        y: scrollAdjustedTranslate.y\n      },\n      over\n    };\n    (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.unstable_batchedUpdates)(() => {\n      onDragMove == null ? void 0 : onDragMove(event);\n      dispatchMonitorEvent({\n        type: 'onDragMove',\n        event\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [scrollAdjustedTranslate.x, scrollAdjustedTranslate.y]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const {\n      active,\n      activatorEvent,\n      collisions,\n      droppableContainers,\n      scrollAdjustedTranslate\n    } = sensorContext.current;\n\n    if (!active || activeRef.current == null || !activatorEvent || !scrollAdjustedTranslate) {\n      return;\n    }\n\n    const {\n      onDragOver\n    } = latestProps.current;\n    const overContainer = droppableContainers.get(overId);\n    const over = overContainer && overContainer.rect.current ? {\n      id: overContainer.id,\n      rect: overContainer.rect.current,\n      data: overContainer.data,\n      disabled: overContainer.disabled\n    } : null;\n    const event = {\n      active,\n      activatorEvent,\n      collisions,\n      delta: {\n        x: scrollAdjustedTranslate.x,\n        y: scrollAdjustedTranslate.y\n      },\n      over\n    };\n    (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.unstable_batchedUpdates)(() => {\n      setOver(over);\n      onDragOver == null ? void 0 : onDragOver(event);\n      dispatchMonitorEvent({\n        type: 'onDragOver',\n        event\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [overId]);\n  (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(() => {\n    sensorContext.current = {\n      activatorEvent,\n      active,\n      activeNode,\n      collisionRect,\n      collisions,\n      droppableRects,\n      draggableNodes,\n      draggingNode,\n      draggingNodeRect,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n      scrollAdjustedTranslate\n    };\n    activeRects.current = {\n      initial: draggingNodeRect,\n      translated: collisionRect\n    };\n  }, [active, activeNode, collisions, collisionRect, draggableNodes, draggingNode, draggingNodeRect, droppableRects, droppableContainers, over, scrollableAncestors, scrollAdjustedTranslate]);\n  useAutoScroller({ ...autoScrollOptions,\n    delta: translate,\n    draggingRect: collisionRect,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects\n  });\n  const publicContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const context = {\n      active,\n      activeNode,\n      activeNodeRect,\n      activatorEvent,\n      collisions,\n      containerNodeRect,\n      dragOverlay,\n      draggableNodes,\n      droppableContainers,\n      droppableRects,\n      over,\n      measureDroppableContainers,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      measuringConfiguration,\n      measuringScheduled,\n      windowRect\n    };\n    return context;\n  }, [active, activeNode, activeNodeRect, activatorEvent, collisions, containerNodeRect, dragOverlay, draggableNodes, droppableContainers, droppableRects, over, measureDroppableContainers, scrollableAncestors, scrollableAncestorRects, measuringConfiguration, measuringScheduled, windowRect]);\n  const internalContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const context = {\n      activatorEvent,\n      activators,\n      active,\n      activeNodeRect,\n      ariaDescribedById: {\n        draggable: draggableDescribedById\n      },\n      dispatch,\n      draggableNodes,\n      over,\n      measureDroppableContainers\n    };\n    return context;\n  }, [activatorEvent, activators, active, activeNodeRect, dispatch, draggableDescribedById, draggableNodes, over, measureDroppableContainers]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(DndMonitorContext.Provider, {\n    value: registerMonitorListener\n  }, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(InternalContext.Provider, {\n    value: internalContext\n  }, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PublicContext.Provider, {\n    value: publicContext\n  }, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ActiveDraggableContext.Provider, {\n    value: transform\n  }, children)), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(RestoreFocus, {\n    disabled: (accessibility == null ? void 0 : accessibility.restoreFocus) === false\n  })), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Accessibility, { ...accessibility,\n    hiddenTextDescribedById: draggableDescribedById\n  }));\n\n  function getAutoScrollerOptions() {\n    const activeSensorDisablesAutoscroll = (activeSensor == null ? void 0 : activeSensor.autoScrollEnabled) === false;\n    const autoScrollGloballyDisabled = typeof autoScroll === 'object' ? autoScroll.enabled === false : autoScroll === false;\n    const enabled = isInitialized && !activeSensorDisablesAutoscroll && !autoScrollGloballyDisabled;\n\n    if (typeof autoScroll === 'object') {\n      return { ...autoScroll,\n        enabled\n      };\n    }\n\n    return {\n      enabled\n    };\n  }\n});\n\nconst NullContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nconst defaultRole = 'button';\nconst ID_PREFIX = 'Draggable';\nfunction useDraggable(_ref) {\n  let {\n    id,\n    data,\n    disabled = false,\n    attributes\n  } = _ref;\n  const key = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useUniqueId)(ID_PREFIX);\n  const {\n    activators,\n    activatorEvent,\n    active,\n    activeNodeRect,\n    ariaDescribedById,\n    draggableNodes,\n    over\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(InternalContext);\n  const {\n    role = defaultRole,\n    roleDescription = 'draggable',\n    tabIndex = 0\n  } = attributes != null ? attributes : {};\n  const isDragging = (active == null ? void 0 : active.id) === id;\n  const transform = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(isDragging ? ActiveDraggableContext : NullContext);\n  const [node, setNodeRef] = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useNodeRef)();\n  const [activatorNode, setActivatorNodeRef] = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useNodeRef)();\n  const listeners = useSyntheticListeners(activators, id);\n  const dataRef = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useLatestValue)(data);\n  (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(() => {\n    draggableNodes.set(id, {\n      id,\n      key,\n      node,\n      activatorNode,\n      data: dataRef\n    });\n    return () => {\n      const node = draggableNodes.get(id);\n\n      if (node && node.key === key) {\n        draggableNodes.delete(id);\n      }\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [draggableNodes, id]);\n  const memoizedAttributes = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    role,\n    tabIndex,\n    'aria-disabled': disabled,\n    'aria-pressed': isDragging && role === defaultRole ? true : undefined,\n    'aria-roledescription': roleDescription,\n    'aria-describedby': ariaDescribedById.draggable\n  }), [disabled, role, tabIndex, isDragging, roleDescription, ariaDescribedById.draggable]);\n  return {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes: memoizedAttributes,\n    isDragging,\n    listeners: disabled ? undefined : listeners,\n    node,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    transform\n  };\n}\n\nfunction useDndContext() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PublicContext);\n}\n\nconst ID_PREFIX$1 = 'Droppable';\nconst defaultResizeObserverConfig = {\n  timeout: 25\n};\nfunction useDroppable(_ref) {\n  let {\n    data,\n    disabled = false,\n    id,\n    resizeObserverConfig\n  } = _ref;\n  const key = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useUniqueId)(ID_PREFIX$1);\n  const {\n    active,\n    dispatch,\n    over,\n    measureDroppableContainers\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(InternalContext);\n  const previous = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    disabled\n  });\n  const resizeObserverConnected = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  const rect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const callbackId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const {\n    disabled: resizeObserverDisabled,\n    updateMeasurementsFor,\n    timeout: resizeObserverTimeout\n  } = { ...defaultResizeObserverConfig,\n    ...resizeObserverConfig\n  };\n  const ids = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useLatestValue)(updateMeasurementsFor != null ? updateMeasurementsFor : id);\n  const handleResize = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (!resizeObserverConnected.current) {\n      // ResizeObserver invokes the `handleResize` callback as soon as `observe` is called,\n      // assuming the element is rendered and displayed.\n      resizeObserverConnected.current = true;\n      return;\n    }\n\n    if (callbackId.current != null) {\n      clearTimeout(callbackId.current);\n    }\n\n    callbackId.current = setTimeout(() => {\n      measureDroppableContainers(Array.isArray(ids.current) ? ids.current : [ids.current]);\n      callbackId.current = null;\n    }, resizeObserverTimeout);\n  }, //eslint-disable-next-line react-hooks/exhaustive-deps\n  [resizeObserverTimeout]);\n  const resizeObserver = useResizeObserver({\n    callback: handleResize,\n    disabled: resizeObserverDisabled || !active\n  });\n  const handleNodeChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((newElement, previousElement) => {\n    if (!resizeObserver) {\n      return;\n    }\n\n    if (previousElement) {\n      resizeObserver.unobserve(previousElement);\n      resizeObserverConnected.current = false;\n    }\n\n    if (newElement) {\n      resizeObserver.observe(newElement);\n    }\n  }, [resizeObserver]);\n  const [nodeRef, setNodeRef] = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useNodeRef)(handleNodeChange);\n  const dataRef = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useLatestValue)(data);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!resizeObserver || !nodeRef.current) {\n      return;\n    }\n\n    resizeObserver.disconnect();\n    resizeObserverConnected.current = false;\n    resizeObserver.observe(nodeRef.current);\n  }, [nodeRef, resizeObserver]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    dispatch({\n      type: Action.RegisterDroppable,\n      element: {\n        id,\n        key,\n        disabled,\n        node: nodeRef,\n        rect,\n        data: dataRef\n      }\n    });\n    return () => dispatch({\n      type: Action.UnregisterDroppable,\n      key,\n      id\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [id]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (disabled !== previous.current.disabled) {\n      dispatch({\n        type: Action.SetDroppableDisabled,\n        id,\n        key,\n        disabled\n      });\n      previous.current.disabled = disabled;\n    }\n  }, [id, key, disabled, dispatch]);\n  return {\n    active,\n    rect,\n    isOver: (over == null ? void 0 : over.id) === id,\n    node: nodeRef,\n    over,\n    setNodeRef\n  };\n}\n\nfunction AnimationManager(_ref) {\n  let {\n    animation,\n    children\n  } = _ref;\n  const [clonedChildren, setClonedChildren] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [element, setElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const previousChildren = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.usePrevious)(children);\n\n  if (!children && !clonedChildren && previousChildren) {\n    setClonedChildren(previousChildren);\n  }\n\n  (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(() => {\n    if (!element) {\n      return;\n    }\n\n    const key = clonedChildren == null ? void 0 : clonedChildren.key;\n    const id = clonedChildren == null ? void 0 : clonedChildren.props.id;\n\n    if (key == null || id == null) {\n      setClonedChildren(null);\n      return;\n    }\n\n    Promise.resolve(animation(id, element)).then(() => {\n      setClonedChildren(null);\n    });\n  }, [animation, clonedChildren, element]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, children, clonedChildren ? (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(clonedChildren, {\n    ref: setElement\n  }) : null);\n}\n\nconst defaultTransform = {\n  x: 0,\n  y: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction NullifiedContextProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(InternalContext.Provider, {\n    value: defaultInternalContext\n  }, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ActiveDraggableContext.Provider, {\n    value: defaultTransform\n  }, children));\n}\n\nconst baseStyles = {\n  position: 'fixed',\n  touchAction: 'none'\n};\n\nconst defaultTransition = activatorEvent => {\n  const isKeyboardActivator = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isKeyboardEvent)(activatorEvent);\n  return isKeyboardActivator ? 'transform 250ms ease' : undefined;\n};\n\nconst PositionedOverlay = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((_ref, ref) => {\n  let {\n    as,\n    activatorEvent,\n    adjustScale,\n    children,\n    className,\n    rect,\n    style,\n    transform,\n    transition = defaultTransition\n  } = _ref;\n\n  if (!rect) {\n    return null;\n  }\n\n  const scaleAdjustedTransform = adjustScale ? transform : { ...transform,\n    scaleX: 1,\n    scaleY: 1\n  };\n  const styles = { ...baseStyles,\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    left: rect.left,\n    transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.CSS.Transform.toString(scaleAdjustedTransform),\n    transformOrigin: adjustScale && activatorEvent ? getRelativeTransformOrigin(activatorEvent, rect) : undefined,\n    transition: typeof transition === 'function' ? transition(activatorEvent) : transition,\n    ...style\n  };\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(as, {\n    className,\n    style: styles,\n    ref\n  }, children);\n});\n\nconst defaultDropAnimationSideEffects = options => _ref => {\n  let {\n    active,\n    dragOverlay\n  } = _ref;\n  const originalStyles = {};\n  const {\n    styles,\n    className\n  } = options;\n\n  if (styles != null && styles.active) {\n    for (const [key, value] of Object.entries(styles.active)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      originalStyles[key] = active.node.style.getPropertyValue(key);\n      active.node.style.setProperty(key, value);\n    }\n  }\n\n  if (styles != null && styles.dragOverlay) {\n    for (const [key, value] of Object.entries(styles.dragOverlay)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      dragOverlay.node.style.setProperty(key, value);\n    }\n  }\n\n  if (className != null && className.active) {\n    active.node.classList.add(className.active);\n  }\n\n  if (className != null && className.dragOverlay) {\n    dragOverlay.node.classList.add(className.dragOverlay);\n  }\n\n  return function cleanup() {\n    for (const [key, value] of Object.entries(originalStyles)) {\n      active.node.style.setProperty(key, value);\n    }\n\n    if (className != null && className.active) {\n      active.node.classList.remove(className.active);\n    }\n  };\n};\n\nconst defaultKeyframeResolver = _ref2 => {\n  let {\n    transform: {\n      initial,\n      final\n    }\n  } = _ref2;\n  return [{\n    transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.CSS.Transform.toString(initial)\n  }, {\n    transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.CSS.Transform.toString(final)\n  }];\n};\n\nconst defaultDropAnimationConfiguration = {\n  duration: 250,\n  easing: 'ease',\n  keyframes: defaultKeyframeResolver,\n  sideEffects: /*#__PURE__*/defaultDropAnimationSideEffects({\n    styles: {\n      active: {\n        opacity: '0'\n      }\n    }\n  })\n};\nfunction useDropAnimation(_ref3) {\n  let {\n    config,\n    draggableNodes,\n    droppableContainers,\n    measuringConfiguration\n  } = _ref3;\n  return (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useEvent)((id, node) => {\n    if (config === null) {\n      return;\n    }\n\n    const activeDraggable = draggableNodes.get(id);\n\n    if (!activeDraggable) {\n      return;\n    }\n\n    const activeNode = activeDraggable.node.current;\n\n    if (!activeNode) {\n      return;\n    }\n\n    const measurableNode = getMeasurableNode(node);\n\n    if (!measurableNode) {\n      return;\n    }\n\n    const {\n      transform\n    } = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.getWindow)(node).getComputedStyle(node);\n    const parsedTransform = parseTransform(transform);\n\n    if (!parsedTransform) {\n      return;\n    }\n\n    const animation = typeof config === 'function' ? config : createDefaultDropAnimation(config);\n    scrollIntoViewIfNeeded(activeNode, measuringConfiguration.draggable.measure);\n    return animation({\n      active: {\n        id,\n        data: activeDraggable.data,\n        node: activeNode,\n        rect: measuringConfiguration.draggable.measure(activeNode)\n      },\n      draggableNodes,\n      dragOverlay: {\n        node,\n        rect: measuringConfiguration.dragOverlay.measure(measurableNode)\n      },\n      droppableContainers,\n      measuringConfiguration,\n      transform: parsedTransform\n    });\n  });\n}\n\nfunction createDefaultDropAnimation(options) {\n  const {\n    duration,\n    easing,\n    sideEffects,\n    keyframes\n  } = { ...defaultDropAnimationConfiguration,\n    ...options\n  };\n  return _ref4 => {\n    let {\n      active,\n      dragOverlay,\n      transform,\n      ...rest\n    } = _ref4;\n\n    if (!duration) {\n      // Do not animate if animation duration is zero.\n      return;\n    }\n\n    const delta = {\n      x: dragOverlay.rect.left - active.rect.left,\n      y: dragOverlay.rect.top - active.rect.top\n    };\n    const scale = {\n      scaleX: transform.scaleX !== 1 ? active.rect.width * transform.scaleX / dragOverlay.rect.width : 1,\n      scaleY: transform.scaleY !== 1 ? active.rect.height * transform.scaleY / dragOverlay.rect.height : 1\n    };\n    const finalTransform = {\n      x: transform.x - delta.x,\n      y: transform.y - delta.y,\n      ...scale\n    };\n    const animationKeyframes = keyframes({ ...rest,\n      active,\n      dragOverlay,\n      transform: {\n        initial: transform,\n        final: finalTransform\n      }\n    });\n    const [firstKeyframe] = animationKeyframes;\n    const lastKeyframe = animationKeyframes[animationKeyframes.length - 1];\n\n    if (JSON.stringify(firstKeyframe) === JSON.stringify(lastKeyframe)) {\n      // The start and end keyframes are the same, infer that there is no animation needed.\n      return;\n    }\n\n    const cleanup = sideEffects == null ? void 0 : sideEffects({\n      active,\n      dragOverlay,\n      ...rest\n    });\n    const animation = dragOverlay.node.animate(animationKeyframes, {\n      duration,\n      easing,\n      fill: 'forwards'\n    });\n    return new Promise(resolve => {\n      animation.onfinish = () => {\n        cleanup == null ? void 0 : cleanup();\n        resolve();\n      };\n    });\n  };\n}\n\nlet key = 0;\nfunction useKey(id) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (id == null) {\n      return;\n    }\n\n    key++;\n    return key;\n  }, [id]);\n}\n\nconst DragOverlay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().memo(_ref => {\n  let {\n    adjustScale = false,\n    children,\n    dropAnimation: dropAnimationConfig,\n    style,\n    transition,\n    modifiers,\n    wrapperElement = 'div',\n    className,\n    zIndex = 999\n  } = _ref;\n  const {\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggableNodes,\n    droppableContainers,\n    dragOverlay,\n    over,\n    measuringConfiguration,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect\n  } = useDndContext();\n  const transform = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ActiveDraggableContext);\n  const key = useKey(active == null ? void 0 : active.id);\n  const modifiedTransform = applyModifiers(modifiers, {\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect: dragOverlay.rect,\n    over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    transform,\n    windowRect\n  });\n  const initialRect = useInitialValue(activeNodeRect);\n  const dropAnimation = useDropAnimation({\n    config: dropAnimationConfig,\n    draggableNodes,\n    droppableContainers,\n    measuringConfiguration\n  }); // We need to wait for the active node to be measured before connecting the drag overlay ref\n  // otherwise collisions can be computed against a mispositioned drag overlay\n\n  const ref = initialRect ? dragOverlay.setRef : undefined;\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(NullifiedContextProvider, null, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AnimationManager, {\n    animation: dropAnimation\n  }, active && key ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PositionedOverlay, {\n    key: key,\n    id: active.id,\n    ref: ref,\n    as: wrapperElement,\n    activatorEvent: activatorEvent,\n    adjustScale: adjustScale,\n    className: className,\n    transition: transition,\n    rect: initialRect,\n    style: {\n      zIndex,\n      ...style\n    },\n    transform: modifiedTransform\n  }, children) : null));\n});\n\n\n//# sourceMappingURL=core.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL2Rpc3QvY29yZS5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdKO0FBQ3RGO0FBQzRRO0FBQzdQOztBQUVqRix1Q0FBdUMsb0RBQWE7O0FBRXBEO0FBQ0EsMkJBQTJCLGlEQUFVO0FBQ3JDLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHNCQUFzQiwrQ0FBUTtBQUM5QiwyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQTtBQUNBLEdBQUc7QUFDSCxtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJLEVBQUUsdUVBQWU7QUFDckIsdUJBQXVCLCtEQUFXO0FBQ2xDLGdDQUFnQywrQ0FBUTtBQUN4QyxFQUFFLGdEQUFTO0FBQ1g7QUFDQSxHQUFHO0FBQ0gsZ0JBQWdCLDhDQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFR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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0Esa0dBQWtHLGFBQWE7QUFDL0c7QUFDQTs7QUFFQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUs7QUFDVixLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEVBQUUsNkRBQVM7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLDZEQUFTO0FBQzdCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQiw2REFBUztBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFFBQVEsOERBQVU7QUFDbEI7QUFDQTtBQUNBOztBQUVBLFNBQVMsaUVBQWEsVUFBVSxnRUFBWTtBQUM1QztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIsNkRBQVM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU8seURBQVM7QUFDaEI7QUFDQTs7QUFFQSxNQUFNLDREQUFRO0FBQ2Q7QUFDQTs7QUFFQSxPQUFPLDBEQUFNO0FBQ2I7QUFDQTs7QUFFQSxNQUFNLDhEQUFVLHlCQUF5QixvRUFBZ0I7QUFDekQ7QUFDQTs7QUFFQSxNQUFNLGlFQUFhO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE1BQU0sNERBQVE7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNERBQVE7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4QkFBOEI7O0FBRS9CO0FBQ0EsT0FBTyx5REFBUztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsdURBQUc7QUFDZCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVB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QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsZUFBZSxtREFBRztBQUNsQixHQUFHO0FBQ0gsZUFBZSxtREFBRztBQUNsQixHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osU0FBUyw0REFBUTtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sRUFBRSw2REFBUztBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyw4Q0FBTztBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSxpQ0FBaUMsaURBQVU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osb0JBQW9CLGlEQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRztBQUNOOztBQUVBO0FBQ0EsU0FBUywwREFBbUIsaUNBQWlDLDBEQUFtQjtBQUNoRjtBQUNBLEdBQUcsa0JBQWtCLDBEQUFtQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFd2xCO0FBQ3psQiIsInNvdXJjZXMiOlsiL1VzZXJzL25hcmVzaC5wZW50YXBhdGkvRG9jdW1lbnRzL1Byb2plY3RzL2ZyYWdyYW5jZUZvcm11bGEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvZGlzdC9jb3JlLmVzbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVJlZiwgbWVtbywgdXNlUmVkdWNlciwgY2xvbmVFbGVtZW50LCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsLCB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyB1c2VVbmlxdWVJZCwgZ2V0RXZlbnRDb29yZGluYXRlcywgZ2V0V2luZG93LCBpc0RvY3VtZW50LCBpc0hUTUxFbGVtZW50LCBpc1NWR0VsZW1lbnQsIGNhblVzZURPTSwgaXNXaW5kb3csIGlzTm9kZSwgZ2V0T3duZXJEb2N1bWVudCwgYWRkLCBpc0tleWJvYXJkRXZlbnQsIHN1YnRyYWN0LCB1c2VMYXp5TWVtbywgdXNlSW50ZXJ2YWwsIHVzZVByZXZpb3VzLCB1c2VMYXRlc3RWYWx1ZSwgdXNlRXZlbnQsIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QsIHVzZU5vZGVSZWYsIGZpbmRGaXJzdEZvY3VzYWJsZU5vZGUsIENTUyB9IGZyb20gJ0BkbmQta2l0L3V0aWxpdGllcyc7XG5pbXBvcnQgeyB1c2VBbm5vdW5jZW1lbnQsIEhpZGRlblRleHQsIExpdmVSZWdpb24gfSBmcm9tICdAZG5kLWtpdC9hY2Nlc3NpYmlsaXR5JztcblxuY29uc3QgRG5kTW9uaXRvckNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcblxuZnVuY3Rpb24gdXNlRG5kTW9uaXRvcihsaXN0ZW5lcikge1xuICBjb25zdCByZWdpc3Rlckxpc3RlbmVyID0gdXNlQ29udGV4dChEbmRNb25pdG9yQ29udGV4dCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFyZWdpc3Rlckxpc3RlbmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZURuZE1vbml0b3IgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIGNoaWxkcmVuIG9mIDxEbmRDb250ZXh0PicpO1xuICAgIH1cblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gcmVnaXN0ZXJMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgcmV0dXJuIHVuc3Vic2NyaWJlO1xuICB9LCBbbGlzdGVuZXIsIHJlZ2lzdGVyTGlzdGVuZXJdKTtcbn1cblxuZnVuY3Rpb24gdXNlRG5kTW9uaXRvclByb3ZpZGVyKCkge1xuICBjb25zdCBbbGlzdGVuZXJzXSA9IHVzZVN0YXRlKCgpID0+IG5ldyBTZXQoKSk7XG4gIGNvbnN0IHJlZ2lzdGVyTGlzdGVuZXIgPSB1c2VDYWxsYmFjayhsaXN0ZW5lciA9PiB7XG4gICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgcmV0dXJuICgpID0+IGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICB9LCBbbGlzdGVuZXJzXSk7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlQ2FsbGJhY2soX3JlZiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIHR5cGUsXG4gICAgICBldmVudFxuICAgIH0gPSBfcmVmO1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgIHZhciBfbGlzdGVuZXIkdHlwZTtcblxuICAgICAgcmV0dXJuIChfbGlzdGVuZXIkdHlwZSA9IGxpc3RlbmVyW3R5cGVdKSA9PSBudWxsID8gdm9pZCAwIDogX2xpc3RlbmVyJHR5cGUuY2FsbChsaXN0ZW5lciwgZXZlbnQpO1xuICAgIH0pO1xuICB9LCBbbGlzdGVuZXJzXSk7XG4gIHJldHVybiBbZGlzcGF0Y2gsIHJlZ2lzdGVyTGlzdGVuZXJdO1xufVxuXG5jb25zdCBkZWZhdWx0U2NyZWVuUmVhZGVySW5zdHJ1Y3Rpb25zID0ge1xuICBkcmFnZ2FibGU6IFwiXFxuICAgIFRvIHBpY2sgdXAgYSBkcmFnZ2FibGUgaXRlbSwgcHJlc3MgdGhlIHNwYWNlIGJhci5cXG4gICAgV2hpbGUgZHJhZ2dpbmcsIHVzZSB0aGUgYXJyb3cga2V5cyB0byBtb3ZlIHRoZSBpdGVtLlxcbiAgICBQcmVzcyBzcGFjZSBhZ2FpbiB0byBkcm9wIHRoZSBpdGVtIGluIGl0cyBuZXcgcG9zaXRpb24sIG9yIHByZXNzIGVzY2FwZSB0byBjYW5jZWwuXFxuICBcIlxufTtcbmNvbnN0IGRlZmF1bHRBbm5vdW5jZW1lbnRzID0ge1xuICBvbkRyYWdTdGFydChfcmVmKSB7XG4gICAgbGV0IHtcbiAgICAgIGFjdGl2ZVxuICAgIH0gPSBfcmVmO1xuICAgIHJldHVybiBcIlBpY2tlZCB1cCBkcmFnZ2FibGUgaXRlbSBcIiArIGFjdGl2ZS5pZCArIFwiLlwiO1xuICB9LFxuXG4gIG9uRHJhZ092ZXIoX3JlZjIpIHtcbiAgICBsZXQge1xuICAgICAgYWN0aXZlLFxuICAgICAgb3ZlclxuICAgIH0gPSBfcmVmMjtcblxuICAgIGlmIChvdmVyKSB7XG4gICAgICByZXR1cm4gXCJEcmFnZ2FibGUgaXRlbSBcIiArIGFjdGl2ZS5pZCArIFwiIHdhcyBtb3ZlZCBvdmVyIGRyb3BwYWJsZSBhcmVhIFwiICsgb3Zlci5pZCArIFwiLlwiO1xuICAgIH1cblxuICAgIHJldHVybiBcIkRyYWdnYWJsZSBpdGVtIFwiICsgYWN0aXZlLmlkICsgXCIgaXMgbm8gbG9uZ2VyIG92ZXIgYSBkcm9wcGFibGUgYXJlYS5cIjtcbiAgfSxcblxuICBvbkRyYWdFbmQoX3JlZjMpIHtcbiAgICBsZXQge1xuICAgICAgYWN0aXZlLFxuICAgICAgb3ZlclxuICAgIH0gPSBfcmVmMztcblxuICAgIGlmIChvdmVyKSB7XG4gICAgICByZXR1cm4gXCJEcmFnZ2FibGUgaXRlbSBcIiArIGFjdGl2ZS5pZCArIFwiIHdhcyBkcm9wcGVkIG92ZXIgZHJvcHBhYmxlIGFyZWEgXCIgKyBvdmVyLmlkO1xuICAgIH1cblxuICAgIHJldHVybiBcIkRyYWdnYWJsZSBpdGVtIFwiICsgYWN0aXZlLmlkICsgXCIgd2FzIGRyb3BwZWQuXCI7XG4gIH0sXG5cbiAgb25EcmFnQ2FuY2VsKF9yZWY0KSB7XG4gICAgbGV0IHtcbiAgICAgIGFjdGl2ZVxuICAgIH0gPSBfcmVmNDtcbiAgICByZXR1cm4gXCJEcmFnZ2luZyB3YXMgY2FuY2VsbGVkLiBEcmFnZ2FibGUgaXRlbSBcIiArIGFjdGl2ZS5pZCArIFwiIHdhcyBkcm9wcGVkLlwiO1xuICB9XG5cbn07XG5cbmZ1bmN0aW9uIEFjY2Vzc2liaWxpdHkoX3JlZikge1xuICBsZXQge1xuICAgIGFubm91bmNlbWVudHMgPSBkZWZhdWx0QW5ub3VuY2VtZW50cyxcbiAgICBjb250YWluZXIsXG4gICAgaGlkZGVuVGV4dERlc2NyaWJlZEJ5SWQsXG4gICAgc2NyZWVuUmVhZGVySW5zdHJ1Y3Rpb25zID0gZGVmYXVsdFNjcmVlblJlYWRlckluc3RydWN0aW9uc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGFubm91bmNlLFxuICAgIGFubm91bmNlbWVudFxuICB9ID0gdXNlQW5ub3VuY2VtZW50KCk7XG4gIGNvbnN0IGxpdmVSZWdpb25JZCA9IHVzZVVuaXF1ZUlkKFwiRG5kTGl2ZVJlZ2lvblwiKTtcbiAgY29uc3QgW21vdW50ZWQsIHNldE1vdW50ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldE1vdW50ZWQodHJ1ZSk7XG4gIH0sIFtdKTtcbiAgdXNlRG5kTW9uaXRvcih1c2VNZW1vKCgpID0+ICh7XG4gICAgb25EcmFnU3RhcnQoX3JlZjIpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGFjdGl2ZVxuICAgICAgfSA9IF9yZWYyO1xuICAgICAgYW5ub3VuY2UoYW5ub3VuY2VtZW50cy5vbkRyYWdTdGFydCh7XG4gICAgICAgIGFjdGl2ZVxuICAgICAgfSkpO1xuICAgIH0sXG5cbiAgICBvbkRyYWdNb3ZlKF9yZWYzKSB7XG4gICAgICBsZXQge1xuICAgICAgICBhY3RpdmUsXG4gICAgICAgIG92ZXJcbiAgICAgIH0gPSBfcmVmMztcblxuICAgICAgaWYgKGFubm91bmNlbWVudHMub25EcmFnTW92ZSkge1xuICAgICAgICBhbm5vdW5jZShhbm5vdW5jZW1lbnRzLm9uRHJhZ01vdmUoe1xuICAgICAgICAgIGFjdGl2ZSxcbiAgICAgICAgICBvdmVyXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgb25EcmFnT3ZlcihfcmVmNCkge1xuICAgICAgbGV0IHtcbiAgICAgICAgYWN0aXZlLFxuICAgICAgICBvdmVyXG4gICAgICB9ID0gX3JlZjQ7XG4gICAgICBhbm5vdW5jZShhbm5vdW5jZW1lbnRzLm9uRHJhZ092ZXIoe1xuICAgICAgICBhY3RpdmUsXG4gICAgICAgIG92ZXJcbiAgICAgIH0pKTtcbiAgICB9LFxuXG4gICAgb25EcmFnRW5kKF9yZWY1KSB7XG4gICAgICBsZXQge1xuICAgICAgICBhY3RpdmUsXG4gICAgICAgIG92ZXJcbiAgICAgIH0gPSBfcmVmNTtcbiAgICAgIGFubm91bmNlKGFubm91bmNlbWVudHMub25EcmFnRW5kKHtcbiAgICAgICAgYWN0aXZlLFxuICAgICAgICBvdmVyXG4gICAgICB9KSk7XG4gICAgfSxcblxuICAgIG9uRHJhZ0NhbmNlbChfcmVmNikge1xuICAgICAgbGV0IHtcbiAgICAgICAgYWN0aXZlLFxuICAgICAgICBvdmVyXG4gICAgICB9ID0gX3JlZjY7XG4gICAgICBhbm5vdW5jZShhbm5vdW5jZW1lbnRzLm9uRHJhZ0NhbmNlbCh7XG4gICAgICAgIGFjdGl2ZSxcbiAgICAgICAgb3ZlclxuICAgICAgfSkpO1xuICAgIH1cblxuICB9KSwgW2Fubm91bmNlLCBhbm5vdW5jZW1lbnRzXSkpO1xuXG4gIGlmICghbW91bnRlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgbWFya3VwID0gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChIaWRkZW5UZXh0LCB7XG4gICAgaWQ6IGhpZGRlblRleHREZXNjcmliZWRCeUlkLFxuICAgIHZhbHVlOiBzY3JlZW5SZWFkZXJJbnN0cnVjdGlvbnMuZHJhZ2dhYmxlXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KExpdmVSZWdpb24sIHtcbiAgICBpZDogbGl2ZVJlZ2lvbklkLFxuICAgIGFubm91bmNlbWVudDogYW5ub3VuY2VtZW50XG4gIH0pKTtcbiAgcmV0dXJuIGNvbnRhaW5lciA/IGNyZWF0ZVBvcnRhbChtYXJrdXAsIGNvbnRhaW5lcikgOiBtYXJrdXA7XG59XG5cbnZhciBBY3Rpb247XG5cbihmdW5jdGlvbiAoQWN0aW9uKSB7XG4gIEFjdGlvbltcIkRyYWdTdGFydFwiXSA9IFwiZHJhZ1N0YXJ0XCI7XG4gIEFjdGlvbltcIkRyYWdNb3ZlXCJdID0gXCJkcmFnTW92ZVwiO1xuICBBY3Rpb25bXCJEcmFnRW5kXCJdID0gXCJkcmFnRW5kXCI7XG4gIEFjdGlvbltcIkRyYWdDYW5jZWxcIl0gPSBcImRyYWdDYW5jZWxcIjtcbiAgQWN0aW9uW1wiRHJhZ092ZXJcIl0gPSBcImRyYWdPdmVyXCI7XG4gIEFjdGlvbltcIlJlZ2lzdGVyRHJvcHBhYmxlXCJdID0gXCJyZWdpc3RlckRyb3BwYWJsZVwiO1xuICBBY3Rpb25bXCJTZXREcm9wcGFibGVEaXNhYmxlZFwiXSA9IFwic2V0RHJvcHBhYmxlRGlzYWJsZWRcIjtcbiAgQWN0aW9uW1wiVW5yZWdpc3RlckRyb3BwYWJsZVwiXSA9IFwidW5yZWdpc3RlckRyb3BwYWJsZVwiO1xufSkoQWN0aW9uIHx8IChBY3Rpb24gPSB7fSkpO1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gdXNlU2Vuc29yKHNlbnNvciwgb3B0aW9ucykge1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgIHNlbnNvcixcbiAgICBvcHRpb25zOiBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zIDoge31cbiAgfSksIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgW3NlbnNvciwgb3B0aW9uc10pO1xufVxuXG5mdW5jdGlvbiB1c2VTZW5zb3JzKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc2Vuc29ycyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBzZW5zb3JzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gWy4uLnNlbnNvcnNdLmZpbHRlcihzZW5zb3IgPT4gc2Vuc29yICE9IG51bGwpLCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIFsuLi5zZW5zb3JzXSk7XG59XG5cbmNvbnN0IGRlZmF1bHRDb29yZGluYXRlcyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgeDogMCxcbiAgeTogMFxufSk7XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcclxuICovXG5mdW5jdGlvbiBkaXN0YW5jZUJldHdlZW4ocDEsIHAyKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocDEueCAtIHAyLngsIDIpICsgTWF0aC5wb3cocDEueSAtIHAyLnksIDIpKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVsYXRpdmVUcmFuc2Zvcm1PcmlnaW4oZXZlbnQsIHJlY3QpIHtcbiAgY29uc3QgZXZlbnRDb29yZGluYXRlcyA9IGdldEV2ZW50Q29vcmRpbmF0ZXMoZXZlbnQpO1xuXG4gIGlmICghZXZlbnRDb29yZGluYXRlcykge1xuICAgIHJldHVybiAnMCAwJztcbiAgfVxuXG4gIGNvbnN0IHRyYW5zZm9ybU9yaWdpbiA9IHtcbiAgICB4OiAoZXZlbnRDb29yZGluYXRlcy54IC0gcmVjdC5sZWZ0KSAvIHJlY3Qud2lkdGggKiAxMDAsXG4gICAgeTogKGV2ZW50Q29vcmRpbmF0ZXMueSAtIHJlY3QudG9wKSAvIHJlY3QuaGVpZ2h0ICogMTAwXG4gIH07XG4gIHJldHVybiB0cmFuc2Zvcm1PcmlnaW4ueCArIFwiJSBcIiArIHRyYW5zZm9ybU9yaWdpbi55ICsgXCIlXCI7XG59XG5cbi8qKlxyXG4gKiBTb3J0IGNvbGxpc2lvbnMgZnJvbSBzbWFsbGVzdCB0byBncmVhdGVzdCB2YWx1ZVxyXG4gKi9cbmZ1bmN0aW9uIHNvcnRDb2xsaXNpb25zQXNjKF9yZWYsIF9yZWYyKSB7XG4gIGxldCB7XG4gICAgZGF0YToge1xuICAgICAgdmFsdWU6IGFcbiAgICB9XG4gIH0gPSBfcmVmO1xuICBsZXQge1xuICAgIGRhdGE6IHtcbiAgICAgIHZhbHVlOiBiXG4gICAgfVxuICB9ID0gX3JlZjI7XG4gIHJldHVybiBhIC0gYjtcbn1cbi8qKlxyXG4gKiBTb3J0IGNvbGxpc2lvbnMgZnJvbSBncmVhdGVzdCB0byBzbWFsbGVzdCB2YWx1ZVxyXG4gKi9cblxuZnVuY3Rpb24gc29ydENvbGxpc2lvbnNEZXNjKF9yZWYzLCBfcmVmNCkge1xuICBsZXQge1xuICAgIGRhdGE6IHtcbiAgICAgIHZhbHVlOiBhXG4gICAgfVxuICB9ID0gX3JlZjM7XG4gIGxldCB7XG4gICAgZGF0YToge1xuICAgICAgdmFsdWU6IGJcbiAgICB9XG4gIH0gPSBfcmVmNDtcbiAgcmV0dXJuIGIgLSBhO1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBjb3JuZXJzIG9mIGEgZ2l2ZW4gcmVjdGFuZ2xlOlxyXG4gKiBbVG9wTGVmdCB7eCwgeX0sIFRvcFJpZ2h0IHt4LCB5fSwgQm90dG9tTGVmdCB7eCwgeX0sIEJvdHRvbVJpZ2h0IHt4LCB5fV1cclxuICovXG5cbmZ1bmN0aW9uIGNvcm5lcnNPZlJlY3RhbmdsZShfcmVmNSkge1xuICBsZXQge1xuICAgIGxlZnQsXG4gICAgdG9wLFxuICAgIGhlaWdodCxcbiAgICB3aWR0aFxuICB9ID0gX3JlZjU7XG4gIHJldHVybiBbe1xuICAgIHg6IGxlZnQsXG4gICAgeTogdG9wXG4gIH0sIHtcbiAgICB4OiBsZWZ0ICsgd2lkdGgsXG4gICAgeTogdG9wXG4gIH0sIHtcbiAgICB4OiBsZWZ0LFxuICAgIHk6IHRvcCArIGhlaWdodFxuICB9LCB7XG4gICAgeDogbGVmdCArIHdpZHRoLFxuICAgIHk6IHRvcCArIGhlaWdodFxuICB9XTtcbn1cbmZ1bmN0aW9uIGdldEZpcnN0Q29sbGlzaW9uKGNvbGxpc2lvbnMsIHByb3BlcnR5KSB7XG4gIGlmICghY29sbGlzaW9ucyB8fCBjb2xsaXNpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgW2ZpcnN0Q29sbGlzaW9uXSA9IGNvbGxpc2lvbnM7XG4gIHJldHVybiBwcm9wZXJ0eSA/IGZpcnN0Q29sbGlzaW9uW3Byb3BlcnR5XSA6IGZpcnN0Q29sbGlzaW9uO1xufVxuXG4vKipcclxuICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGNlbnRlciBvZiBhIGdpdmVuIENsaWVudFJlY3RcclxuICovXG5cbmZ1bmN0aW9uIGNlbnRlck9mUmVjdGFuZ2xlKHJlY3QsIGxlZnQsIHRvcCkge1xuICBpZiAobGVmdCA9PT0gdm9pZCAwKSB7XG4gICAgbGVmdCA9IHJlY3QubGVmdDtcbiAgfVxuXG4gIGlmICh0b3AgPT09IHZvaWQgMCkge1xuICAgIHRvcCA9IHJlY3QudG9wO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBsZWZ0ICsgcmVjdC53aWR0aCAqIDAuNSxcbiAgICB5OiB0b3AgKyByZWN0LmhlaWdodCAqIDAuNVxuICB9O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGNsb3Nlc3QgcmVjdGFuZ2xlcyBmcm9tIGFuIGFycmF5IG9mIHJlY3RhbmdsZXMgdG8gdGhlIGNlbnRlciBvZiBhIGdpdmVuXHJcbiAqIHJlY3RhbmdsZS5cclxuICovXG5cblxuY29uc3QgY2xvc2VzdENlbnRlciA9IF9yZWYgPT4ge1xuICBsZXQge1xuICAgIGNvbGxpc2lvblJlY3QsXG4gICAgZHJvcHBhYmxlUmVjdHMsXG4gICAgZHJvcHBhYmxlQ29udGFpbmVyc1xuICB9ID0gX3JlZjtcbiAgY29uc3QgY2VudGVyUmVjdCA9IGNlbnRlck9mUmVjdGFuZ2xlKGNvbGxpc2lvblJlY3QsIGNvbGxpc2lvblJlY3QubGVmdCwgY29sbGlzaW9uUmVjdC50b3ApO1xuICBjb25zdCBjb2xsaXNpb25zID0gW107XG5cbiAgZm9yIChjb25zdCBkcm9wcGFibGVDb250YWluZXIgb2YgZHJvcHBhYmxlQ29udGFpbmVycykge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkXG4gICAgfSA9IGRyb3BwYWJsZUNvbnRhaW5lcjtcbiAgICBjb25zdCByZWN0ID0gZHJvcHBhYmxlUmVjdHMuZ2V0KGlkKTtcblxuICAgIGlmIChyZWN0KSB7XG4gICAgICBjb25zdCBkaXN0QmV0d2VlbiA9IGRpc3RhbmNlQmV0d2VlbihjZW50ZXJPZlJlY3RhbmdsZShyZWN0KSwgY2VudGVyUmVjdCk7XG4gICAgICBjb2xsaXNpb25zLnB1c2goe1xuICAgICAgICBpZCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGRyb3BwYWJsZUNvbnRhaW5lcixcbiAgICAgICAgICB2YWx1ZTogZGlzdEJldHdlZW5cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbGxpc2lvbnMuc29ydChzb3J0Q29sbGlzaW9uc0FzYyk7XG59O1xuXG4vKipcclxuICogUmV0dXJucyB0aGUgY2xvc2VzdCByZWN0YW5nbGVzIGZyb20gYW4gYXJyYXkgb2YgcmVjdGFuZ2xlcyB0byB0aGUgY29ybmVycyBvZlxyXG4gKiBhbm90aGVyIHJlY3RhbmdsZS5cclxuICovXG5cbmNvbnN0IGNsb3Nlc3RDb3JuZXJzID0gX3JlZiA9PiB7XG4gIGxldCB7XG4gICAgY29sbGlzaW9uUmVjdCxcbiAgICBkcm9wcGFibGVSZWN0cyxcbiAgICBkcm9wcGFibGVDb250YWluZXJzXG4gIH0gPSBfcmVmO1xuICBjb25zdCBjb3JuZXJzID0gY29ybmVyc09mUmVjdGFuZ2xlKGNvbGxpc2lvblJlY3QpO1xuICBjb25zdCBjb2xsaXNpb25zID0gW107XG5cbiAgZm9yIChjb25zdCBkcm9wcGFibGVDb250YWluZXIgb2YgZHJvcHBhYmxlQ29udGFpbmVycykge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkXG4gICAgfSA9IGRyb3BwYWJsZUNvbnRhaW5lcjtcbiAgICBjb25zdCByZWN0ID0gZHJvcHBhYmxlUmVjdHMuZ2V0KGlkKTtcblxuICAgIGlmIChyZWN0KSB7XG4gICAgICBjb25zdCByZWN0Q29ybmVycyA9IGNvcm5lcnNPZlJlY3RhbmdsZShyZWN0KTtcbiAgICAgIGNvbnN0IGRpc3RhbmNlcyA9IGNvcm5lcnMucmVkdWNlKChhY2N1bXVsYXRvciwgY29ybmVyLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gYWNjdW11bGF0b3IgKyBkaXN0YW5jZUJldHdlZW4ocmVjdENvcm5lcnNbaW5kZXhdLCBjb3JuZXIpO1xuICAgICAgfSwgMCk7XG4gICAgICBjb25zdCBlZmZlY3RpdmVEaXN0YW5jZSA9IE51bWJlcigoZGlzdGFuY2VzIC8gNCkudG9GaXhlZCg0KSk7XG4gICAgICBjb2xsaXNpb25zLnB1c2goe1xuICAgICAgICBpZCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGRyb3BwYWJsZUNvbnRhaW5lcixcbiAgICAgICAgICB2YWx1ZTogZWZmZWN0aXZlRGlzdGFuY2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbGxpc2lvbnMuc29ydChzb3J0Q29sbGlzaW9uc0FzYyk7XG59O1xuXG4vKipcclxuICogUmV0dXJucyB0aGUgaW50ZXJzZWN0aW5nIHJlY3RhbmdsZSBhcmVhIGJldHdlZW4gdHdvIHJlY3RhbmdsZXNcclxuICovXG5cbmZ1bmN0aW9uIGdldEludGVyc2VjdGlvblJhdGlvKGVudHJ5LCB0YXJnZXQpIHtcbiAgY29uc3QgdG9wID0gTWF0aC5tYXgodGFyZ2V0LnRvcCwgZW50cnkudG9wKTtcbiAgY29uc3QgbGVmdCA9IE1hdGgubWF4KHRhcmdldC5sZWZ0LCBlbnRyeS5sZWZ0KTtcbiAgY29uc3QgcmlnaHQgPSBNYXRoLm1pbih0YXJnZXQubGVmdCArIHRhcmdldC53aWR0aCwgZW50cnkubGVmdCArIGVudHJ5LndpZHRoKTtcbiAgY29uc3QgYm90dG9tID0gTWF0aC5taW4odGFyZ2V0LnRvcCArIHRhcmdldC5oZWlnaHQsIGVudHJ5LnRvcCArIGVudHJ5LmhlaWdodCk7XG4gIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICBjb25zdCBoZWlnaHQgPSBib3R0b20gLSB0b3A7XG5cbiAgaWYgKGxlZnQgPCByaWdodCAmJiB0b3AgPCBib3R0b20pIHtcbiAgICBjb25zdCB0YXJnZXRBcmVhID0gdGFyZ2V0LndpZHRoICogdGFyZ2V0LmhlaWdodDtcbiAgICBjb25zdCBlbnRyeUFyZWEgPSBlbnRyeS53aWR0aCAqIGVudHJ5LmhlaWdodDtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25BcmVhID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uUmF0aW8gPSBpbnRlcnNlY3Rpb25BcmVhIC8gKHRhcmdldEFyZWEgKyBlbnRyeUFyZWEgLSBpbnRlcnNlY3Rpb25BcmVhKTtcbiAgICByZXR1cm4gTnVtYmVyKGludGVyc2VjdGlvblJhdGlvLnRvRml4ZWQoNCkpO1xuICB9IC8vIFJlY3RhbmdsZXMgZG8gbm90IG92ZXJsYXAsIG9yIG92ZXJsYXAgaGFzIGFuIGFyZWEgb2YgemVybyAoZWRnZS9jb3JuZXIgb3ZlcmxhcClcblxuXG4gIHJldHVybiAwO1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHJlY3RhbmdsZXMgdGhhdCBoYXMgdGhlIGdyZWF0ZXN0IGludGVyc2VjdGlvbiBhcmVhIHdpdGggYSBnaXZlblxyXG4gKiByZWN0YW5nbGUgaW4gYW4gYXJyYXkgb2YgcmVjdGFuZ2xlcy5cclxuICovXG5cbmNvbnN0IHJlY3RJbnRlcnNlY3Rpb24gPSBfcmVmID0+IHtcbiAgbGV0IHtcbiAgICBjb2xsaXNpb25SZWN0LFxuICAgIGRyb3BwYWJsZVJlY3RzLFxuICAgIGRyb3BwYWJsZUNvbnRhaW5lcnNcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGNvbGxpc2lvbnMgPSBbXTtcblxuICBmb3IgKGNvbnN0IGRyb3BwYWJsZUNvbnRhaW5lciBvZiBkcm9wcGFibGVDb250YWluZXJzKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWRcbiAgICB9ID0gZHJvcHBhYmxlQ29udGFpbmVyO1xuICAgIGNvbnN0IHJlY3QgPSBkcm9wcGFibGVSZWN0cy5nZXQoaWQpO1xuXG4gICAgaWYgKHJlY3QpIHtcbiAgICAgIGNvbnN0IGludGVyc2VjdGlvblJhdGlvID0gZ2V0SW50ZXJzZWN0aW9uUmF0aW8ocmVjdCwgY29sbGlzaW9uUmVjdCk7XG5cbiAgICAgIGlmIChpbnRlcnNlY3Rpb25SYXRpbyA+IDApIHtcbiAgICAgICAgY29sbGlzaW9ucy5wdXNoKHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBkcm9wcGFibGVDb250YWluZXIsXG4gICAgICAgICAgICB2YWx1ZTogaW50ZXJzZWN0aW9uUmF0aW9cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb2xsaXNpb25zLnNvcnQoc29ydENvbGxpc2lvbnNEZXNjKTtcbn07XG5cbi8qKlxyXG4gKiBDaGVjayBpZiBhIGdpdmVuIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gYSBib3VuZGluZyByZWN0YW5nbGVcclxuICovXG5cbmZ1bmN0aW9uIGlzUG9pbnRXaXRoaW5SZWN0KHBvaW50LCByZWN0KSB7XG4gIGNvbnN0IHtcbiAgICB0b3AsXG4gICAgbGVmdCxcbiAgICBib3R0b20sXG4gICAgcmlnaHRcbiAgfSA9IHJlY3Q7XG4gIHJldHVybiB0b3AgPD0gcG9pbnQueSAmJiBwb2ludC55IDw9IGJvdHRvbSAmJiBsZWZ0IDw9IHBvaW50LnggJiYgcG9pbnQueCA8PSByaWdodDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSByZWN0YW5nbGVzIHRoYXQgdGhlIHBvaW50ZXIgaXMgaG92ZXJpbmcgb3ZlclxyXG4gKi9cblxuXG5jb25zdCBwb2ludGVyV2l0aGluID0gX3JlZiA9PiB7XG4gIGxldCB7XG4gICAgZHJvcHBhYmxlQ29udGFpbmVycyxcbiAgICBkcm9wcGFibGVSZWN0cyxcbiAgICBwb2ludGVyQ29vcmRpbmF0ZXNcbiAgfSA9IF9yZWY7XG5cbiAgaWYgKCFwb2ludGVyQ29vcmRpbmF0ZXMpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCBjb2xsaXNpb25zID0gW107XG5cbiAgZm9yIChjb25zdCBkcm9wcGFibGVDb250YWluZXIgb2YgZHJvcHBhYmxlQ29udGFpbmVycykge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkXG4gICAgfSA9IGRyb3BwYWJsZUNvbnRhaW5lcjtcbiAgICBjb25zdCByZWN0ID0gZHJvcHBhYmxlUmVjdHMuZ2V0KGlkKTtcblxuICAgIGlmIChyZWN0ICYmIGlzUG9pbnRXaXRoaW5SZWN0KHBvaW50ZXJDb29yZGluYXRlcywgcmVjdCkpIHtcbiAgICAgIC8qIFRoZXJlIG1heSBiZSBtb3JlIHRoYW4gYSBzaW5nbGUgcmVjdGFuZ2xlIGludGVyc2VjdGluZ1xyXG4gICAgICAgKiB3aXRoIHRoZSBwb2ludGVyIGNvb3JkaW5hdGVzLiBJbiBvcmRlciB0byBzb3J0IHRoZVxyXG4gICAgICAgKiBjb2xsaWRpbmcgcmVjdGFuZ2xlcywgd2UgbWVhc3VyZSB0aGUgZGlzdGFuY2UgYmV0d2VlblxyXG4gICAgICAgKiB0aGUgcG9pbnRlciBhbmQgdGhlIGNvcm5lcnMgb2YgdGhlIGludGVyc2VjdGluZyByZWN0YW5nbGVcclxuICAgICAgICovXG4gICAgICBjb25zdCBjb3JuZXJzID0gY29ybmVyc09mUmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgY29uc3QgZGlzdGFuY2VzID0gY29ybmVycy5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBjb3JuZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yICsgZGlzdGFuY2VCZXR3ZWVuKHBvaW50ZXJDb29yZGluYXRlcywgY29ybmVyKTtcbiAgICAgIH0sIDApO1xuICAgICAgY29uc3QgZWZmZWN0aXZlRGlzdGFuY2UgPSBOdW1iZXIoKGRpc3RhbmNlcyAvIDQpLnRvRml4ZWQoNCkpO1xuICAgICAgY29sbGlzaW9ucy5wdXNoKHtcbiAgICAgICAgaWQsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBkcm9wcGFibGVDb250YWluZXIsXG4gICAgICAgICAgdmFsdWU6IGVmZmVjdGl2ZURpc3RhbmNlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb2xsaXNpb25zLnNvcnQoc29ydENvbGxpc2lvbnNBc2MpO1xufTtcblxuZnVuY3Rpb24gYWRqdXN0U2NhbGUodHJhbnNmb3JtLCByZWN0MSwgcmVjdDIpIHtcbiAgcmV0dXJuIHsgLi4udHJhbnNmb3JtLFxuICAgIHNjYWxlWDogcmVjdDEgJiYgcmVjdDIgPyByZWN0MS53aWR0aCAvIHJlY3QyLndpZHRoIDogMSxcbiAgICBzY2FsZVk6IHJlY3QxICYmIHJlY3QyID8gcmVjdDEuaGVpZ2h0IC8gcmVjdDIuaGVpZ2h0IDogMVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0RGVsdGEocmVjdDEsIHJlY3QyKSB7XG4gIHJldHVybiByZWN0MSAmJiByZWN0MiA/IHtcbiAgICB4OiByZWN0MS5sZWZ0IC0gcmVjdDIubGVmdCxcbiAgICB5OiByZWN0MS50b3AgLSByZWN0Mi50b3BcbiAgfSA6IGRlZmF1bHRDb29yZGluYXRlcztcbn1cblxuZnVuY3Rpb24gY3JlYXRlUmVjdEFkanVzdG1lbnRGbihtb2RpZmllcikge1xuICByZXR1cm4gZnVuY3Rpb24gYWRqdXN0Q2xpZW50UmVjdChyZWN0KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFkanVzdG1lbnRzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFkanVzdG1lbnRzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRqdXN0bWVudHMucmVkdWNlKChhY2MsIGFkanVzdG1lbnQpID0+ICh7IC4uLmFjYyxcbiAgICAgIHRvcDogYWNjLnRvcCArIG1vZGlmaWVyICogYWRqdXN0bWVudC55LFxuICAgICAgYm90dG9tOiBhY2MuYm90dG9tICsgbW9kaWZpZXIgKiBhZGp1c3RtZW50LnksXG4gICAgICBsZWZ0OiBhY2MubGVmdCArIG1vZGlmaWVyICogYWRqdXN0bWVudC54LFxuICAgICAgcmlnaHQ6IGFjYy5yaWdodCArIG1vZGlmaWVyICogYWRqdXN0bWVudC54XG4gICAgfSksIHsgLi4ucmVjdFxuICAgIH0pO1xuICB9O1xufVxuY29uc3QgZ2V0QWRqdXN0ZWRSZWN0ID0gLyojX19QVVJFX18qL2NyZWF0ZVJlY3RBZGp1c3RtZW50Rm4oMSk7XG5cbmZ1bmN0aW9uIHBhcnNlVHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuICBpZiAodHJhbnNmb3JtLnN0YXJ0c1dpdGgoJ21hdHJpeDNkKCcpKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtQXJyYXkgPSB0cmFuc2Zvcm0uc2xpY2UoOSwgLTEpLnNwbGl0KC8sIC8pO1xuICAgIHJldHVybiB7XG4gICAgICB4OiArdHJhbnNmb3JtQXJyYXlbMTJdLFxuICAgICAgeTogK3RyYW5zZm9ybUFycmF5WzEzXSxcbiAgICAgIHNjYWxlWDogK3RyYW5zZm9ybUFycmF5WzBdLFxuICAgICAgc2NhbGVZOiArdHJhbnNmb3JtQXJyYXlbNV1cbiAgICB9O1xuICB9IGVsc2UgaWYgKHRyYW5zZm9ybS5zdGFydHNXaXRoKCdtYXRyaXgoJykpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1BcnJheSA9IHRyYW5zZm9ybS5zbGljZSg3LCAtMSkuc3BsaXQoLywgLyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6ICt0cmFuc2Zvcm1BcnJheVs0XSxcbiAgICAgIHk6ICt0cmFuc2Zvcm1BcnJheVs1XSxcbiAgICAgIHNjYWxlWDogK3RyYW5zZm9ybUFycmF5WzBdLFxuICAgICAgc2NhbGVZOiArdHJhbnNmb3JtQXJyYXlbM11cbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGludmVyc2VUcmFuc2Zvcm0ocmVjdCwgdHJhbnNmb3JtLCB0cmFuc2Zvcm1PcmlnaW4pIHtcbiAgY29uc3QgcGFyc2VkVHJhbnNmb3JtID0gcGFyc2VUcmFuc2Zvcm0odHJhbnNmb3JtKTtcblxuICBpZiAoIXBhcnNlZFRyYW5zZm9ybSkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG5cbiAgY29uc3Qge1xuICAgIHNjYWxlWCxcbiAgICBzY2FsZVksXG4gICAgeDogdHJhbnNsYXRlWCxcbiAgICB5OiB0cmFuc2xhdGVZXG4gIH0gPSBwYXJzZWRUcmFuc2Zvcm07XG4gIGNvbnN0IHggPSByZWN0LmxlZnQgLSB0cmFuc2xhdGVYIC0gKDEgLSBzY2FsZVgpICogcGFyc2VGbG9hdCh0cmFuc2Zvcm1PcmlnaW4pO1xuICBjb25zdCB5ID0gcmVjdC50b3AgLSB0cmFuc2xhdGVZIC0gKDEgLSBzY2FsZVkpICogcGFyc2VGbG9hdCh0cmFuc2Zvcm1PcmlnaW4uc2xpY2UodHJhbnNmb3JtT3JpZ2luLmluZGV4T2YoJyAnKSArIDEpKTtcbiAgY29uc3QgdyA9IHNjYWxlWCA/IHJlY3Qud2lkdGggLyBzY2FsZVggOiByZWN0LndpZHRoO1xuICBjb25zdCBoID0gc2NhbGVZID8gcmVjdC5oZWlnaHQgLyBzY2FsZVkgOiByZWN0LmhlaWdodDtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogdyxcbiAgICBoZWlnaHQ6IGgsXG4gICAgdG9wOiB5LFxuICAgIHJpZ2h0OiB4ICsgdyxcbiAgICBib3R0b206IHkgKyBoLFxuICAgIGxlZnQ6IHhcbiAgfTtcbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGlnbm9yZVRyYW5zZm9ybTogZmFsc2Vcbn07XG4vKipcclxuICogUmV0dXJucyB0aGUgYm91bmRpbmcgY2xpZW50IHJlY3Qgb2YgYW4gZWxlbWVudCByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQuXHJcbiAqL1xuXG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucztcbiAgfVxuXG4gIGxldCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICBpZiAob3B0aW9ucy5pZ25vcmVUcmFuc2Zvcm0pIHtcbiAgICBjb25zdCB7XG4gICAgICB0cmFuc2Zvcm0sXG4gICAgICB0cmFuc2Zvcm1PcmlnaW5cbiAgICB9ID0gZ2V0V2luZG93KGVsZW1lbnQpLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICByZWN0ID0gaW52ZXJzZVRyYW5zZm9ybShyZWN0LCB0cmFuc2Zvcm0sIHRyYW5zZm9ybU9yaWdpbik7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qge1xuICAgIHRvcCxcbiAgICBsZWZ0LFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBib3R0b20sXG4gICAgcmlnaHRcbiAgfSA9IHJlY3Q7XG4gIHJldHVybiB7XG4gICAgdG9wLFxuICAgIGxlZnQsXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIGJvdHRvbSxcbiAgICByaWdodFxuICB9O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGJvdW5kaW5nIGNsaWVudCByZWN0IG9mIGFuIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0LlxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBUaGUgQ2xpZW50UmVjdCByZXR1cm5lZCBieSB0aGlzIG1ldGhvZCBkb2VzIG5vdCB0YWtlIGludG8gYWNjb3VudCB0cmFuc2Zvcm1zXHJcbiAqIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgaXQgbWVhc3VyZXMuXHJcbiAqXHJcbiAqL1xuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1BZ25vc3RpY0NsaWVudFJlY3QoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q2xpZW50UmVjdChlbGVtZW50LCB7XG4gICAgaWdub3JlVHJhbnNmb3JtOiB0cnVlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRXaW5kb3dDbGllbnRSZWN0KGVsZW1lbnQpIHtcbiAgY29uc3Qgd2lkdGggPSBlbGVtZW50LmlubmVyV2lkdGg7XG4gIGNvbnN0IGhlaWdodCA9IGVsZW1lbnQuaW5uZXJIZWlnaHQ7XG4gIHJldHVybiB7XG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IHdpZHRoLFxuICAgIGJvdHRvbTogaGVpZ2h0LFxuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBpc0ZpeGVkKG5vZGUsIGNvbXB1dGVkU3R5bGUpIHtcbiAgaWYgKGNvbXB1dGVkU3R5bGUgPT09IHZvaWQgMCkge1xuICAgIGNvbXB1dGVkU3R5bGUgPSBnZXRXaW5kb3cobm9kZSkuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgfVxuXG4gIHJldHVybiBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnO1xufVxuXG5mdW5jdGlvbiBpc1Njcm9sbGFibGUoZWxlbWVudCwgY29tcHV0ZWRTdHlsZSkge1xuICBpZiAoY29tcHV0ZWRTdHlsZSA9PT0gdm9pZCAwKSB7XG4gICAgY29tcHV0ZWRTdHlsZSA9IGdldFdpbmRvdyhlbGVtZW50KS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICB9XG5cbiAgY29uc3Qgb3ZlcmZsb3dSZWdleCA9IC8oYXV0b3xzY3JvbGx8b3ZlcmxheSkvO1xuICBjb25zdCBwcm9wZXJ0aWVzID0gWydvdmVyZmxvdycsICdvdmVyZmxvd1gnLCAnb3ZlcmZsb3dZJ107XG4gIHJldHVybiBwcm9wZXJ0aWVzLnNvbWUocHJvcGVydHkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gY29tcHV0ZWRTdHlsZVtwcm9wZXJ0eV07XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBvdmVyZmxvd1JlZ2V4LnRlc3QodmFsdWUpIDogZmFsc2U7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRTY3JvbGxhYmxlQW5jZXN0b3JzKGVsZW1lbnQsIGxpbWl0KSB7XG4gIGNvbnN0IHNjcm9sbFBhcmVudHMgPSBbXTtcblxuICBmdW5jdGlvbiBmaW5kU2Nyb2xsYWJsZUFuY2VzdG9ycyhub2RlKSB7XG4gICAgaWYgKGxpbWl0ICE9IG51bGwgJiYgc2Nyb2xsUGFyZW50cy5sZW5ndGggPj0gbGltaXQpIHtcbiAgICAgIHJldHVybiBzY3JvbGxQYXJlbnRzO1xuICAgIH1cblxuICAgIGlmICghbm9kZSkge1xuICAgICAgcmV0dXJuIHNjcm9sbFBhcmVudHM7XG4gICAgfVxuXG4gICAgaWYgKGlzRG9jdW1lbnQobm9kZSkgJiYgbm9kZS5zY3JvbGxpbmdFbGVtZW50ICE9IG51bGwgJiYgIXNjcm9sbFBhcmVudHMuaW5jbHVkZXMobm9kZS5zY3JvbGxpbmdFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsUGFyZW50cy5wdXNoKG5vZGUuc2Nyb2xsaW5nRWxlbWVudCk7XG4gICAgICByZXR1cm4gc2Nyb2xsUGFyZW50cztcbiAgICB9XG5cbiAgICBpZiAoIWlzSFRNTEVsZW1lbnQobm9kZSkgfHwgaXNTVkdFbGVtZW50KG5vZGUpKSB7XG4gICAgICByZXR1cm4gc2Nyb2xsUGFyZW50cztcbiAgICB9XG5cbiAgICBpZiAoc2Nyb2xsUGFyZW50cy5pbmNsdWRlcyhub2RlKSkge1xuICAgICAgcmV0dXJuIHNjcm9sbFBhcmVudHM7XG4gICAgfVxuXG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldFdpbmRvdyhlbGVtZW50KS5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXG4gICAgaWYgKG5vZGUgIT09IGVsZW1lbnQpIHtcbiAgICAgIGlmIChpc1Njcm9sbGFibGUobm9kZSwgY29tcHV0ZWRTdHlsZSkpIHtcbiAgICAgICAgc2Nyb2xsUGFyZW50cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0ZpeGVkKG5vZGUsIGNvbXB1dGVkU3R5bGUpKSB7XG4gICAgICByZXR1cm4gc2Nyb2xsUGFyZW50cztcbiAgICB9XG5cbiAgICByZXR1cm4gZmluZFNjcm9sbGFibGVBbmNlc3RvcnMobm9kZS5wYXJlbnROb2RlKTtcbiAgfVxuXG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiBzY3JvbGxQYXJlbnRzO1xuICB9XG5cbiAgcmV0dXJuIGZpbmRTY3JvbGxhYmxlQW5jZXN0b3JzKGVsZW1lbnQpO1xufVxuZnVuY3Rpb24gZ2V0Rmlyc3RTY3JvbGxhYmxlQW5jZXN0b3Iobm9kZSkge1xuICBjb25zdCBbZmlyc3RTY3JvbGxhYmxlQW5jZXN0b3JdID0gZ2V0U2Nyb2xsYWJsZUFuY2VzdG9ycyhub2RlLCAxKTtcbiAgcmV0dXJuIGZpcnN0U2Nyb2xsYWJsZUFuY2VzdG9yICE9IG51bGwgPyBmaXJzdFNjcm9sbGFibGVBbmNlc3RvciA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFNjcm9sbGFibGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgaWYgKCFjYW5Vc2VET00gfHwgIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChpc1dpbmRvdyhlbGVtZW50KSkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgaWYgKCFpc05vZGUoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChpc0RvY3VtZW50KGVsZW1lbnQpIHx8IGVsZW1lbnQgPT09IGdldE93bmVyRG9jdW1lbnQoZWxlbWVudCkuc2Nyb2xsaW5nRWxlbWVudCkge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cblxuICBpZiAoaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFNjcm9sbFhDb29yZGluYXRlKGVsZW1lbnQpIHtcbiAgaWYgKGlzV2luZG93KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuc2Nyb2xsWDtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50LnNjcm9sbExlZnQ7XG59XG5mdW5jdGlvbiBnZXRTY3JvbGxZQ29vcmRpbmF0ZShlbGVtZW50KSB7XG4gIGlmIChpc1dpbmRvdyhlbGVtZW50KSkge1xuICAgIHJldHVybiBlbGVtZW50LnNjcm9sbFk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudC5zY3JvbGxUb3A7XG59XG5mdW5jdGlvbiBnZXRTY3JvbGxDb29yZGluYXRlcyhlbGVtZW50KSB7XG4gIHJldHVybiB7XG4gICAgeDogZ2V0U2Nyb2xsWENvb3JkaW5hdGUoZWxlbWVudCksXG4gICAgeTogZ2V0U2Nyb2xsWUNvb3JkaW5hdGUoZWxlbWVudClcbiAgfTtcbn1cblxudmFyIERpcmVjdGlvbjtcblxuKGZ1bmN0aW9uIChEaXJlY3Rpb24pIHtcbiAgRGlyZWN0aW9uW0RpcmVjdGlvbltcIkZvcndhcmRcIl0gPSAxXSA9IFwiRm9yd2FyZFwiO1xuICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiQmFja3dhcmRcIl0gPSAtMV0gPSBcIkJhY2t3YXJkXCI7XG59KShEaXJlY3Rpb24gfHwgKERpcmVjdGlvbiA9IHt9KSk7XG5cbmZ1bmN0aW9uIGlzRG9jdW1lbnRTY3JvbGxpbmdFbGVtZW50KGVsZW1lbnQpIHtcbiAgaWYgKCFjYW5Vc2VET00gfHwgIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudCA9PT0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsUG9zaXRpb24oc2Nyb2xsaW5nQ29udGFpbmVyKSB7XG4gIGNvbnN0IG1pblNjcm9sbCA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcbiAgY29uc3QgZGltZW5zaW9ucyA9IGlzRG9jdW1lbnRTY3JvbGxpbmdFbGVtZW50KHNjcm9sbGluZ0NvbnRhaW5lcikgPyB7XG4gICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoXG4gIH0gOiB7XG4gICAgaGVpZ2h0OiBzY3JvbGxpbmdDb250YWluZXIuY2xpZW50SGVpZ2h0LFxuICAgIHdpZHRoOiBzY3JvbGxpbmdDb250YWluZXIuY2xpZW50V2lkdGhcbiAgfTtcbiAgY29uc3QgbWF4U2Nyb2xsID0ge1xuICAgIHg6IHNjcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxXaWR0aCAtIGRpbWVuc2lvbnMud2lkdGgsXG4gICAgeTogc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbEhlaWdodCAtIGRpbWVuc2lvbnMuaGVpZ2h0XG4gIH07XG4gIGNvbnN0IGlzVG9wID0gc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbFRvcCA8PSBtaW5TY3JvbGwueTtcbiAgY29uc3QgaXNMZWZ0ID0gc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbExlZnQgPD0gbWluU2Nyb2xsLng7XG4gIGNvbnN0IGlzQm90dG9tID0gc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbFRvcCA+PSBtYXhTY3JvbGwueTtcbiAgY29uc3QgaXNSaWdodCA9IHNjcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxMZWZ0ID49IG1heFNjcm9sbC54O1xuICByZXR1cm4ge1xuICAgIGlzVG9wLFxuICAgIGlzTGVmdCxcbiAgICBpc0JvdHRvbSxcbiAgICBpc1JpZ2h0LFxuICAgIG1heFNjcm9sbCxcbiAgICBtaW5TY3JvbGxcbiAgfTtcbn1cblxuY29uc3QgZGVmYXVsdFRocmVzaG9sZCA9IHtcbiAgeDogMC4yLFxuICB5OiAwLjJcbn07XG5mdW5jdGlvbiBnZXRTY3JvbGxEaXJlY3Rpb25BbmRTcGVlZChzY3JvbGxDb250YWluZXIsIHNjcm9sbENvbnRhaW5lclJlY3QsIF9yZWYsIGFjY2VsZXJhdGlvbiwgdGhyZXNob2xkUGVyY2VudGFnZSkge1xuICBsZXQge1xuICAgIHRvcCxcbiAgICBsZWZ0LFxuICAgIHJpZ2h0LFxuICAgIGJvdHRvbVxuICB9ID0gX3JlZjtcblxuICBpZiAoYWNjZWxlcmF0aW9uID09PSB2b2lkIDApIHtcbiAgICBhY2NlbGVyYXRpb24gPSAxMDtcbiAgfVxuXG4gIGlmICh0aHJlc2hvbGRQZXJjZW50YWdlID09PSB2b2lkIDApIHtcbiAgICB0aHJlc2hvbGRQZXJjZW50YWdlID0gZGVmYXVsdFRocmVzaG9sZDtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICBpc1RvcCxcbiAgICBpc0JvdHRvbSxcbiAgICBpc0xlZnQsXG4gICAgaXNSaWdodFxuICB9ID0gZ2V0U2Nyb2xsUG9zaXRpb24oc2Nyb2xsQ29udGFpbmVyKTtcbiAgY29uc3QgZGlyZWN0aW9uID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuICBjb25zdCBzcGVlZCA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcbiAgY29uc3QgdGhyZXNob2xkID0ge1xuICAgIGhlaWdodDogc2Nyb2xsQ29udGFpbmVyUmVjdC5oZWlnaHQgKiB0aHJlc2hvbGRQZXJjZW50YWdlLnksXG4gICAgd2lkdGg6IHNjcm9sbENvbnRhaW5lclJlY3Qud2lkdGggKiB0aHJlc2hvbGRQZXJjZW50YWdlLnhcbiAgfTtcblxuICBpZiAoIWlzVG9wICYmIHRvcCA8PSBzY3JvbGxDb250YWluZXJSZWN0LnRvcCArIHRocmVzaG9sZC5oZWlnaHQpIHtcbiAgICAvLyBTY3JvbGwgVXBcbiAgICBkaXJlY3Rpb24ueSA9IERpcmVjdGlvbi5CYWNrd2FyZDtcbiAgICBzcGVlZC55ID0gYWNjZWxlcmF0aW9uICogTWF0aC5hYnMoKHNjcm9sbENvbnRhaW5lclJlY3QudG9wICsgdGhyZXNob2xkLmhlaWdodCAtIHRvcCkgLyB0aHJlc2hvbGQuaGVpZ2h0KTtcbiAgfSBlbHNlIGlmICghaXNCb3R0b20gJiYgYm90dG9tID49IHNjcm9sbENvbnRhaW5lclJlY3QuYm90dG9tIC0gdGhyZXNob2xkLmhlaWdodCkge1xuICAgIC8vIFNjcm9sbCBEb3duXG4gICAgZGlyZWN0aW9uLnkgPSBEaXJlY3Rpb24uRm9yd2FyZDtcbiAgICBzcGVlZC55ID0gYWNjZWxlcmF0aW9uICogTWF0aC5hYnMoKHNjcm9sbENvbnRhaW5lclJlY3QuYm90dG9tIC0gdGhyZXNob2xkLmhlaWdodCAtIGJvdHRvbSkgLyB0aHJlc2hvbGQuaGVpZ2h0KTtcbiAgfVxuXG4gIGlmICghaXNSaWdodCAmJiByaWdodCA+PSBzY3JvbGxDb250YWluZXJSZWN0LnJpZ2h0IC0gdGhyZXNob2xkLndpZHRoKSB7XG4gICAgLy8gU2Nyb2xsIFJpZ2h0XG4gICAgZGlyZWN0aW9uLnggPSBEaXJlY3Rpb24uRm9yd2FyZDtcbiAgICBzcGVlZC54ID0gYWNjZWxlcmF0aW9uICogTWF0aC5hYnMoKHNjcm9sbENvbnRhaW5lclJlY3QucmlnaHQgLSB0aHJlc2hvbGQud2lkdGggLSByaWdodCkgLyB0aHJlc2hvbGQud2lkdGgpO1xuICB9IGVsc2UgaWYgKCFpc0xlZnQgJiYgbGVmdCA8PSBzY3JvbGxDb250YWluZXJSZWN0LmxlZnQgKyB0aHJlc2hvbGQud2lkdGgpIHtcbiAgICAvLyBTY3JvbGwgTGVmdFxuICAgIGRpcmVjdGlvbi54ID0gRGlyZWN0aW9uLkJhY2t3YXJkO1xuICAgIHNwZWVkLnggPSBhY2NlbGVyYXRpb24gKiBNYXRoLmFicygoc2Nyb2xsQ29udGFpbmVyUmVjdC5sZWZ0ICsgdGhyZXNob2xkLndpZHRoIC0gbGVmdCkgLyB0aHJlc2hvbGQud2lkdGgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkaXJlY3Rpb24sXG4gICAgc3BlZWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsRWxlbWVudFJlY3QoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudCA9PT0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGlubmVyV2lkdGgsXG4gICAgICBpbm5lckhlaWdodFxuICAgIH0gPSB3aW5kb3c7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogaW5uZXJXaWR0aCxcbiAgICAgIGJvdHRvbTogaW5uZXJIZWlnaHQsXG4gICAgICB3aWR0aDogaW5uZXJXaWR0aCxcbiAgICAgIGhlaWdodDogaW5uZXJIZWlnaHRcbiAgICB9O1xuICB9XG5cbiAgY29uc3Qge1xuICAgIHRvcCxcbiAgICBsZWZ0LFxuICAgIHJpZ2h0LFxuICAgIGJvdHRvbVxuICB9ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgcmV0dXJuIHtcbiAgICB0b3AsXG4gICAgbGVmdCxcbiAgICByaWdodCxcbiAgICBib3R0b20sXG4gICAgd2lkdGg6IGVsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgaGVpZ2h0OiBlbGVtZW50LmNsaWVudEhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRTY3JvbGxPZmZzZXRzKHNjcm9sbGFibGVBbmNlc3RvcnMpIHtcbiAgcmV0dXJuIHNjcm9sbGFibGVBbmNlc3RvcnMucmVkdWNlKChhY2MsIG5vZGUpID0+IHtcbiAgICByZXR1cm4gYWRkKGFjYywgZ2V0U2Nyb2xsQ29vcmRpbmF0ZXMobm9kZSkpO1xuICB9LCBkZWZhdWx0Q29vcmRpbmF0ZXMpO1xufVxuZnVuY3Rpb24gZ2V0U2Nyb2xsWE9mZnNldChzY3JvbGxhYmxlQW5jZXN0b3JzKSB7XG4gIHJldHVybiBzY3JvbGxhYmxlQW5jZXN0b3JzLnJlZHVjZSgoYWNjLCBub2RlKSA9PiB7XG4gICAgcmV0dXJuIGFjYyArIGdldFNjcm9sbFhDb29yZGluYXRlKG5vZGUpO1xuICB9LCAwKTtcbn1cbmZ1bmN0aW9uIGdldFNjcm9sbFlPZmZzZXQoc2Nyb2xsYWJsZUFuY2VzdG9ycykge1xuICByZXR1cm4gc2Nyb2xsYWJsZUFuY2VzdG9ycy5yZWR1Y2UoKGFjYywgbm9kZSkgPT4ge1xuICAgIHJldHVybiBhY2MgKyBnZXRTY3JvbGxZQ29vcmRpbmF0ZShub2RlKTtcbiAgfSwgMCk7XG59XG5cbmZ1bmN0aW9uIHNjcm9sbEludG9WaWV3SWZOZWVkZWQoZWxlbWVudCwgbWVhc3VyZSkge1xuICBpZiAobWVhc3VyZSA9PT0gdm9pZCAwKSB7XG4gICAgbWVhc3VyZSA9IGdldENsaWVudFJlY3Q7XG4gIH1cblxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB7XG4gICAgdG9wLFxuICAgIGxlZnQsXG4gICAgYm90dG9tLFxuICAgIHJpZ2h0XG4gIH0gPSBtZWFzdXJlKGVsZW1lbnQpO1xuICBjb25zdCBmaXJzdFNjcm9sbGFibGVBbmNlc3RvciA9IGdldEZpcnN0U2Nyb2xsYWJsZUFuY2VzdG9yKGVsZW1lbnQpO1xuXG4gIGlmICghZmlyc3RTY3JvbGxhYmxlQW5jZXN0b3IpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoYm90dG9tIDw9IDAgfHwgcmlnaHQgPD0gMCB8fCB0b3AgPj0gd2luZG93LmlubmVySGVpZ2h0IHx8IGxlZnQgPj0gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KHtcbiAgICAgIGJsb2NrOiAnY2VudGVyJyxcbiAgICAgIGlubGluZTogJ2NlbnRlcidcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBwcm9wZXJ0aWVzID0gW1sneCcsIFsnbGVmdCcsICdyaWdodCddLCBnZXRTY3JvbGxYT2Zmc2V0XSwgWyd5JywgWyd0b3AnLCAnYm90dG9tJ10sIGdldFNjcm9sbFlPZmZzZXRdXTtcbmNsYXNzIFJlY3Qge1xuICBjb25zdHJ1Y3RvcihyZWN0LCBlbGVtZW50KSB7XG4gICAgdGhpcy5yZWN0ID0gdm9pZCAwO1xuICAgIHRoaXMud2lkdGggPSB2b2lkIDA7XG4gICAgdGhpcy5oZWlnaHQgPSB2b2lkIDA7XG4gICAgdGhpcy50b3AgPSB2b2lkIDA7XG4gICAgdGhpcy5ib3R0b20gPSB2b2lkIDA7XG4gICAgdGhpcy5yaWdodCA9IHZvaWQgMDtcbiAgICB0aGlzLmxlZnQgPSB2b2lkIDA7XG4gICAgY29uc3Qgc2Nyb2xsYWJsZUFuY2VzdG9ycyA9IGdldFNjcm9sbGFibGVBbmNlc3RvcnMoZWxlbWVudCk7XG4gICAgY29uc3Qgc2Nyb2xsT2Zmc2V0cyA9IGdldFNjcm9sbE9mZnNldHMoc2Nyb2xsYWJsZUFuY2VzdG9ycyk7XG4gICAgdGhpcy5yZWN0ID0geyAuLi5yZWN0XG4gICAgfTtcbiAgICB0aGlzLndpZHRoID0gcmVjdC53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuXG4gICAgZm9yIChjb25zdCBbYXhpcywga2V5cywgZ2V0U2Nyb2xsT2Zmc2V0XSBvZiBwcm9wZXJ0aWVzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRPZmZzZXRzID0gZ2V0U2Nyb2xsT2Zmc2V0KHNjcm9sbGFibGVBbmNlc3RvcnMpO1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsT2Zmc2V0c0RlbHRsYSA9IHNjcm9sbE9mZnNldHNbYXhpc10gLSBjdXJyZW50T2Zmc2V0cztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlY3Rba2V5XSArIHNjcm9sbE9mZnNldHNEZWx0bGE7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVjdCcsIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cblxufVxuXG5jbGFzcyBMaXN0ZW5lcnMge1xuICBjb25zdHJ1Y3Rvcih0YXJnZXQpIHtcbiAgICB0aGlzLnRhcmdldCA9IHZvaWQgMDtcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuXG4gICAgdGhpcy5yZW1vdmVBbGwgPSAoKSA9PiB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgdmFyIF90aGlzJHRhcmdldDtcblxuICAgICAgICByZXR1cm4gKF90aGlzJHRhcmdldCA9IHRoaXMudGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoLi4ubGlzdGVuZXIpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICB9XG5cbiAgYWRkKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcyR0YXJnZXQyO1xuXG4gICAgKF90aGlzJHRhcmdldDIgPSB0aGlzLnRhcmdldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJHRhcmdldDIuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goW2V2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9uc10pO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gZ2V0RXZlbnRMaXN0ZW5lclRhcmdldCh0YXJnZXQpIHtcbiAgLy8gSWYgdGhlIGBldmVudC50YXJnZXRgIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkb2N1bWVudCBldmVudHMgd2lsbCBzdGlsbCBiZSB0YXJnZXRlZFxuICAvLyBhdCBpdCwgYW5kIGhlbmNlIHdvbid0IGFsd2F5cyBidWJibGUgdXAgdG8gdGhlIHdpbmRvdyBvciBkb2N1bWVudCBhbnltb3JlLlxuICAvLyBJZiB0aGVyZSBpcyBhbnkgcmlzayBvZiBhbiBlbGVtZW50IGJlaW5nIHJlbW92ZWQgd2hpbGUgaXQgaXMgYmVpbmcgZHJhZ2dlZCxcbiAgLy8gdGhlIGJlc3QgcHJhY3RpY2UgaXMgdG8gYXR0YWNoIHRoZSBldmVudCBsaXN0ZW5lcnMgZGlyZWN0bHkgdG8gdGhlIHRhcmdldC5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0XG4gIGNvbnN0IHtcbiAgICBFdmVudFRhcmdldFxuICB9ID0gZ2V0V2luZG93KHRhcmdldCk7XG4gIHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBFdmVudFRhcmdldCA/IHRhcmdldCA6IGdldE93bmVyRG9jdW1lbnQodGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gaGFzRXhjZWVkZWREaXN0YW5jZShkZWx0YSwgbWVhc3VyZW1lbnQpIHtcbiAgY29uc3QgZHggPSBNYXRoLmFicyhkZWx0YS54KTtcbiAgY29uc3QgZHkgPSBNYXRoLmFicyhkZWx0YS55KTtcblxuICBpZiAodHlwZW9mIG1lYXN1cmVtZW50ID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiogMiArIGR5ICoqIDIpID4gbWVhc3VyZW1lbnQ7XG4gIH1cblxuICBpZiAoJ3gnIGluIG1lYXN1cmVtZW50ICYmICd5JyBpbiBtZWFzdXJlbWVudCkge1xuICAgIHJldHVybiBkeCA+IG1lYXN1cmVtZW50LnggJiYgZHkgPiBtZWFzdXJlbWVudC55O1xuICB9XG5cbiAgaWYgKCd4JyBpbiBtZWFzdXJlbWVudCkge1xuICAgIHJldHVybiBkeCA+IG1lYXN1cmVtZW50Lng7XG4gIH1cblxuICBpZiAoJ3knIGluIG1lYXN1cmVtZW50KSB7XG4gICAgcmV0dXJuIGR5ID4gbWVhc3VyZW1lbnQueTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIEV2ZW50TmFtZTtcblxuKGZ1bmN0aW9uIChFdmVudE5hbWUpIHtcbiAgRXZlbnROYW1lW1wiQ2xpY2tcIl0gPSBcImNsaWNrXCI7XG4gIEV2ZW50TmFtZVtcIkRyYWdTdGFydFwiXSA9IFwiZHJhZ3N0YXJ0XCI7XG4gIEV2ZW50TmFtZVtcIktleWRvd25cIl0gPSBcImtleWRvd25cIjtcbiAgRXZlbnROYW1lW1wiQ29udGV4dE1lbnVcIl0gPSBcImNvbnRleHRtZW51XCI7XG4gIEV2ZW50TmFtZVtcIlJlc2l6ZVwiXSA9IFwicmVzaXplXCI7XG4gIEV2ZW50TmFtZVtcIlNlbGVjdGlvbkNoYW5nZVwiXSA9IFwic2VsZWN0aW9uY2hhbmdlXCI7XG4gIEV2ZW50TmFtZVtcIlZpc2liaWxpdHlDaGFuZ2VcIl0gPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcbn0pKEV2ZW50TmFtZSB8fCAoRXZlbnROYW1lID0ge30pKTtcblxuZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn1cbmZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihldmVudCkge1xuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbn1cblxudmFyIEtleWJvYXJkQ29kZTtcblxuKGZ1bmN0aW9uIChLZXlib2FyZENvZGUpIHtcbiAgS2V5Ym9hcmRDb2RlW1wiU3BhY2VcIl0gPSBcIlNwYWNlXCI7XG4gIEtleWJvYXJkQ29kZVtcIkRvd25cIl0gPSBcIkFycm93RG93blwiO1xuICBLZXlib2FyZENvZGVbXCJSaWdodFwiXSA9IFwiQXJyb3dSaWdodFwiO1xuICBLZXlib2FyZENvZGVbXCJMZWZ0XCJdID0gXCJBcnJvd0xlZnRcIjtcbiAgS2V5Ym9hcmRDb2RlW1wiVXBcIl0gPSBcIkFycm93VXBcIjtcbiAgS2V5Ym9hcmRDb2RlW1wiRXNjXCJdID0gXCJFc2NhcGVcIjtcbiAgS2V5Ym9hcmRDb2RlW1wiRW50ZXJcIl0gPSBcIkVudGVyXCI7XG4gIEtleWJvYXJkQ29kZVtcIlRhYlwiXSA9IFwiVGFiXCI7XG59KShLZXlib2FyZENvZGUgfHwgKEtleWJvYXJkQ29kZSA9IHt9KSk7XG5cbmNvbnN0IGRlZmF1bHRLZXlib2FyZENvZGVzID0ge1xuICBzdGFydDogW0tleWJvYXJkQ29kZS5TcGFjZSwgS2V5Ym9hcmRDb2RlLkVudGVyXSxcbiAgY2FuY2VsOiBbS2V5Ym9hcmRDb2RlLkVzY10sXG4gIGVuZDogW0tleWJvYXJkQ29kZS5TcGFjZSwgS2V5Ym9hcmRDb2RlLkVudGVyLCBLZXlib2FyZENvZGUuVGFiXVxufTtcbmNvbnN0IGRlZmF1bHRLZXlib2FyZENvb3JkaW5hdGVHZXR0ZXIgPSAoZXZlbnQsIF9yZWYpID0+IHtcbiAgbGV0IHtcbiAgICBjdXJyZW50Q29vcmRpbmF0ZXNcbiAgfSA9IF9yZWY7XG5cbiAgc3dpdGNoIChldmVudC5jb2RlKSB7XG4gICAgY2FzZSBLZXlib2FyZENvZGUuUmlnaHQ6XG4gICAgICByZXR1cm4geyAuLi5jdXJyZW50Q29vcmRpbmF0ZXMsXG4gICAgICAgIHg6IGN1cnJlbnRDb29yZGluYXRlcy54ICsgMjVcbiAgICAgIH07XG5cbiAgICBjYXNlIEtleWJvYXJkQ29kZS5MZWZ0OlxuICAgICAgcmV0dXJuIHsgLi4uY3VycmVudENvb3JkaW5hdGVzLFxuICAgICAgICB4OiBjdXJyZW50Q29vcmRpbmF0ZXMueCAtIDI1XG4gICAgICB9O1xuXG4gICAgY2FzZSBLZXlib2FyZENvZGUuRG93bjpcbiAgICAgIHJldHVybiB7IC4uLmN1cnJlbnRDb29yZGluYXRlcyxcbiAgICAgICAgeTogY3VycmVudENvb3JkaW5hdGVzLnkgKyAyNVxuICAgICAgfTtcblxuICAgIGNhc2UgS2V5Ym9hcmRDb2RlLlVwOlxuICAgICAgcmV0dXJuIHsgLi4uY3VycmVudENvb3JkaW5hdGVzLFxuICAgICAgICB5OiBjdXJyZW50Q29vcmRpbmF0ZXMueSAtIDI1XG4gICAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmNsYXNzIEtleWJvYXJkU2Vuc29yIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICB0aGlzLnByb3BzID0gdm9pZCAwO1xuICAgIHRoaXMuYXV0b1Njcm9sbEVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlZmVyZW5jZUNvb3JkaW5hdGVzID0gdm9pZCAwO1xuICAgIHRoaXMubGlzdGVuZXJzID0gdm9pZCAwO1xuICAgIHRoaXMud2luZG93TGlzdGVuZXJzID0gdm9pZCAwO1xuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICBjb25zdCB7XG4gICAgICBldmVudDoge1xuICAgICAgICB0YXJnZXRcbiAgICAgIH1cbiAgICB9ID0gcHJvcHM7XG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IExpc3RlbmVycyhnZXRPd25lckRvY3VtZW50KHRhcmdldCkpO1xuICAgIHRoaXMud2luZG93TGlzdGVuZXJzID0gbmV3IExpc3RlbmVycyhnZXRXaW5kb3codGFyZ2V0KSk7XG4gICAgdGhpcy5oYW5kbGVLZXlEb3duID0gdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVDYW5jZWwgPSB0aGlzLmhhbmRsZUNhbmNlbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXR0YWNoKCk7XG4gIH1cblxuICBhdHRhY2goKSB7XG4gICAgdGhpcy5oYW5kbGVTdGFydCgpO1xuICAgIHRoaXMud2luZG93TGlzdGVuZXJzLmFkZChFdmVudE5hbWUuUmVzaXplLCB0aGlzLmhhbmRsZUNhbmNlbCk7XG4gICAgdGhpcy53aW5kb3dMaXN0ZW5lcnMuYWRkKEV2ZW50TmFtZS5WaXNpYmlsaXR5Q2hhbmdlLCB0aGlzLmhhbmRsZUNhbmNlbCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmxpc3RlbmVycy5hZGQoRXZlbnROYW1lLktleWRvd24sIHRoaXMuaGFuZGxlS2V5RG93bikpO1xuICB9XG5cbiAgaGFuZGxlU3RhcnQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgYWN0aXZlTm9kZSxcbiAgICAgIG9uU3RhcnRcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBub2RlID0gYWN0aXZlTm9kZS5ub2RlLmN1cnJlbnQ7XG5cbiAgICBpZiAobm9kZSkge1xuICAgICAgc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZChub2RlKTtcbiAgICB9XG5cbiAgICBvblN0YXJ0KGRlZmF1bHRDb29yZGluYXRlcyk7XG4gIH1cblxuICBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKGlzS2V5Ym9hcmRFdmVudChldmVudCkpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgYWN0aXZlLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBvcHRpb25zXG4gICAgICB9ID0gdGhpcy5wcm9wcztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAga2V5Ym9hcmRDb2RlcyA9IGRlZmF1bHRLZXlib2FyZENvZGVzLFxuICAgICAgICBjb29yZGluYXRlR2V0dGVyID0gZGVmYXVsdEtleWJvYXJkQ29vcmRpbmF0ZUdldHRlcixcbiAgICAgICAgc2Nyb2xsQmVoYXZpb3IgPSAnc21vb3RoJ1xuICAgICAgfSA9IG9wdGlvbnM7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNvZGVcbiAgICAgIH0gPSBldmVudDtcblxuICAgICAgaWYgKGtleWJvYXJkQ29kZXMuZW5kLmluY2x1ZGVzKGNvZGUpKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRW5kKGV2ZW50KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5Ym9hcmRDb2Rlcy5jYW5jZWwuaW5jbHVkZXMoY29kZSkpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVDYW5jZWwoZXZlbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY29sbGlzaW9uUmVjdFxuICAgICAgfSA9IGNvbnRleHQuY3VycmVudDtcbiAgICAgIGNvbnN0IGN1cnJlbnRDb29yZGluYXRlcyA9IGNvbGxpc2lvblJlY3QgPyB7XG4gICAgICAgIHg6IGNvbGxpc2lvblJlY3QubGVmdCxcbiAgICAgICAgeTogY29sbGlzaW9uUmVjdC50b3BcbiAgICAgIH0gOiBkZWZhdWx0Q29vcmRpbmF0ZXM7XG5cbiAgICAgIGlmICghdGhpcy5yZWZlcmVuY2VDb29yZGluYXRlcykge1xuICAgICAgICB0aGlzLnJlZmVyZW5jZUNvb3JkaW5hdGVzID0gY3VycmVudENvb3JkaW5hdGVzO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdDb29yZGluYXRlcyA9IGNvb3JkaW5hdGVHZXR0ZXIoZXZlbnQsIHtcbiAgICAgICAgYWN0aXZlLFxuICAgICAgICBjb250ZXh0OiBjb250ZXh0LmN1cnJlbnQsXG4gICAgICAgIGN1cnJlbnRDb29yZGluYXRlc1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChuZXdDb29yZGluYXRlcykge1xuICAgICAgICBjb25zdCBjb29yZGluYXRlc0RlbHRhID0gc3VidHJhY3QobmV3Q29vcmRpbmF0ZXMsIGN1cnJlbnRDb29yZGluYXRlcyk7XG4gICAgICAgIGNvbnN0IHNjcm9sbERlbHRhID0ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgc2Nyb2xsYWJsZUFuY2VzdG9yc1xuICAgICAgICB9ID0gY29udGV4dC5jdXJyZW50O1xuXG4gICAgICAgIGZvciAoY29uc3Qgc2Nyb2xsQ29udGFpbmVyIG9mIHNjcm9sbGFibGVBbmNlc3RvcnMpIHtcbiAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBldmVudC5jb2RlO1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGlzVG9wLFxuICAgICAgICAgICAgaXNSaWdodCxcbiAgICAgICAgICAgIGlzTGVmdCxcbiAgICAgICAgICAgIGlzQm90dG9tLFxuICAgICAgICAgICAgbWF4U2Nyb2xsLFxuICAgICAgICAgICAgbWluU2Nyb2xsXG4gICAgICAgICAgfSA9IGdldFNjcm9sbFBvc2l0aW9uKHNjcm9sbENvbnRhaW5lcik7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsRWxlbWVudFJlY3QgPSBnZXRTY3JvbGxFbGVtZW50UmVjdChzY3JvbGxDb250YWluZXIpO1xuICAgICAgICAgIGNvbnN0IGNsYW1wZWRDb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgIHg6IE1hdGgubWluKGRpcmVjdGlvbiA9PT0gS2V5Ym9hcmRDb2RlLlJpZ2h0ID8gc2Nyb2xsRWxlbWVudFJlY3QucmlnaHQgLSBzY3JvbGxFbGVtZW50UmVjdC53aWR0aCAvIDIgOiBzY3JvbGxFbGVtZW50UmVjdC5yaWdodCwgTWF0aC5tYXgoZGlyZWN0aW9uID09PSBLZXlib2FyZENvZGUuUmlnaHQgPyBzY3JvbGxFbGVtZW50UmVjdC5sZWZ0IDogc2Nyb2xsRWxlbWVudFJlY3QubGVmdCArIHNjcm9sbEVsZW1lbnRSZWN0LndpZHRoIC8gMiwgbmV3Q29vcmRpbmF0ZXMueCkpLFxuICAgICAgICAgICAgeTogTWF0aC5taW4oZGlyZWN0aW9uID09PSBLZXlib2FyZENvZGUuRG93biA/IHNjcm9sbEVsZW1lbnRSZWN0LmJvdHRvbSAtIHNjcm9sbEVsZW1lbnRSZWN0LmhlaWdodCAvIDIgOiBzY3JvbGxFbGVtZW50UmVjdC5ib3R0b20sIE1hdGgubWF4KGRpcmVjdGlvbiA9PT0gS2V5Ym9hcmRDb2RlLkRvd24gPyBzY3JvbGxFbGVtZW50UmVjdC50b3AgOiBzY3JvbGxFbGVtZW50UmVjdC50b3AgKyBzY3JvbGxFbGVtZW50UmVjdC5oZWlnaHQgLyAyLCBuZXdDb29yZGluYXRlcy55KSlcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGNhblNjcm9sbFggPSBkaXJlY3Rpb24gPT09IEtleWJvYXJkQ29kZS5SaWdodCAmJiAhaXNSaWdodCB8fCBkaXJlY3Rpb24gPT09IEtleWJvYXJkQ29kZS5MZWZ0ICYmICFpc0xlZnQ7XG4gICAgICAgICAgY29uc3QgY2FuU2Nyb2xsWSA9IGRpcmVjdGlvbiA9PT0gS2V5Ym9hcmRDb2RlLkRvd24gJiYgIWlzQm90dG9tIHx8IGRpcmVjdGlvbiA9PT0gS2V5Ym9hcmRDb2RlLlVwICYmICFpc1RvcDtcblxuICAgICAgICAgIGlmIChjYW5TY3JvbGxYICYmIGNsYW1wZWRDb29yZGluYXRlcy54ICE9PSBuZXdDb29yZGluYXRlcy54KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdTY3JvbGxDb29yZGluYXRlcyA9IHNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0ICsgY29vcmRpbmF0ZXNEZWx0YS54O1xuICAgICAgICAgICAgY29uc3QgY2FuU2Nyb2xsVG9OZXdDb29yZGluYXRlcyA9IGRpcmVjdGlvbiA9PT0gS2V5Ym9hcmRDb2RlLlJpZ2h0ICYmIG5ld1Njcm9sbENvb3JkaW5hdGVzIDw9IG1heFNjcm9sbC54IHx8IGRpcmVjdGlvbiA9PT0gS2V5Ym9hcmRDb2RlLkxlZnQgJiYgbmV3U2Nyb2xsQ29vcmRpbmF0ZXMgPj0gbWluU2Nyb2xsLng7XG5cbiAgICAgICAgICAgIGlmIChjYW5TY3JvbGxUb05ld0Nvb3JkaW5hdGVzICYmICFjb29yZGluYXRlc0RlbHRhLnkpIHtcbiAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgY29vcmRpbmF0ZXMsIHRoZSBzY3JvbGwgYWRqdXN0bWVudCBhbG9uZSB3aWxsIHRyaWdnZXJcbiAgICAgICAgICAgICAgLy8gbG9naWMgdG8gYXV0by1kZXRlY3QgdGhlIG5ldyBjb250YWluZXIgd2UgYXJlIG92ZXJcbiAgICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBuZXdTY3JvbGxDb29yZGluYXRlcyxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogc2Nyb2xsQmVoYXZpb3JcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNhblNjcm9sbFRvTmV3Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgICAgc2Nyb2xsRGVsdGEueCA9IHNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0IC0gbmV3U2Nyb2xsQ29vcmRpbmF0ZXM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY3JvbGxEZWx0YS54ID0gZGlyZWN0aW9uID09PSBLZXlib2FyZENvZGUuUmlnaHQgPyBzY3JvbGxDb250YWluZXIuc2Nyb2xsTGVmdCAtIG1heFNjcm9sbC54IDogc2Nyb2xsQ29udGFpbmVyLnNjcm9sbExlZnQgLSBtaW5TY3JvbGwueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNjcm9sbERlbHRhLngpIHtcbiAgICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyLnNjcm9sbEJ5KHtcbiAgICAgICAgICAgICAgICBsZWZ0OiAtc2Nyb2xsRGVsdGEueCxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogc2Nyb2xsQmVoYXZpb3JcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2FuU2Nyb2xsWSAmJiBjbGFtcGVkQ29vcmRpbmF0ZXMueSAhPT0gbmV3Q29vcmRpbmF0ZXMueSkge1xuICAgICAgICAgICAgY29uc3QgbmV3U2Nyb2xsQ29vcmRpbmF0ZXMgPSBzY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wICsgY29vcmRpbmF0ZXNEZWx0YS55O1xuICAgICAgICAgICAgY29uc3QgY2FuU2Nyb2xsVG9OZXdDb29yZGluYXRlcyA9IGRpcmVjdGlvbiA9PT0gS2V5Ym9hcmRDb2RlLkRvd24gJiYgbmV3U2Nyb2xsQ29vcmRpbmF0ZXMgPD0gbWF4U2Nyb2xsLnkgfHwgZGlyZWN0aW9uID09PSBLZXlib2FyZENvZGUuVXAgJiYgbmV3U2Nyb2xsQ29vcmRpbmF0ZXMgPj0gbWluU2Nyb2xsLnk7XG5cbiAgICAgICAgICAgIGlmIChjYW5TY3JvbGxUb05ld0Nvb3JkaW5hdGVzICYmICFjb29yZGluYXRlc0RlbHRhLngpIHtcbiAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgY29vcmRpbmF0ZXMsIHRoZSBzY3JvbGwgYWRqdXN0bWVudCBhbG9uZSB3aWxsIHRyaWdnZXJcbiAgICAgICAgICAgICAgLy8gbG9naWMgdG8gYXV0by1kZXRlY3QgdGhlIG5ldyBjb250YWluZXIgd2UgYXJlIG92ZXJcbiAgICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgICB0b3A6IG5ld1Njcm9sbENvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICAgIGJlaGF2aW9yOiBzY3JvbGxCZWhhdmlvclxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2FuU2Nyb2xsVG9OZXdDb29yZGluYXRlcykge1xuICAgICAgICAgICAgICBzY3JvbGxEZWx0YS55ID0gc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCAtIG5ld1Njcm9sbENvb3JkaW5hdGVzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2Nyb2xsRGVsdGEueSA9IGRpcmVjdGlvbiA9PT0gS2V5Ym9hcmRDb2RlLkRvd24gPyBzY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wIC0gbWF4U2Nyb2xsLnkgOiBzY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wIC0gbWluU2Nyb2xsLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzY3JvbGxEZWx0YS55KSB7XG4gICAgICAgICAgICAgIHNjcm9sbENvbnRhaW5lci5zY3JvbGxCeSh7XG4gICAgICAgICAgICAgICAgdG9wOiAtc2Nyb2xsRGVsdGEueSxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogc2Nyb2xsQmVoYXZpb3JcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGFuZGxlTW92ZShldmVudCwgYWRkKHN1YnRyYWN0KG5ld0Nvb3JkaW5hdGVzLCB0aGlzLnJlZmVyZW5jZUNvb3JkaW5hdGVzKSwgc2Nyb2xsRGVsdGEpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVNb3ZlKGV2ZW50LCBjb29yZGluYXRlcykge1xuICAgIGNvbnN0IHtcbiAgICAgIG9uTW92ZVxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgb25Nb3ZlKGNvb3JkaW5hdGVzKTtcbiAgfVxuXG4gIGhhbmRsZUVuZChldmVudCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG9uRW5kXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmRldGFjaCgpO1xuICAgIG9uRW5kKCk7XG4gIH1cblxuICBoYW5kbGVDYW5jZWwoZXZlbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICBvbkNhbmNlbFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5kZXRhY2goKTtcbiAgICBvbkNhbmNlbCgpO1xuICB9XG5cbiAgZGV0YWNoKCkge1xuICAgIHRoaXMubGlzdGVuZXJzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMud2luZG93TGlzdGVuZXJzLnJlbW92ZUFsbCgpO1xuICB9XG5cbn1cbktleWJvYXJkU2Vuc29yLmFjdGl2YXRvcnMgPSBbe1xuICBldmVudE5hbWU6ICdvbktleURvd24nLFxuICBoYW5kbGVyOiAoZXZlbnQsIF9yZWYsIF9yZWYyKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGtleWJvYXJkQ29kZXMgPSBkZWZhdWx0S2V5Ym9hcmRDb2RlcyxcbiAgICAgIG9uQWN0aXZhdGlvblxuICAgIH0gPSBfcmVmO1xuICAgIGxldCB7XG4gICAgICBhY3RpdmVcbiAgICB9ID0gX3JlZjI7XG4gICAgY29uc3Qge1xuICAgICAgY29kZVxuICAgIH0gPSBldmVudC5uYXRpdmVFdmVudDtcblxuICAgIGlmIChrZXlib2FyZENvZGVzLnN0YXJ0LmluY2x1ZGVzKGNvZGUpKSB7XG4gICAgICBjb25zdCBhY3RpdmF0b3IgPSBhY3RpdmUuYWN0aXZhdG9yTm9kZS5jdXJyZW50O1xuXG4gICAgICBpZiAoYWN0aXZhdG9yICYmIGV2ZW50LnRhcmdldCAhPT0gYWN0aXZhdG9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uQWN0aXZhdGlvbiA9PSBudWxsID8gdm9pZCAwIDogb25BY3RpdmF0aW9uKHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50Lm5hdGl2ZUV2ZW50XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufV07XG5cbmZ1bmN0aW9uIGlzRGlzdGFuY2VDb25zdHJhaW50KGNvbnN0cmFpbnQpIHtcbiAgcmV0dXJuIEJvb2xlYW4oY29uc3RyYWludCAmJiAnZGlzdGFuY2UnIGluIGNvbnN0cmFpbnQpO1xufVxuXG5mdW5jdGlvbiBpc0RlbGF5Q29uc3RyYWludChjb25zdHJhaW50KSB7XG4gIHJldHVybiBCb29sZWFuKGNvbnN0cmFpbnQgJiYgJ2RlbGF5JyBpbiBjb25zdHJhaW50KTtcbn1cblxuY2xhc3MgQWJzdHJhY3RQb2ludGVyU2Vuc29yIHtcbiAgY29uc3RydWN0b3IocHJvcHMsIGV2ZW50cywgbGlzdGVuZXJUYXJnZXQpIHtcbiAgICB2YXIgX2dldEV2ZW50Q29vcmRpbmF0ZXM7XG5cbiAgICBpZiAobGlzdGVuZXJUYXJnZXQgPT09IHZvaWQgMCkge1xuICAgICAgbGlzdGVuZXJUYXJnZXQgPSBnZXRFdmVudExpc3RlbmVyVGFyZ2V0KHByb3BzLmV2ZW50LnRhcmdldCk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcyA9IHZvaWQgMDtcbiAgICB0aGlzLmV2ZW50cyA9IHZvaWQgMDtcbiAgICB0aGlzLmF1dG9TY3JvbGxFbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLmRvY3VtZW50ID0gdm9pZCAwO1xuICAgIHRoaXMuYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5pbml0aWFsQ29vcmRpbmF0ZXMgPSB2b2lkIDA7XG4gICAgdGhpcy50aW1lb3V0SWQgPSBudWxsO1xuICAgIHRoaXMubGlzdGVuZXJzID0gdm9pZCAwO1xuICAgIHRoaXMuZG9jdW1lbnRMaXN0ZW5lcnMgPSB2b2lkIDA7XG4gICAgdGhpcy53aW5kb3dMaXN0ZW5lcnMgPSB2b2lkIDA7XG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgIGNvbnN0IHtcbiAgICAgIGV2ZW50XG4gICAgfSA9IHByb3BzO1xuICAgIGNvbnN0IHtcbiAgICAgIHRhcmdldFxuICAgIH0gPSBldmVudDtcbiAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgdGhpcy5kb2N1bWVudCA9IGdldE93bmVyRG9jdW1lbnQodGFyZ2V0KTtcbiAgICB0aGlzLmRvY3VtZW50TGlzdGVuZXJzID0gbmV3IExpc3RlbmVycyh0aGlzLmRvY3VtZW50KTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBMaXN0ZW5lcnMobGlzdGVuZXJUYXJnZXQpO1xuICAgIHRoaXMud2luZG93TGlzdGVuZXJzID0gbmV3IExpc3RlbmVycyhnZXRXaW5kb3codGFyZ2V0KSk7XG4gICAgdGhpcy5pbml0aWFsQ29vcmRpbmF0ZXMgPSAoX2dldEV2ZW50Q29vcmRpbmF0ZXMgPSBnZXRFdmVudENvb3JkaW5hdGVzKGV2ZW50KSkgIT0gbnVsbCA/IF9nZXRFdmVudENvb3JkaW5hdGVzIDogZGVmYXVsdENvb3JkaW5hdGVzO1xuICAgIHRoaXMuaGFuZGxlU3RhcnQgPSB0aGlzLmhhbmRsZVN0YXJ0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVNb3ZlID0gdGhpcy5oYW5kbGVNb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVFbmQgPSB0aGlzLmhhbmRsZUVuZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlQ2FuY2VsID0gdGhpcy5oYW5kbGVDYW5jZWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUtleWRvd24gPSB0aGlzLmhhbmRsZUtleWRvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbW92ZVRleHRTZWxlY3Rpb24gPSB0aGlzLnJlbW92ZVRleHRTZWxlY3Rpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmF0dGFjaCgpO1xuICB9XG5cbiAgYXR0YWNoKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGV2ZW50cyxcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBhY3RpdmF0aW9uQ29uc3RyYWludCxcbiAgICAgICAgICBieXBhc3NBY3RpdmF0aW9uQ29uc3RyYWludFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSA9IHRoaXM7XG4gICAgdGhpcy5saXN0ZW5lcnMuYWRkKGV2ZW50cy5tb3ZlLm5hbWUsIHRoaXMuaGFuZGxlTW92ZSwge1xuICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLmxpc3RlbmVycy5hZGQoZXZlbnRzLmVuZC5uYW1lLCB0aGlzLmhhbmRsZUVuZCk7XG5cbiAgICBpZiAoZXZlbnRzLmNhbmNlbCkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuYWRkKGV2ZW50cy5jYW5jZWwubmFtZSwgdGhpcy5oYW5kbGVDYW5jZWwpO1xuICAgIH1cblxuICAgIHRoaXMud2luZG93TGlzdGVuZXJzLmFkZChFdmVudE5hbWUuUmVzaXplLCB0aGlzLmhhbmRsZUNhbmNlbCk7XG4gICAgdGhpcy53aW5kb3dMaXN0ZW5lcnMuYWRkKEV2ZW50TmFtZS5EcmFnU3RhcnQsIHByZXZlbnREZWZhdWx0KTtcbiAgICB0aGlzLndpbmRvd0xpc3RlbmVycy5hZGQoRXZlbnROYW1lLlZpc2liaWxpdHlDaGFuZ2UsIHRoaXMuaGFuZGxlQ2FuY2VsKTtcbiAgICB0aGlzLndpbmRvd0xpc3RlbmVycy5hZGQoRXZlbnROYW1lLkNvbnRleHRNZW51LCBwcmV2ZW50RGVmYXVsdCk7XG4gICAgdGhpcy5kb2N1bWVudExpc3RlbmVycy5hZGQoRXZlbnROYW1lLktleWRvd24sIHRoaXMuaGFuZGxlS2V5ZG93bik7XG5cbiAgICBpZiAoYWN0aXZhdGlvbkNvbnN0cmFpbnQpIHtcbiAgICAgIGlmIChieXBhc3NBY3RpdmF0aW9uQ29uc3RyYWludCAhPSBudWxsICYmIGJ5cGFzc0FjdGl2YXRpb25Db25zdHJhaW50KHtcbiAgICAgICAgZXZlbnQ6IHRoaXMucHJvcHMuZXZlbnQsXG4gICAgICAgIGFjdGl2ZU5vZGU6IHRoaXMucHJvcHMuYWN0aXZlTm9kZSxcbiAgICAgICAgb3B0aW9uczogdGhpcy5wcm9wcy5vcHRpb25zXG4gICAgICB9KSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVTdGFydCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEZWxheUNvbnN0cmFpbnQoYWN0aXZhdGlvbkNvbnN0cmFpbnQpKSB7XG4gICAgICAgIHRoaXMudGltZW91dElkID0gc2V0VGltZW91dCh0aGlzLmhhbmRsZVN0YXJ0LCBhY3RpdmF0aW9uQ29uc3RyYWludC5kZWxheSk7XG4gICAgICAgIHRoaXMuaGFuZGxlUGVuZGluZyhhY3RpdmF0aW9uQ29uc3RyYWludCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRGlzdGFuY2VDb25zdHJhaW50KGFjdGl2YXRpb25Db25zdHJhaW50KSkge1xuICAgICAgICB0aGlzLmhhbmRsZVBlbmRpbmcoYWN0aXZhdGlvbkNvbnN0cmFpbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5oYW5kbGVTdGFydCgpO1xuICB9XG5cbiAgZGV0YWNoKCkge1xuICAgIHRoaXMubGlzdGVuZXJzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMud2luZG93TGlzdGVuZXJzLnJlbW92ZUFsbCgpOyAvLyBXYWl0IHVudGlsIHRoZSBuZXh0IGV2ZW50IGxvb3AgYmVmb3JlIHJlbW92aW5nIGRvY3VtZW50IGxpc3RlbmVyc1xuICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgbGlzdGVuIGZvciBgY2xpY2tgIGFuZCBgc2VsZWN0aW9uYCBldmVudHMgb24gdGhlIGRvY3VtZW50XG5cbiAgICBzZXRUaW1lb3V0KHRoaXMuZG9jdW1lbnRMaXN0ZW5lcnMucmVtb3ZlQWxsLCA1MCk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0SWQgIT09IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgICB0aGlzLnRpbWVvdXRJZCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUGVuZGluZyhjb25zdHJhaW50LCBvZmZzZXQpIHtcbiAgICBjb25zdCB7XG4gICAgICBhY3RpdmUsXG4gICAgICBvblBlbmRpbmdcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBvblBlbmRpbmcoYWN0aXZlLCBjb25zdHJhaW50LCB0aGlzLmluaXRpYWxDb29yZGluYXRlcywgb2Zmc2V0KTtcbiAgfVxuXG4gIGhhbmRsZVN0YXJ0KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGluaXRpYWxDb29yZGluYXRlc1xuICAgIH0gPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIG9uU3RhcnRcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChpbml0aWFsQ29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVkID0gdHJ1ZTsgLy8gU3RvcCBwcm9wYWdhdGlvbiBvZiBjbGljayBldmVudHMgb25jZSBhY3RpdmF0aW9uIGNvbnN0cmFpbnRzIGFyZSBtZXRcblxuICAgICAgdGhpcy5kb2N1bWVudExpc3RlbmVycy5hZGQoRXZlbnROYW1lLkNsaWNrLCBzdG9wUHJvcGFnYXRpb24sIHtcbiAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgfSk7IC8vIFJlbW92ZSBhbnkgdGV4dCBzZWxlY3Rpb24gZnJvbSB0aGUgZG9jdW1lbnRcblxuICAgICAgdGhpcy5yZW1vdmVUZXh0U2VsZWN0aW9uKCk7IC8vIFByZXZlbnQgZnVydGhlciB0ZXh0IHNlbGVjdGlvbiB3aGlsZSBkcmFnZ2luZ1xuXG4gICAgICB0aGlzLmRvY3VtZW50TGlzdGVuZXJzLmFkZChFdmVudE5hbWUuU2VsZWN0aW9uQ2hhbmdlLCB0aGlzLnJlbW92ZVRleHRTZWxlY3Rpb24pO1xuICAgICAgb25TdGFydChpbml0aWFsQ29vcmRpbmF0ZXMpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1vdmUoZXZlbnQpIHtcbiAgICB2YXIgX2dldEV2ZW50Q29vcmRpbmF0ZXMyO1xuXG4gICAgY29uc3Qge1xuICAgICAgYWN0aXZhdGVkLFxuICAgICAgaW5pdGlhbENvb3JkaW5hdGVzLFxuICAgICAgcHJvcHNcbiAgICB9ID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBvbk1vdmUsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGFjdGl2YXRpb25Db25zdHJhaW50XG4gICAgICB9XG4gICAgfSA9IHByb3BzO1xuXG4gICAgaWYgKCFpbml0aWFsQ29vcmRpbmF0ZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb29yZGluYXRlcyA9IChfZ2V0RXZlbnRDb29yZGluYXRlczIgPSBnZXRFdmVudENvb3JkaW5hdGVzKGV2ZW50KSkgIT0gbnVsbCA/IF9nZXRFdmVudENvb3JkaW5hdGVzMiA6IGRlZmF1bHRDb29yZGluYXRlcztcbiAgICBjb25zdCBkZWx0YSA9IHN1YnRyYWN0KGluaXRpYWxDb29yZGluYXRlcywgY29vcmRpbmF0ZXMpOyAvLyBDb25zdHJhaW50IHZhbGlkYXRpb25cblxuICAgIGlmICghYWN0aXZhdGVkICYmIGFjdGl2YXRpb25Db25zdHJhaW50KSB7XG4gICAgICBpZiAoaXNEaXN0YW5jZUNvbnN0cmFpbnQoYWN0aXZhdGlvbkNvbnN0cmFpbnQpKSB7XG4gICAgICAgIGlmIChhY3RpdmF0aW9uQ29uc3RyYWludC50b2xlcmFuY2UgIT0gbnVsbCAmJiBoYXNFeGNlZWRlZERpc3RhbmNlKGRlbHRhLCBhY3RpdmF0aW9uQ29uc3RyYWludC50b2xlcmFuY2UpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQ2FuY2VsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzRXhjZWVkZWREaXN0YW5jZShkZWx0YSwgYWN0aXZhdGlvbkNvbnN0cmFpbnQuZGlzdGFuY2UpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlU3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNEZWxheUNvbnN0cmFpbnQoYWN0aXZhdGlvbkNvbnN0cmFpbnQpKSB7XG4gICAgICAgIGlmIChoYXNFeGNlZWRlZERpc3RhbmNlKGRlbHRhLCBhY3RpdmF0aW9uQ29uc3RyYWludC50b2xlcmFuY2UpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQ2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5oYW5kbGVQZW5kaW5nKGFjdGl2YXRpb25Db25zdHJhaW50LCBkZWx0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmNhbmNlbGFibGUpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgb25Nb3ZlKGNvb3JkaW5hdGVzKTtcbiAgfVxuXG4gIGhhbmRsZUVuZCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBvbkFib3J0LFxuICAgICAgb25FbmRcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICB0aGlzLmRldGFjaCgpO1xuXG4gICAgaWYgKCF0aGlzLmFjdGl2YXRlZCkge1xuICAgICAgb25BYm9ydCh0aGlzLnByb3BzLmFjdGl2ZSk7XG4gICAgfVxuXG4gICAgb25FbmQoKTtcbiAgfVxuXG4gIGhhbmRsZUNhbmNlbCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBvbkFib3J0LFxuICAgICAgb25DYW5jZWxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICB0aGlzLmRldGFjaCgpO1xuXG4gICAgaWYgKCF0aGlzLmFjdGl2YXRlZCkge1xuICAgICAgb25BYm9ydCh0aGlzLnByb3BzLmFjdGl2ZSk7XG4gICAgfVxuXG4gICAgb25DYW5jZWwoKTtcbiAgfVxuXG4gIGhhbmRsZUtleWRvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuY29kZSA9PT0gS2V5Ym9hcmRDb2RlLkVzYykge1xuICAgICAgdGhpcy5oYW5kbGVDYW5jZWwoKTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVUZXh0U2VsZWN0aW9uKCkge1xuICAgIHZhciBfdGhpcyRkb2N1bWVudCRnZXRTZWw7XG5cbiAgICAoX3RoaXMkZG9jdW1lbnQkZ2V0U2VsID0gdGhpcy5kb2N1bWVudC5nZXRTZWxlY3Rpb24oKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJGRvY3VtZW50JGdldFNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgfVxuXG59XG5cbmNvbnN0IGV2ZW50cyA9IHtcbiAgY2FuY2VsOiB7XG4gICAgbmFtZTogJ3BvaW50ZXJjYW5jZWwnXG4gIH0sXG4gIG1vdmU6IHtcbiAgICBuYW1lOiAncG9pbnRlcm1vdmUnXG4gIH0sXG4gIGVuZDoge1xuICAgIG5hbWU6ICdwb2ludGVydXAnXG4gIH1cbn07XG5jbGFzcyBQb2ludGVyU2Vuc29yIGV4dGVuZHMgQWJzdHJhY3RQb2ludGVyU2Vuc29yIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBldmVudFxuICAgIH0gPSBwcm9wczsgLy8gUG9pbnRlciBldmVudHMgc3RvcCBmaXJpbmcgaWYgdGhlIHRhcmdldCBpcyB1bm1vdW50ZWQgd2hpbGUgZHJhZ2dpbmdcbiAgICAvLyBUaGVyZWZvcmUgd2UgYXR0YWNoIGxpc3RlbmVycyB0byB0aGUgb3duZXIgZG9jdW1lbnQgaW5zdGVhZFxuXG4gICAgY29uc3QgbGlzdGVuZXJUYXJnZXQgPSBnZXRPd25lckRvY3VtZW50KGV2ZW50LnRhcmdldCk7XG4gICAgc3VwZXIocHJvcHMsIGV2ZW50cywgbGlzdGVuZXJUYXJnZXQpO1xuICB9XG5cbn1cblBvaW50ZXJTZW5zb3IuYWN0aXZhdG9ycyA9IFt7XG4gIGV2ZW50TmFtZTogJ29uUG9pbnRlckRvd24nLFxuICBoYW5kbGVyOiAoX3JlZiwgX3JlZjIpID0+IHtcbiAgICBsZXQge1xuICAgICAgbmF0aXZlRXZlbnQ6IGV2ZW50XG4gICAgfSA9IF9yZWY7XG4gICAgbGV0IHtcbiAgICAgIG9uQWN0aXZhdGlvblxuICAgIH0gPSBfcmVmMjtcblxuICAgIGlmICghZXZlbnQuaXNQcmltYXJ5IHx8IGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG9uQWN0aXZhdGlvbiA9PSBudWxsID8gdm9pZCAwIDogb25BY3RpdmF0aW9uKHtcbiAgICAgIGV2ZW50XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1dO1xuXG5jb25zdCBldmVudHMkMSA9IHtcbiAgbW92ZToge1xuICAgIG5hbWU6ICdtb3VzZW1vdmUnXG4gIH0sXG4gIGVuZDoge1xuICAgIG5hbWU6ICdtb3VzZXVwJ1xuICB9XG59O1xudmFyIE1vdXNlQnV0dG9uO1xuXG4oZnVuY3Rpb24gKE1vdXNlQnV0dG9uKSB7XG4gIE1vdXNlQnV0dG9uW01vdXNlQnV0dG9uW1wiUmlnaHRDbGlja1wiXSA9IDJdID0gXCJSaWdodENsaWNrXCI7XG59KShNb3VzZUJ1dHRvbiB8fCAoTW91c2VCdXR0b24gPSB7fSkpO1xuXG5jbGFzcyBNb3VzZVNlbnNvciBleHRlbmRzIEFic3RyYWN0UG9pbnRlclNlbnNvciB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMsIGV2ZW50cyQxLCBnZXRPd25lckRvY3VtZW50KHByb3BzLmV2ZW50LnRhcmdldCkpO1xuICB9XG5cbn1cbk1vdXNlU2Vuc29yLmFjdGl2YXRvcnMgPSBbe1xuICBldmVudE5hbWU6ICdvbk1vdXNlRG93bicsXG4gIGhhbmRsZXI6IChfcmVmLCBfcmVmMikgPT4ge1xuICAgIGxldCB7XG4gICAgICBuYXRpdmVFdmVudDogZXZlbnRcbiAgICB9ID0gX3JlZjtcbiAgICBsZXQge1xuICAgICAgb25BY3RpdmF0aW9uXG4gICAgfSA9IF9yZWYyO1xuXG4gICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gTW91c2VCdXR0b24uUmlnaHRDbGljaykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG9uQWN0aXZhdGlvbiA9PSBudWxsID8gdm9pZCAwIDogb25BY3RpdmF0aW9uKHtcbiAgICAgIGV2ZW50XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1dO1xuXG5jb25zdCBldmVudHMkMiA9IHtcbiAgY2FuY2VsOiB7XG4gICAgbmFtZTogJ3RvdWNoY2FuY2VsJ1xuICB9LFxuICBtb3ZlOiB7XG4gICAgbmFtZTogJ3RvdWNobW92ZSdcbiAgfSxcbiAgZW5kOiB7XG4gICAgbmFtZTogJ3RvdWNoZW5kJ1xuICB9XG59O1xuY2xhc3MgVG91Y2hTZW5zb3IgZXh0ZW5kcyBBYnN0cmFjdFBvaW50ZXJTZW5zb3Ige1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzLCBldmVudHMkMik7XG4gIH1cblxuICBzdGF0aWMgc2V0dXAoKSB7XG4gICAgLy8gQWRkaW5nIGEgbm9uLWNhcHR1cmUgYW5kIG5vbi1wYXNzaXZlIGB0b3VjaG1vdmVgIGxpc3RlbmVyIGluIG9yZGVyXG4gICAgLy8gdG8gZm9yY2UgYGV2ZW50LnByZXZlbnREZWZhdWx0KClgIGNhbGxzIHRvIHdvcmsgaW4gZHluYW1pY2FsbHkgYWRkZWRcbiAgICAvLyB0b3VjaG1vdmUgZXZlbnQgaGFuZGxlcnMuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIGlPUyBTYWZhcmkuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzJDIubW92ZS5uYW1lLCBub29wLCB7XG4gICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHRlYXJkb3duKCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzJDIubW92ZS5uYW1lLCBub29wKTtcbiAgICB9OyAvLyBXZSBjcmVhdGUgYSBuZXcgaGFuZGxlciBiZWNhdXNlIHRoZSB0ZWFyZG93biBmdW5jdGlvbiBvZiBhbm90aGVyIHNlbnNvclxuICAgIC8vIGNvdWxkIHJlbW92ZSBvdXIgZXZlbnQgbGlzdGVuZXIgaWYgd2UgdXNlIGEgcmVmZXJlbnRpYWxseSBlcXVhbCBsaXN0ZW5lci5cblxuICAgIGZ1bmN0aW9uIG5vb3AoKSB7fVxuICB9XG5cbn1cblRvdWNoU2Vuc29yLmFjdGl2YXRvcnMgPSBbe1xuICBldmVudE5hbWU6ICdvblRvdWNoU3RhcnQnLFxuICBoYW5kbGVyOiAoX3JlZiwgX3JlZjIpID0+IHtcbiAgICBsZXQge1xuICAgICAgbmF0aXZlRXZlbnQ6IGV2ZW50XG4gICAgfSA9IF9yZWY7XG4gICAgbGV0IHtcbiAgICAgIG9uQWN0aXZhdGlvblxuICAgIH0gPSBfcmVmMjtcbiAgICBjb25zdCB7XG4gICAgICB0b3VjaGVzXG4gICAgfSA9IGV2ZW50O1xuXG4gICAgaWYgKHRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG9uQWN0aXZhdGlvbiA9PSBudWxsID8gdm9pZCAwIDogb25BY3RpdmF0aW9uKHtcbiAgICAgIGV2ZW50XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1dO1xuXG52YXIgQXV0b1Njcm9sbEFjdGl2YXRvcjtcblxuKGZ1bmN0aW9uIChBdXRvU2Nyb2xsQWN0aXZhdG9yKSB7XG4gIEF1dG9TY3JvbGxBY3RpdmF0b3JbQXV0b1Njcm9sbEFjdGl2YXRvcltcIlBvaW50ZXJcIl0gPSAwXSA9IFwiUG9pbnRlclwiO1xuICBBdXRvU2Nyb2xsQWN0aXZhdG9yW0F1dG9TY3JvbGxBY3RpdmF0b3JbXCJEcmFnZ2FibGVSZWN0XCJdID0gMV0gPSBcIkRyYWdnYWJsZVJlY3RcIjtcbn0pKEF1dG9TY3JvbGxBY3RpdmF0b3IgfHwgKEF1dG9TY3JvbGxBY3RpdmF0b3IgPSB7fSkpO1xuXG52YXIgVHJhdmVyc2FsT3JkZXI7XG5cbihmdW5jdGlvbiAoVHJhdmVyc2FsT3JkZXIpIHtcbiAgVHJhdmVyc2FsT3JkZXJbVHJhdmVyc2FsT3JkZXJbXCJUcmVlT3JkZXJcIl0gPSAwXSA9IFwiVHJlZU9yZGVyXCI7XG4gIFRyYXZlcnNhbE9yZGVyW1RyYXZlcnNhbE9yZGVyW1wiUmV2ZXJzZWRUcmVlT3JkZXJcIl0gPSAxXSA9IFwiUmV2ZXJzZWRUcmVlT3JkZXJcIjtcbn0pKFRyYXZlcnNhbE9yZGVyIHx8IChUcmF2ZXJzYWxPcmRlciA9IHt9KSk7XG5cbmZ1bmN0aW9uIHVzZUF1dG9TY3JvbGxlcihfcmVmKSB7XG4gIGxldCB7XG4gICAgYWNjZWxlcmF0aW9uLFxuICAgIGFjdGl2YXRvciA9IEF1dG9TY3JvbGxBY3RpdmF0b3IuUG9pbnRlcixcbiAgICBjYW5TY3JvbGwsXG4gICAgZHJhZ2dpbmdSZWN0LFxuICAgIGVuYWJsZWQsXG4gICAgaW50ZXJ2YWwgPSA1LFxuICAgIG9yZGVyID0gVHJhdmVyc2FsT3JkZXIuVHJlZU9yZGVyLFxuICAgIHBvaW50ZXJDb29yZGluYXRlcyxcbiAgICBzY3JvbGxhYmxlQW5jZXN0b3JzLFxuICAgIHNjcm9sbGFibGVBbmNlc3RvclJlY3RzLFxuICAgIGRlbHRhLFxuICAgIHRocmVzaG9sZFxuICB9ID0gX3JlZjtcbiAgY29uc3Qgc2Nyb2xsSW50ZW50ID0gdXNlU2Nyb2xsSW50ZW50KHtcbiAgICBkZWx0YSxcbiAgICBkaXNhYmxlZDogIWVuYWJsZWRcbiAgfSk7XG4gIGNvbnN0IFtzZXRBdXRvU2Nyb2xsSW50ZXJ2YWwsIGNsZWFyQXV0b1Njcm9sbEludGVydmFsXSA9IHVzZUludGVydmFsKCk7XG4gIGNvbnN0IHNjcm9sbFNwZWVkID0gdXNlUmVmKHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfSk7XG4gIGNvbnN0IHNjcm9sbERpcmVjdGlvbiA9IHVzZVJlZih7XG4gICAgeDogMCxcbiAgICB5OiAwXG4gIH0pO1xuICBjb25zdCByZWN0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgc3dpdGNoIChhY3RpdmF0b3IpIHtcbiAgICAgIGNhc2UgQXV0b1Njcm9sbEFjdGl2YXRvci5Qb2ludGVyOlxuICAgICAgICByZXR1cm4gcG9pbnRlckNvb3JkaW5hdGVzID8ge1xuICAgICAgICAgIHRvcDogcG9pbnRlckNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgYm90dG9tOiBwb2ludGVyQ29vcmRpbmF0ZXMueSxcbiAgICAgICAgICBsZWZ0OiBwb2ludGVyQ29vcmRpbmF0ZXMueCxcbiAgICAgICAgICByaWdodDogcG9pbnRlckNvb3JkaW5hdGVzLnhcbiAgICAgICAgfSA6IG51bGw7XG5cbiAgICAgIGNhc2UgQXV0b1Njcm9sbEFjdGl2YXRvci5EcmFnZ2FibGVSZWN0OlxuICAgICAgICByZXR1cm4gZHJhZ2dpbmdSZWN0O1xuICAgIH1cbiAgfSwgW2FjdGl2YXRvciwgZHJhZ2dpbmdSZWN0LCBwb2ludGVyQ29vcmRpbmF0ZXNdKTtcbiAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBhdXRvU2Nyb2xsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IHNjcm9sbENvbnRhaW5lclJlZi5jdXJyZW50O1xuXG4gICAgaWYgKCFzY3JvbGxDb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzY3JvbGxMZWZ0ID0gc2Nyb2xsU3BlZWQuY3VycmVudC54ICogc2Nyb2xsRGlyZWN0aW9uLmN1cnJlbnQueDtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSBzY3JvbGxTcGVlZC5jdXJyZW50LnkgKiBzY3JvbGxEaXJlY3Rpb24uY3VycmVudC55O1xuICAgIHNjcm9sbENvbnRhaW5lci5zY3JvbGxCeShzY3JvbGxMZWZ0LCBzY3JvbGxUb3ApO1xuICB9LCBbXSk7XG4gIGNvbnN0IHNvcnRlZFNjcm9sbGFibGVBbmNlc3RvcnMgPSB1c2VNZW1vKCgpID0+IG9yZGVyID09PSBUcmF2ZXJzYWxPcmRlci5UcmVlT3JkZXIgPyBbLi4uc2Nyb2xsYWJsZUFuY2VzdG9yc10ucmV2ZXJzZSgpIDogc2Nyb2xsYWJsZUFuY2VzdG9ycywgW29yZGVyLCBzY3JvbGxhYmxlQW5jZXN0b3JzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFlbmFibGVkIHx8ICFzY3JvbGxhYmxlQW5jZXN0b3JzLmxlbmd0aCB8fCAhcmVjdCkge1xuICAgICAgY2xlYXJBdXRvU2Nyb2xsSW50ZXJ2YWwoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHNjcm9sbENvbnRhaW5lciBvZiBzb3J0ZWRTY3JvbGxhYmxlQW5jZXN0b3JzKSB7XG4gICAgICBpZiAoKGNhblNjcm9sbCA9PSBudWxsID8gdm9pZCAwIDogY2FuU2Nyb2xsKHNjcm9sbENvbnRhaW5lcikpID09PSBmYWxzZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5kZXggPSBzY3JvbGxhYmxlQW5jZXN0b3JzLmluZGV4T2Yoc2Nyb2xsQ29udGFpbmVyKTtcbiAgICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lclJlY3QgPSBzY3JvbGxhYmxlQW5jZXN0b3JSZWN0c1tpbmRleF07XG5cbiAgICAgIGlmICghc2Nyb2xsQ29udGFpbmVyUmVjdCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qge1xuICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgIHNwZWVkXG4gICAgICB9ID0gZ2V0U2Nyb2xsRGlyZWN0aW9uQW5kU3BlZWQoc2Nyb2xsQ29udGFpbmVyLCBzY3JvbGxDb250YWluZXJSZWN0LCByZWN0LCBhY2NlbGVyYXRpb24sIHRocmVzaG9sZCk7XG5cbiAgICAgIGZvciAoY29uc3QgYXhpcyBvZiBbJ3gnLCAneSddKSB7XG4gICAgICAgIGlmICghc2Nyb2xsSW50ZW50W2F4aXNdW2RpcmVjdGlvbltheGlzXV0pIHtcbiAgICAgICAgICBzcGVlZFtheGlzXSA9IDA7XG4gICAgICAgICAgZGlyZWN0aW9uW2F4aXNdID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3BlZWQueCA+IDAgfHwgc3BlZWQueSA+IDApIHtcbiAgICAgICAgY2xlYXJBdXRvU2Nyb2xsSW50ZXJ2YWwoKTtcbiAgICAgICAgc2Nyb2xsQ29udGFpbmVyUmVmLmN1cnJlbnQgPSBzY3JvbGxDb250YWluZXI7XG4gICAgICAgIHNldEF1dG9TY3JvbGxJbnRlcnZhbChhdXRvU2Nyb2xsLCBpbnRlcnZhbCk7XG4gICAgICAgIHNjcm9sbFNwZWVkLmN1cnJlbnQgPSBzcGVlZDtcbiAgICAgICAgc2Nyb2xsRGlyZWN0aW9uLmN1cnJlbnQgPSBkaXJlY3Rpb247XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzY3JvbGxTcGVlZC5jdXJyZW50ID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuICAgIHNjcm9sbERpcmVjdGlvbi5jdXJyZW50ID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuICAgIGNsZWFyQXV0b1Njcm9sbEludGVydmFsKCk7XG4gIH0sIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgW2FjY2VsZXJhdGlvbiwgYXV0b1Njcm9sbCwgY2FuU2Nyb2xsLCBjbGVhckF1dG9TY3JvbGxJbnRlcnZhbCwgZW5hYmxlZCwgaW50ZXJ2YWwsIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgSlNPTi5zdHJpbmdpZnkocmVjdCksIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgSlNPTi5zdHJpbmdpZnkoc2Nyb2xsSW50ZW50KSwgc2V0QXV0b1Njcm9sbEludGVydmFsLCBzY3JvbGxhYmxlQW5jZXN0b3JzLCBzb3J0ZWRTY3JvbGxhYmxlQW5jZXN0b3JzLCBzY3JvbGxhYmxlQW5jZXN0b3JSZWN0cywgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBKU09OLnN0cmluZ2lmeSh0aHJlc2hvbGQpXSk7XG59XG5jb25zdCBkZWZhdWx0U2Nyb2xsSW50ZW50ID0ge1xuICB4OiB7XG4gICAgW0RpcmVjdGlvbi5CYWNrd2FyZF06IGZhbHNlLFxuICAgIFtEaXJlY3Rpb24uRm9yd2FyZF06IGZhbHNlXG4gIH0sXG4gIHk6IHtcbiAgICBbRGlyZWN0aW9uLkJhY2t3YXJkXTogZmFsc2UsXG4gICAgW0RpcmVjdGlvbi5Gb3J3YXJkXTogZmFsc2VcbiAgfVxufTtcblxuZnVuY3Rpb24gdXNlU2Nyb2xsSW50ZW50KF9yZWYyKSB7XG4gIGxldCB7XG4gICAgZGVsdGEsXG4gICAgZGlzYWJsZWRcbiAgfSA9IF9yZWYyO1xuICBjb25zdCBwcmV2aW91c0RlbHRhID0gdXNlUHJldmlvdXMoZGVsdGEpO1xuICByZXR1cm4gdXNlTGF6eU1lbW8ocHJldmlvdXNJbnRlbnQgPT4ge1xuICAgIGlmIChkaXNhYmxlZCB8fCAhcHJldmlvdXNEZWx0YSB8fCAhcHJldmlvdXNJbnRlbnQpIHtcbiAgICAgIC8vIFJlc2V0IHNjcm9sbCBpbnRlbnQgdHJhY2tpbmcgd2hlbiBhdXRvLXNjcm9sbGluZyBpcyBkaXNhYmxlZFxuICAgICAgcmV0dXJuIGRlZmF1bHRTY3JvbGxJbnRlbnQ7XG4gICAgfVxuXG4gICAgY29uc3QgZGlyZWN0aW9uID0ge1xuICAgICAgeDogTWF0aC5zaWduKGRlbHRhLnggLSBwcmV2aW91c0RlbHRhLngpLFxuICAgICAgeTogTWF0aC5zaWduKGRlbHRhLnkgLSBwcmV2aW91c0RlbHRhLnkpXG4gICAgfTsgLy8gS2VlcCB0cmFjayBvZiB0aGUgdXNlciBpbnRlbnQgdG8gc2Nyb2xsIGluIGVhY2ggZGlyZWN0aW9uIGZvciBib3RoIGF4aXNcblxuICAgIHJldHVybiB7XG4gICAgICB4OiB7XG4gICAgICAgIFtEaXJlY3Rpb24uQmFja3dhcmRdOiBwcmV2aW91c0ludGVudC54W0RpcmVjdGlvbi5CYWNrd2FyZF0gfHwgZGlyZWN0aW9uLnggPT09IC0xLFxuICAgICAgICBbRGlyZWN0aW9uLkZvcndhcmRdOiBwcmV2aW91c0ludGVudC54W0RpcmVjdGlvbi5Gb3J3YXJkXSB8fCBkaXJlY3Rpb24ueCA9PT0gMVxuICAgICAgfSxcbiAgICAgIHk6IHtcbiAgICAgICAgW0RpcmVjdGlvbi5CYWNrd2FyZF06IHByZXZpb3VzSW50ZW50LnlbRGlyZWN0aW9uLkJhY2t3YXJkXSB8fCBkaXJlY3Rpb24ueSA9PT0gLTEsXG4gICAgICAgIFtEaXJlY3Rpb24uRm9yd2FyZF06IHByZXZpb3VzSW50ZW50LnlbRGlyZWN0aW9uLkZvcndhcmRdIHx8IGRpcmVjdGlvbi55ID09PSAxXG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2Rpc2FibGVkLCBkZWx0YSwgcHJldmlvdXNEZWx0YV0pO1xufVxuXG5mdW5jdGlvbiB1c2VDYWNoZWROb2RlKGRyYWdnYWJsZU5vZGVzLCBpZCkge1xuICBjb25zdCBkcmFnZ2FibGVOb2RlID0gaWQgIT0gbnVsbCA/IGRyYWdnYWJsZU5vZGVzLmdldChpZCkgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IG5vZGUgPSBkcmFnZ2FibGVOb2RlID8gZHJhZ2dhYmxlTm9kZS5ub2RlLmN1cnJlbnQgOiBudWxsO1xuICByZXR1cm4gdXNlTGF6eU1lbW8oY2FjaGVkTm9kZSA9PiB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSAvLyBJbiBzb21lIGNhc2VzLCB0aGUgZHJhZ2dhYmxlIG5vZGUgY2FuIHVubW91bnQgd2hpbGUgZHJhZ2dpbmdcbiAgICAvLyBUaGlzIGlzIHRoZSBjYXNlIGZvciB2aXJ0dWFsaXplZCBsaXN0cy4gSW4gdGhvc2Ugc2l0dWF0aW9ucyxcbiAgICAvLyB3ZSBmYWxsIGJhY2sgdG8gdGhlIGxhc3Qga25vd24gdmFsdWUgZm9yIHRoYXQgbm9kZS5cblxuXG4gICAgcmV0dXJuIChfcmVmID0gbm9kZSAhPSBudWxsID8gbm9kZSA6IGNhY2hlZE5vZGUpICE9IG51bGwgPyBfcmVmIDogbnVsbDtcbiAgfSwgW25vZGUsIGlkXSk7XG59XG5cbmZ1bmN0aW9uIHVzZUNvbWJpbmVBY3RpdmF0b3JzKHNlbnNvcnMsIGdldFN5bnRoZXRpY0hhbmRsZXIpIHtcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gc2Vuc29ycy5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBzZW5zb3IpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzZW5zb3I6IFNlbnNvclxuICAgIH0gPSBzZW5zb3I7XG4gICAgY29uc3Qgc2Vuc29yQWN0aXZhdG9ycyA9IFNlbnNvci5hY3RpdmF0b3JzLm1hcChhY3RpdmF0b3IgPT4gKHtcbiAgICAgIGV2ZW50TmFtZTogYWN0aXZhdG9yLmV2ZW50TmFtZSxcbiAgICAgIGhhbmRsZXI6IGdldFN5bnRoZXRpY0hhbmRsZXIoYWN0aXZhdG9yLmhhbmRsZXIsIHNlbnNvcilcbiAgICB9KSk7XG4gICAgcmV0dXJuIFsuLi5hY2N1bXVsYXRvciwgLi4uc2Vuc29yQWN0aXZhdG9yc107XG4gIH0sIFtdKSwgW3NlbnNvcnMsIGdldFN5bnRoZXRpY0hhbmRsZXJdKTtcbn1cblxudmFyIE1lYXN1cmluZ1N0cmF0ZWd5O1xuXG4oZnVuY3Rpb24gKE1lYXN1cmluZ1N0cmF0ZWd5KSB7XG4gIE1lYXN1cmluZ1N0cmF0ZWd5W01lYXN1cmluZ1N0cmF0ZWd5W1wiQWx3YXlzXCJdID0gMF0gPSBcIkFsd2F5c1wiO1xuICBNZWFzdXJpbmdTdHJhdGVneVtNZWFzdXJpbmdTdHJhdGVneVtcIkJlZm9yZURyYWdnaW5nXCJdID0gMV0gPSBcIkJlZm9yZURyYWdnaW5nXCI7XG4gIE1lYXN1cmluZ1N0cmF0ZWd5W01lYXN1cmluZ1N0cmF0ZWd5W1wiV2hpbGVEcmFnZ2luZ1wiXSA9IDJdID0gXCJXaGlsZURyYWdnaW5nXCI7XG59KShNZWFzdXJpbmdTdHJhdGVneSB8fCAoTWVhc3VyaW5nU3RyYXRlZ3kgPSB7fSkpO1xuXG52YXIgTWVhc3VyaW5nRnJlcXVlbmN5O1xuXG4oZnVuY3Rpb24gKE1lYXN1cmluZ0ZyZXF1ZW5jeSkge1xuICBNZWFzdXJpbmdGcmVxdWVuY3lbXCJPcHRpbWl6ZWRcIl0gPSBcIm9wdGltaXplZFwiO1xufSkoTWVhc3VyaW5nRnJlcXVlbmN5IHx8IChNZWFzdXJpbmdGcmVxdWVuY3kgPSB7fSkpO1xuXG5jb25zdCBkZWZhdWx0VmFsdWUgPSAvKiNfX1BVUkVfXyovbmV3IE1hcCgpO1xuZnVuY3Rpb24gdXNlRHJvcHBhYmxlTWVhc3VyaW5nKGNvbnRhaW5lcnMsIF9yZWYpIHtcbiAgbGV0IHtcbiAgICBkcmFnZ2luZyxcbiAgICBkZXBlbmRlbmNpZXMsXG4gICAgY29uZmlnXG4gIH0gPSBfcmVmO1xuICBjb25zdCBbcXVldWUsIHNldFF1ZXVlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCB7XG4gICAgZnJlcXVlbmN5LFxuICAgIG1lYXN1cmUsXG4gICAgc3RyYXRlZ3lcbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgY29udGFpbmVyc1JlZiA9IHVzZVJlZihjb250YWluZXJzKTtcbiAgY29uc3QgZGlzYWJsZWQgPSBpc0Rpc2FibGVkKCk7XG4gIGNvbnN0IGRpc2FibGVkUmVmID0gdXNlTGF0ZXN0VmFsdWUoZGlzYWJsZWQpO1xuICBjb25zdCBtZWFzdXJlRHJvcHBhYmxlQ29udGFpbmVycyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpZHMpIHtcbiAgICBpZiAoaWRzID09PSB2b2lkIDApIHtcbiAgICAgIGlkcyA9IFtdO1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0UXVldWUodmFsdWUgPT4ge1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZHM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZS5jb25jYXQoaWRzLmZpbHRlcihpZCA9PiAhdmFsdWUuaW5jbHVkZXMoaWQpKSk7XG4gICAgfSk7XG4gIH0sIFtkaXNhYmxlZFJlZl0pO1xuICBjb25zdCB0aW1lb3V0SWQgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGRyb3BwYWJsZVJlY3RzID0gdXNlTGF6eU1lbW8ocHJldmlvdXNWYWx1ZSA9PiB7XG4gICAgaWYgKGRpc2FibGVkICYmICFkcmFnZ2luZykge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoIXByZXZpb3VzVmFsdWUgfHwgcHJldmlvdXNWYWx1ZSA9PT0gZGVmYXVsdFZhbHVlIHx8IGNvbnRhaW5lcnNSZWYuY3VycmVudCAhPT0gY29udGFpbmVycyB8fCBxdWV1ZSAhPSBudWxsKSB7XG4gICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAgIGZvciAobGV0IGNvbnRhaW5lciBvZiBjb250YWluZXJzKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocXVldWUgJiYgcXVldWUubGVuZ3RoID4gMCAmJiAhcXVldWUuaW5jbHVkZXMoY29udGFpbmVyLmlkKSAmJiBjb250YWluZXIucmVjdC5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gVGhpcyBjb250YWluZXIgZG9lcyBub3QgbmVlZCB0byBiZSByZS1tZWFzdXJlZFxuICAgICAgICAgIG1hcC5zZXQoY29udGFpbmVyLmlkLCBjb250YWluZXIucmVjdC5jdXJyZW50KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5vZGUgPSBjb250YWluZXIubm9kZS5jdXJyZW50O1xuICAgICAgICBjb25zdCByZWN0ID0gbm9kZSA/IG5ldyBSZWN0KG1lYXN1cmUobm9kZSksIG5vZGUpIDogbnVsbDtcbiAgICAgICAgY29udGFpbmVyLnJlY3QuY3VycmVudCA9IHJlY3Q7XG5cbiAgICAgICAgaWYgKHJlY3QpIHtcbiAgICAgICAgICBtYXAuc2V0KGNvbnRhaW5lci5pZCwgcmVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbiAgfSwgW2NvbnRhaW5lcnMsIHF1ZXVlLCBkcmFnZ2luZywgZGlzYWJsZWQsIG1lYXN1cmVdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb250YWluZXJzUmVmLmN1cnJlbnQgPSBjb250YWluZXJzO1xuICB9LCBbY29udGFpbmVyc10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1lYXN1cmVEcm9wcGFibGVDb250YWluZXJzKCk7XG4gIH0sIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgW2RyYWdnaW5nLCBkaXNhYmxlZF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChxdWV1ZSAmJiBxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICBzZXRRdWV1ZShudWxsKTtcbiAgICB9XG4gIH0sIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBbSlNPTi5zdHJpbmdpZnkocXVldWUpXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRpc2FibGVkIHx8IHR5cGVvZiBmcmVxdWVuY3kgIT09ICdudW1iZXInIHx8IHRpbWVvdXRJZC5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGltZW91dElkLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG1lYXN1cmVEcm9wcGFibGVDb250YWluZXJzKCk7XG4gICAgICB0aW1lb3V0SWQuY3VycmVudCA9IG51bGw7XG4gICAgfSwgZnJlcXVlbmN5KTtcbiAgfSwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBbZnJlcXVlbmN5LCBkaXNhYmxlZCwgbWVhc3VyZURyb3BwYWJsZUNvbnRhaW5lcnMsIC4uLmRlcGVuZGVuY2llc10pO1xuICByZXR1cm4ge1xuICAgIGRyb3BwYWJsZVJlY3RzLFxuICAgIG1lYXN1cmVEcm9wcGFibGVDb250YWluZXJzLFxuICAgIG1lYXN1cmluZ1NjaGVkdWxlZDogcXVldWUgIT0gbnVsbFxuICB9O1xuXG4gIGZ1bmN0aW9uIGlzRGlzYWJsZWQoKSB7XG4gICAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgICAgY2FzZSBNZWFzdXJpbmdTdHJhdGVneS5BbHdheXM6XG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgY2FzZSBNZWFzdXJpbmdTdHJhdGVneS5CZWZvcmVEcmFnZ2luZzpcbiAgICAgICAgcmV0dXJuIGRyYWdnaW5nO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gIWRyYWdnaW5nO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VJbml0aWFsVmFsdWUodmFsdWUsIGNvbXB1dGVGbikge1xuICByZXR1cm4gdXNlTGF6eU1lbW8ocHJldmlvdXNWYWx1ZSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzVmFsdWUpIHtcbiAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlb2YgY29tcHV0ZUZuID09PSAnZnVuY3Rpb24nID8gY29tcHV0ZUZuKHZhbHVlKSA6IHZhbHVlO1xuICB9LCBbY29tcHV0ZUZuLCB2YWx1ZV0pO1xufVxuXG5mdW5jdGlvbiB1c2VJbml0aWFsUmVjdChub2RlLCBtZWFzdXJlKSB7XG4gIHJldHVybiB1c2VJbml0aWFsVmFsdWUobm9kZSwgbWVhc3VyZSk7XG59XG5cbi8qKlxyXG4gKiBSZXR1cm5zIGEgbmV3IE11dGF0aW9uT2JzZXJ2ZXIgaW5zdGFuY2UuXHJcbiAqIElmIGBNdXRhdGlvbk9ic2VydmVyYCBpcyB1bmRlZmluZWQgaW4gdGhlIGV4ZWN1dGlvbiBlbnZpcm9ubWVudCwgcmV0dXJucyBgdW5kZWZpbmVkYC5cclxuICovXG5cbmZ1bmN0aW9uIHVzZU11dGF0aW9uT2JzZXJ2ZXIoX3JlZikge1xuICBsZXQge1xuICAgIGNhbGxiYWNrLFxuICAgIGRpc2FibGVkXG4gIH0gPSBfcmVmO1xuICBjb25zdCBoYW5kbGVNdXRhdGlvbnMgPSB1c2VFdmVudChjYWxsYmFjayk7XG4gIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoZGlzYWJsZWQgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBNdXRhdGlvbk9ic2VydmVyXG4gICAgfSA9IHdpbmRvdztcbiAgICByZXR1cm4gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoaGFuZGxlTXV0YXRpb25zKTtcbiAgfSwgW2hhbmRsZU11dGF0aW9ucywgZGlzYWJsZWRdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4gbXV0YXRpb25PYnNlcnZlciA9PSBudWxsID8gdm9pZCAwIDogbXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0sIFttdXRhdGlvbk9ic2VydmVyXSk7XG4gIHJldHVybiBtdXRhdGlvbk9ic2VydmVyO1xufVxuXG4vKipcclxuICogUmV0dXJucyBhIG5ldyBSZXNpemVPYnNlcnZlciBpbnN0YW5jZSBib3VuZCB0byB0aGUgYG9uUmVzaXplYCBjYWxsYmFjay5cclxuICogSWYgYFJlc2l6ZU9ic2VydmVyYCBpcyB1bmRlZmluZWQgaW4gdGhlIGV4ZWN1dGlvbiBlbnZpcm9ubWVudCwgcmV0dXJucyBgdW5kZWZpbmVkYC5cclxuICovXG5cbmZ1bmN0aW9uIHVzZVJlc2l6ZU9ic2VydmVyKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBjYWxsYmFjayxcbiAgICBkaXNhYmxlZFxuICB9ID0gX3JlZjtcbiAgY29uc3QgaGFuZGxlUmVzaXplID0gdXNlRXZlbnQoY2FsbGJhY2spO1xuICBjb25zdCByZXNpemVPYnNlcnZlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChkaXNhYmxlZCB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93LlJlc2l6ZU9ic2VydmVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBSZXNpemVPYnNlcnZlclxuICAgIH0gPSB3aW5kb3c7XG4gICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlcihoYW5kbGVSZXNpemUpO1xuICB9LCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIFtkaXNhYmxlZF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiByZXNpemVPYnNlcnZlciA9PSBudWxsID8gdm9pZCAwIDogcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICB9LCBbcmVzaXplT2JzZXJ2ZXJdKTtcbiAgcmV0dXJuIHJlc2l6ZU9ic2VydmVyO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0TWVhc3VyZShlbGVtZW50KSB7XG4gIHJldHVybiBuZXcgUmVjdChnZXRDbGllbnRSZWN0KGVsZW1lbnQpLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gdXNlUmVjdChlbGVtZW50LCBtZWFzdXJlLCBmYWxsYmFja1JlY3QpIHtcbiAgaWYgKG1lYXN1cmUgPT09IHZvaWQgMCkge1xuICAgIG1lYXN1cmUgPSBkZWZhdWx0TWVhc3VyZTtcbiAgfVxuXG4gIGNvbnN0IFtyZWN0LCBzZXRSZWN0XSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIGZ1bmN0aW9uIG1lYXN1cmVSZWN0KCkge1xuICAgIHNldFJlY3QoY3VycmVudFJlY3QgPT4ge1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudC5pc0Nvbm5lY3RlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgLy8gRmFsbCBiYWNrIHRvIGxhc3QgcmVjdCB3ZSBtZWFzdXJlZCBpZiB0aGUgZWxlbWVudCBpc1xuICAgICAgICAvLyBubyBsb25nZXIgY29ubmVjdGVkIHRvIHRoZSBET00uXG4gICAgICAgIHJldHVybiAoX3JlZiA9IGN1cnJlbnRSZWN0ICE9IG51bGwgPyBjdXJyZW50UmVjdCA6IGZhbGxiYWNrUmVjdCkgIT0gbnVsbCA/IF9yZWYgOiBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdSZWN0ID0gbWVhc3VyZShlbGVtZW50KTtcblxuICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGN1cnJlbnRSZWN0KSA9PT0gSlNPTi5zdHJpbmdpZnkobmV3UmVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRSZWN0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3UmVjdDtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXIgPSB1c2VNdXRhdGlvbk9ic2VydmVyKHtcbiAgICBjYWxsYmFjayhyZWNvcmRzKSB7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiByZWNvcmRzKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIHRhcmdldFxuICAgICAgICB9ID0gcmVjb3JkO1xuXG4gICAgICAgIGlmICh0eXBlID09PSAnY2hpbGRMaXN0JyAmJiB0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiB0YXJnZXQuY29udGFpbnMoZWxlbWVudCkpIHtcbiAgICAgICAgICBtZWFzdXJlUmVjdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH0pO1xuICBjb25zdCByZXNpemVPYnNlcnZlciA9IHVzZVJlc2l6ZU9ic2VydmVyKHtcbiAgICBjYWxsYmFjazogbWVhc3VyZVJlY3RcbiAgfSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIG1lYXN1cmVSZWN0KCk7XG5cbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XG4gICAgICBtdXRhdGlvbk9ic2VydmVyID09IG51bGwgPyB2b2lkIDAgOiBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNpemVPYnNlcnZlciA9PSBudWxsID8gdm9pZCAwIDogcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgbXV0YXRpb25PYnNlcnZlciA9PSBudWxsID8gdm9pZCAwIDogbXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9LCBbZWxlbWVudF0pO1xuICByZXR1cm4gcmVjdDtcbn1cblxuZnVuY3Rpb24gdXNlUmVjdERlbHRhKHJlY3QpIHtcbiAgY29uc3QgaW5pdGlhbFJlY3QgPSB1c2VJbml0aWFsVmFsdWUocmVjdCk7XG4gIHJldHVybiBnZXRSZWN0RGVsdGEocmVjdCwgaW5pdGlhbFJlY3QpO1xufVxuXG5jb25zdCBkZWZhdWx0VmFsdWUkMSA9IFtdO1xuZnVuY3Rpb24gdXNlU2Nyb2xsYWJsZUFuY2VzdG9ycyhub2RlKSB7XG4gIGNvbnN0IHByZXZpb3VzTm9kZSA9IHVzZVJlZihub2RlKTtcbiAgY29uc3QgYW5jZXN0b3JzID0gdXNlTGF6eU1lbW8ocHJldmlvdXNWYWx1ZSA9PiB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlJDE7XG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgJiYgcHJldmlvdXNWYWx1ZSAhPT0gZGVmYXVsdFZhbHVlJDEgJiYgbm9kZSAmJiBwcmV2aW91c05vZGUuY3VycmVudCAmJiBub2RlLnBhcmVudE5vZGUgPT09IHByZXZpb3VzTm9kZS5jdXJyZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRTY3JvbGxhYmxlQW5jZXN0b3JzKG5vZGUpO1xuICB9LCBbbm9kZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHByZXZpb3VzTm9kZS5jdXJyZW50ID0gbm9kZTtcbiAgfSwgW25vZGVdKTtcbiAgcmV0dXJuIGFuY2VzdG9ycztcbn1cblxuZnVuY3Rpb24gdXNlU2Nyb2xsT2Zmc2V0cyhlbGVtZW50cykge1xuICBjb25zdCBbc2Nyb2xsQ29vcmRpbmF0ZXMsIHNldFNjcm9sbENvb3JkaW5hdGVzXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBwcmV2RWxlbWVudHMgPSB1c2VSZWYoZWxlbWVudHMpOyAvLyBUby1kbzogVGhyb3R0bGUgdGhlIGhhbmRsZVNjcm9sbCBjYWxsYmFja1xuXG4gIGNvbnN0IGhhbmRsZVNjcm9sbCA9IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICBjb25zdCBzY3JvbGxpbmdFbGVtZW50ID0gZ2V0U2Nyb2xsYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcblxuICAgIGlmICghc2Nyb2xsaW5nRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFNjcm9sbENvb3JkaW5hdGVzKHNjcm9sbENvb3JkaW5hdGVzID0+IHtcbiAgICAgIGlmICghc2Nyb2xsQ29vcmRpbmF0ZXMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHNjcm9sbENvb3JkaW5hdGVzLnNldChzY3JvbGxpbmdFbGVtZW50LCBnZXRTY3JvbGxDb29yZGluYXRlcyhzY3JvbGxpbmdFbGVtZW50KSk7XG4gICAgICByZXR1cm4gbmV3IE1hcChzY3JvbGxDb29yZGluYXRlcyk7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBwcmV2aW91c0VsZW1lbnRzID0gcHJldkVsZW1lbnRzLmN1cnJlbnQ7XG5cbiAgICBpZiAoZWxlbWVudHMgIT09IHByZXZpb3VzRWxlbWVudHMpIHtcbiAgICAgIGNsZWFudXAocHJldmlvdXNFbGVtZW50cyk7XG4gICAgICBjb25zdCBlbnRyaWVzID0gZWxlbWVudHMubWFwKGVsZW1lbnQgPT4ge1xuICAgICAgICBjb25zdCBzY3JvbGxhYmxlRWxlbWVudCA9IGdldFNjcm9sbGFibGVFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChzY3JvbGxhYmxlRWxlbWVudCkge1xuICAgICAgICAgIHNjcm9sbGFibGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCwge1xuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBbc2Nyb2xsYWJsZUVsZW1lbnQsIGdldFNjcm9sbENvb3JkaW5hdGVzKHNjcm9sbGFibGVFbGVtZW50KV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pLmZpbHRlcihlbnRyeSA9PiBlbnRyeSAhPSBudWxsKTtcbiAgICAgIHNldFNjcm9sbENvb3JkaW5hdGVzKGVudHJpZXMubGVuZ3RoID8gbmV3IE1hcChlbnRyaWVzKSA6IG51bGwpO1xuICAgICAgcHJldkVsZW1lbnRzLmN1cnJlbnQgPSBlbGVtZW50cztcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYW51cChlbGVtZW50cyk7XG4gICAgICBjbGVhbnVwKHByZXZpb3VzRWxlbWVudHMpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjbGVhbnVwKGVsZW1lbnRzKSB7XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBjb25zdCBzY3JvbGxhYmxlRWxlbWVudCA9IGdldFNjcm9sbGFibGVFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICBzY3JvbGxhYmxlRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogc2Nyb2xsYWJsZUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2hhbmRsZVNjcm9sbCwgZWxlbWVudHNdKTtcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBzY3JvbGxDb29yZGluYXRlcyA/IEFycmF5LmZyb20oc2Nyb2xsQ29vcmRpbmF0ZXMudmFsdWVzKCkpLnJlZHVjZSgoYWNjLCBjb29yZGluYXRlcykgPT4gYWRkKGFjYywgY29vcmRpbmF0ZXMpLCBkZWZhdWx0Q29vcmRpbmF0ZXMpIDogZ2V0U2Nyb2xsT2Zmc2V0cyhlbGVtZW50cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRDb29yZGluYXRlcztcbiAgfSwgW2VsZW1lbnRzLCBzY3JvbGxDb29yZGluYXRlc10pO1xufVxuXG5mdW5jdGlvbiB1c2VTY3JvbGxPZmZzZXRzRGVsdGEoc2Nyb2xsT2Zmc2V0cywgZGVwZW5kZW5jaWVzKSB7XG4gIGlmIChkZXBlbmRlbmNpZXMgPT09IHZvaWQgMCkge1xuICAgIGRlcGVuZGVuY2llcyA9IFtdO1xuICB9XG5cbiAgY29uc3QgaW5pdGlhbFNjcm9sbE9mZnNldHMgPSB1c2VSZWYobnVsbCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaW5pdGlhbFNjcm9sbE9mZnNldHMuY3VycmVudCA9IG51bGw7XG4gIH0sIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgZGVwZW5kZW5jaWVzKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYXNTY3JvbGxPZmZzZXRzID0gc2Nyb2xsT2Zmc2V0cyAhPT0gZGVmYXVsdENvb3JkaW5hdGVzO1xuXG4gICAgaWYgKGhhc1Njcm9sbE9mZnNldHMgJiYgIWluaXRpYWxTY3JvbGxPZmZzZXRzLmN1cnJlbnQpIHtcbiAgICAgIGluaXRpYWxTY3JvbGxPZmZzZXRzLmN1cnJlbnQgPSBzY3JvbGxPZmZzZXRzO1xuICAgIH1cblxuICAgIGlmICghaGFzU2Nyb2xsT2Zmc2V0cyAmJiBpbml0aWFsU2Nyb2xsT2Zmc2V0cy5jdXJyZW50KSB7XG4gICAgICBpbml0aWFsU2Nyb2xsT2Zmc2V0cy5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gIH0sIFtzY3JvbGxPZmZzZXRzXSk7XG4gIHJldHVybiBpbml0aWFsU2Nyb2xsT2Zmc2V0cy5jdXJyZW50ID8gc3VidHJhY3Qoc2Nyb2xsT2Zmc2V0cywgaW5pdGlhbFNjcm9sbE9mZnNldHMuY3VycmVudCkgOiBkZWZhdWx0Q29vcmRpbmF0ZXM7XG59XG5cbmZ1bmN0aW9uIHVzZVNlbnNvclNldHVwKHNlbnNvcnMpIHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNhblVzZURPTSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRlYXJkb3duRm5zID0gc2Vuc29ycy5tYXAoX3JlZiA9PiB7XG4gICAgICBsZXQge1xuICAgICAgICBzZW5zb3JcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgcmV0dXJuIHNlbnNvci5zZXR1cCA9PSBudWxsID8gdm9pZCAwIDogc2Vuc29yLnNldHVwKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgdGVhcmRvd24gb2YgdGVhcmRvd25GbnMpIHtcbiAgICAgICAgdGVhcmRvd24gPT0gbnVsbCA/IHZvaWQgMCA6IHRlYXJkb3duKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgLy8gVE8tRE86IFNlbnNvcnMgbGVuZ3RoIGNvdWxkIHRoZW9yZXRpY2FsbHkgY2hhbmdlIHdoaWNoIHdvdWxkIG5vdCBiZSBhIHZhbGlkIGRlcGVuZGVuY3lcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBzZW5zb3JzLm1hcChfcmVmMiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIHNlbnNvclxuICAgIH0gPSBfcmVmMjtcbiAgICByZXR1cm4gc2Vuc29yO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIHVzZVN5bnRoZXRpY0xpc3RlbmVycyhsaXN0ZW5lcnMsIGlkKSB7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gbGlzdGVuZXJzLnJlZHVjZSgoYWNjLCBfcmVmKSA9PiB7XG4gICAgICBsZXQge1xuICAgICAgICBldmVudE5hbWUsXG4gICAgICAgIGhhbmRsZXJcbiAgICAgIH0gPSBfcmVmO1xuXG4gICAgICBhY2NbZXZlbnROYW1lXSA9IGV2ZW50ID0+IHtcbiAgICAgICAgaGFuZGxlcihldmVudCwgaWQpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gIH0sIFtsaXN0ZW5lcnMsIGlkXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVdpbmRvd1JlY3QoZWxlbWVudCkge1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiBlbGVtZW50ID8gZ2V0V2luZG93Q2xpZW50UmVjdChlbGVtZW50KSA6IG51bGwsIFtlbGVtZW50XSk7XG59XG5cbmNvbnN0IGRlZmF1bHRWYWx1ZSQyID0gW107XG5mdW5jdGlvbiB1c2VSZWN0cyhlbGVtZW50cywgbWVhc3VyZSkge1xuICBpZiAobWVhc3VyZSA9PT0gdm9pZCAwKSB7XG4gICAgbWVhc3VyZSA9IGdldENsaWVudFJlY3Q7XG4gIH1cblxuICBjb25zdCBbZmlyc3RFbGVtZW50XSA9IGVsZW1lbnRzO1xuICBjb25zdCB3aW5kb3dSZWN0ID0gdXNlV2luZG93UmVjdChmaXJzdEVsZW1lbnQgPyBnZXRXaW5kb3coZmlyc3RFbGVtZW50KSA6IG51bGwpO1xuICBjb25zdCBbcmVjdHMsIHNldFJlY3RzXSA9IHVzZVN0YXRlKGRlZmF1bHRWYWx1ZSQyKTtcblxuICBmdW5jdGlvbiBtZWFzdXJlUmVjdHMoKSB7XG4gICAgc2V0UmVjdHMoKCkgPT4ge1xuICAgICAgaWYgKCFlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSQyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWxlbWVudHMubWFwKGVsZW1lbnQgPT4gaXNEb2N1bWVudFNjcm9sbGluZ0VsZW1lbnQoZWxlbWVudCkgPyB3aW5kb3dSZWN0IDogbmV3IFJlY3QobWVhc3VyZShlbGVtZW50KSwgZWxlbWVudCkpO1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSB1c2VSZXNpemVPYnNlcnZlcih7XG4gICAgY2FsbGJhY2s6IG1lYXN1cmVSZWN0c1xuICB9KTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgcmVzaXplT2JzZXJ2ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICBtZWFzdXJlUmVjdHMoKTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4gcmVzaXplT2JzZXJ2ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudCkpO1xuICB9LCBbZWxlbWVudHNdKTtcbiAgcmV0dXJuIHJlY3RzO1xufVxuXG5mdW5jdGlvbiBnZXRNZWFzdXJhYmxlTm9kZShub2RlKSB7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgY29uc3QgZmlyc3RDaGlsZCA9IG5vZGUuY2hpbGRyZW5bMF07XG4gIHJldHVybiBpc0hUTUxFbGVtZW50KGZpcnN0Q2hpbGQpID8gZmlyc3RDaGlsZCA6IG5vZGU7XG59XG5cbmZ1bmN0aW9uIHVzZURyYWdPdmVybGF5TWVhc3VyaW5nKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBtZWFzdXJlXG4gIH0gPSBfcmVmO1xuICBjb25zdCBbcmVjdCwgc2V0UmVjdF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgaGFuZGxlUmVzaXplID0gdXNlQ2FsbGJhY2soZW50cmllcyA9PiB7XG4gICAgZm9yIChjb25zdCB7XG4gICAgICB0YXJnZXRcbiAgICB9IG9mIGVudHJpZXMpIHtcbiAgICAgIGlmIChpc0hUTUxFbGVtZW50KHRhcmdldCkpIHtcbiAgICAgICAgc2V0UmVjdChyZWN0ID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdSZWN0ID0gbWVhc3VyZSh0YXJnZXQpO1xuICAgICAgICAgIHJldHVybiByZWN0ID8geyAuLi5yZWN0LFxuICAgICAgICAgICAgd2lkdGg6IG5ld1JlY3Qud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IG5ld1JlY3QuaGVpZ2h0XG4gICAgICAgICAgfSA6IG5ld1JlY3Q7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0sIFttZWFzdXJlXSk7XG4gIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gdXNlUmVzaXplT2JzZXJ2ZXIoe1xuICAgIGNhbGxiYWNrOiBoYW5kbGVSZXNpemVcbiAgfSk7XG4gIGNvbnN0IGhhbmRsZU5vZGVDaGFuZ2UgPSB1c2VDYWxsYmFjayhlbGVtZW50ID0+IHtcbiAgICBjb25zdCBub2RlID0gZ2V0TWVhc3VyYWJsZU5vZGUoZWxlbWVudCk7XG4gICAgcmVzaXplT2JzZXJ2ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblxuICAgIGlmIChub2RlKSB7XG4gICAgICByZXNpemVPYnNlcnZlciA9PSBudWxsID8gdm9pZCAwIDogcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShub2RlKTtcbiAgICB9XG5cbiAgICBzZXRSZWN0KG5vZGUgPyBtZWFzdXJlKG5vZGUpIDogbnVsbCk7XG4gIH0sIFttZWFzdXJlLCByZXNpemVPYnNlcnZlcl0pO1xuICBjb25zdCBbbm9kZVJlZiwgc2V0UmVmXSA9IHVzZU5vZGVSZWYoaGFuZGxlTm9kZUNoYW5nZSk7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgbm9kZVJlZixcbiAgICByZWN0LFxuICAgIHNldFJlZlxuICB9KSwgW3JlY3QsIG5vZGVSZWYsIHNldFJlZl0pO1xufVxuXG5jb25zdCBkZWZhdWx0U2Vuc29ycyA9IFt7XG4gIHNlbnNvcjogUG9pbnRlclNlbnNvcixcbiAgb3B0aW9uczoge31cbn0sIHtcbiAgc2Vuc29yOiBLZXlib2FyZFNlbnNvcixcbiAgb3B0aW9uczoge31cbn1dO1xuY29uc3QgZGVmYXVsdERhdGEgPSB7XG4gIGN1cnJlbnQ6IHt9XG59O1xuY29uc3QgZGVmYXVsdE1lYXN1cmluZ0NvbmZpZ3VyYXRpb24gPSB7XG4gIGRyYWdnYWJsZToge1xuICAgIG1lYXN1cmU6IGdldFRyYW5zZm9ybUFnbm9zdGljQ2xpZW50UmVjdFxuICB9LFxuICBkcm9wcGFibGU6IHtcbiAgICBtZWFzdXJlOiBnZXRUcmFuc2Zvcm1BZ25vc3RpY0NsaWVudFJlY3QsXG4gICAgc3RyYXRlZ3k6IE1lYXN1cmluZ1N0cmF0ZWd5LldoaWxlRHJhZ2dpbmcsXG4gICAgZnJlcXVlbmN5OiBNZWFzdXJpbmdGcmVxdWVuY3kuT3B0aW1pemVkXG4gIH0sXG4gIGRyYWdPdmVybGF5OiB7XG4gICAgbWVhc3VyZTogZ2V0Q2xpZW50UmVjdFxuICB9XG59O1xuXG5jbGFzcyBEcm9wcGFibGVDb250YWluZXJzTWFwIGV4dGVuZHMgTWFwIHtcbiAgZ2V0KGlkKSB7XG4gICAgdmFyIF9zdXBlciRnZXQ7XG5cbiAgICByZXR1cm4gaWQgIT0gbnVsbCA/IChfc3VwZXIkZ2V0ID0gc3VwZXIuZ2V0KGlkKSkgIT0gbnVsbCA/IF9zdXBlciRnZXQgOiB1bmRlZmluZWQgOiB1bmRlZmluZWQ7XG4gIH1cblxuICB0b0FycmF5KCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudmFsdWVzKCkpO1xuICB9XG5cbiAgZ2V0RW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy50b0FycmF5KCkuZmlsdGVyKF9yZWYgPT4ge1xuICAgICAgbGV0IHtcbiAgICAgICAgZGlzYWJsZWRcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgcmV0dXJuICFkaXNhYmxlZDtcbiAgICB9KTtcbiAgfVxuXG4gIGdldE5vZGVGb3IoaWQpIHtcbiAgICB2YXIgX3RoaXMkZ2V0JG5vZGUkY3VycmVuLCBfdGhpcyRnZXQ7XG5cbiAgICByZXR1cm4gKF90aGlzJGdldCRub2RlJGN1cnJlbiA9IChfdGhpcyRnZXQgPSB0aGlzLmdldChpZCkpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRnZXQubm9kZS5jdXJyZW50KSAhPSBudWxsID8gX3RoaXMkZ2V0JG5vZGUkY3VycmVuIDogdW5kZWZpbmVkO1xuICB9XG5cbn1cblxuY29uc3QgZGVmYXVsdFB1YmxpY0NvbnRleHQgPSB7XG4gIGFjdGl2YXRvckV2ZW50OiBudWxsLFxuICBhY3RpdmU6IG51bGwsXG4gIGFjdGl2ZU5vZGU6IG51bGwsXG4gIGFjdGl2ZU5vZGVSZWN0OiBudWxsLFxuICBjb2xsaXNpb25zOiBudWxsLFxuICBjb250YWluZXJOb2RlUmVjdDogbnVsbCxcbiAgZHJhZ2dhYmxlTm9kZXM6IC8qI19fUFVSRV9fKi9uZXcgTWFwKCksXG4gIGRyb3BwYWJsZVJlY3RzOiAvKiNfX1BVUkVfXyovbmV3IE1hcCgpLFxuICBkcm9wcGFibGVDb250YWluZXJzOiAvKiNfX1BVUkVfXyovbmV3IERyb3BwYWJsZUNvbnRhaW5lcnNNYXAoKSxcbiAgb3ZlcjogbnVsbCxcbiAgZHJhZ092ZXJsYXk6IHtcbiAgICBub2RlUmVmOiB7XG4gICAgICBjdXJyZW50OiBudWxsXG4gICAgfSxcbiAgICByZWN0OiBudWxsLFxuICAgIHNldFJlZjogbm9vcFxuICB9LFxuICBzY3JvbGxhYmxlQW5jZXN0b3JzOiBbXSxcbiAgc2Nyb2xsYWJsZUFuY2VzdG9yUmVjdHM6IFtdLFxuICBtZWFzdXJpbmdDb25maWd1cmF0aW9uOiBkZWZhdWx0TWVhc3VyaW5nQ29uZmlndXJhdGlvbixcbiAgbWVhc3VyZURyb3BwYWJsZUNvbnRhaW5lcnM6IG5vb3AsXG4gIHdpbmRvd1JlY3Q6IG51bGwsXG4gIG1lYXN1cmluZ1NjaGVkdWxlZDogZmFsc2Vcbn07XG5jb25zdCBkZWZhdWx0SW50ZXJuYWxDb250ZXh0ID0ge1xuICBhY3RpdmF0b3JFdmVudDogbnVsbCxcbiAgYWN0aXZhdG9yczogW10sXG4gIGFjdGl2ZTogbnVsbCxcbiAgYWN0aXZlTm9kZVJlY3Q6IG51bGwsXG4gIGFyaWFEZXNjcmliZWRCeUlkOiB7XG4gICAgZHJhZ2dhYmxlOiAnJ1xuICB9LFxuICBkaXNwYXRjaDogbm9vcCxcbiAgZHJhZ2dhYmxlTm9kZXM6IC8qI19fUFVSRV9fKi9uZXcgTWFwKCksXG4gIG92ZXI6IG51bGwsXG4gIG1lYXN1cmVEcm9wcGFibGVDb250YWluZXJzOiBub29wXG59O1xuY29uc3QgSW50ZXJuYWxDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQoZGVmYXVsdEludGVybmFsQ29udGV4dCk7XG5jb25zdCBQdWJsaWNDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQoZGVmYXVsdFB1YmxpY0NvbnRleHQpO1xuXG5mdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gIHJldHVybiB7XG4gICAgZHJhZ2dhYmxlOiB7XG4gICAgICBhY3RpdmU6IG51bGwsXG4gICAgICBpbml0aWFsQ29vcmRpbmF0ZXM6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgICAgfSxcbiAgICAgIG5vZGVzOiBuZXcgTWFwKCksXG4gICAgICB0cmFuc2xhdGU6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgICAgfVxuICAgIH0sXG4gICAgZHJvcHBhYmxlOiB7XG4gICAgICBjb250YWluZXJzOiBuZXcgRHJvcHBhYmxlQ29udGFpbmVyc01hcCgpXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFjdGlvbi5EcmFnU3RhcnQ6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgZHJhZ2dhYmxlOiB7IC4uLnN0YXRlLmRyYWdnYWJsZSxcbiAgICAgICAgICBpbml0aWFsQ29vcmRpbmF0ZXM6IGFjdGlvbi5pbml0aWFsQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgYWN0aXZlOiBhY3Rpb24uYWN0aXZlXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlIEFjdGlvbi5EcmFnTW92ZTpcbiAgICAgIGlmIChzdGF0ZS5kcmFnZ2FibGUuYWN0aXZlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgZHJhZ2dhYmxlOiB7IC4uLnN0YXRlLmRyYWdnYWJsZSxcbiAgICAgICAgICB0cmFuc2xhdGU6IHtcbiAgICAgICAgICAgIHg6IGFjdGlvbi5jb29yZGluYXRlcy54IC0gc3RhdGUuZHJhZ2dhYmxlLmluaXRpYWxDb29yZGluYXRlcy54LFxuICAgICAgICAgICAgeTogYWN0aW9uLmNvb3JkaW5hdGVzLnkgLSBzdGF0ZS5kcmFnZ2FibGUuaW5pdGlhbENvb3JkaW5hdGVzLnlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlIEFjdGlvbi5EcmFnRW5kOlxuICAgIGNhc2UgQWN0aW9uLkRyYWdDYW5jZWw6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgZHJhZ2dhYmxlOiB7IC4uLnN0YXRlLmRyYWdnYWJsZSxcbiAgICAgICAgICBhY3RpdmU6IG51bGwsXG4gICAgICAgICAgaW5pdGlhbENvb3JkaW5hdGVzOiB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJhbnNsYXRlOiB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgQWN0aW9uLlJlZ2lzdGVyRHJvcHBhYmxlOlxuICAgICAge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgZWxlbWVudFxuICAgICAgICB9ID0gYWN0aW9uO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSA9IGVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcnMgPSBuZXcgRHJvcHBhYmxlQ29udGFpbmVyc01hcChzdGF0ZS5kcm9wcGFibGUuY29udGFpbmVycyk7XG4gICAgICAgIGNvbnRhaW5lcnMuc2V0KGlkLCBlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgICAgZHJvcHBhYmxlOiB7IC4uLnN0YXRlLmRyb3BwYWJsZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcnNcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICBjYXNlIEFjdGlvbi5TZXREcm9wcGFibGVEaXNhYmxlZDpcbiAgICAgIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICB9ID0gYWN0aW9uO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gc3RhdGUuZHJvcHBhYmxlLmNvbnRhaW5lcnMuZ2V0KGlkKTtcblxuICAgICAgICBpZiAoIWVsZW1lbnQgfHwga2V5ICE9PSBlbGVtZW50LmtleSkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcnMgPSBuZXcgRHJvcHBhYmxlQ29udGFpbmVyc01hcChzdGF0ZS5kcm9wcGFibGUuY29udGFpbmVycyk7XG4gICAgICAgIGNvbnRhaW5lcnMuc2V0KGlkLCB7IC4uLmVsZW1lbnQsXG4gICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgIGRyb3BwYWJsZTogeyAuLi5zdGF0ZS5kcm9wcGFibGUsXG4gICAgICAgICAgICBjb250YWluZXJzXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgY2FzZSBBY3Rpb24uVW5yZWdpc3RlckRyb3BwYWJsZTpcbiAgICAgIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGtleVxuICAgICAgICB9ID0gYWN0aW9uO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gc3RhdGUuZHJvcHBhYmxlLmNvbnRhaW5lcnMuZ2V0KGlkKTtcblxuICAgICAgICBpZiAoIWVsZW1lbnQgfHwga2V5ICE9PSBlbGVtZW50LmtleSkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcnMgPSBuZXcgRHJvcHBhYmxlQ29udGFpbmVyc01hcChzdGF0ZS5kcm9wcGFibGUuY29udGFpbmVycyk7XG4gICAgICAgIGNvbnRhaW5lcnMuZGVsZXRlKGlkKTtcbiAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgICAgZHJvcHBhYmxlOiB7IC4uLnN0YXRlLmRyb3BwYWJsZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcnNcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gUmVzdG9yZUZvY3VzKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBkaXNhYmxlZFxuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZSxcbiAgICBhY3RpdmF0b3JFdmVudCxcbiAgICBkcmFnZ2FibGVOb2Rlc1xuICB9ID0gdXNlQ29udGV4dChJbnRlcm5hbENvbnRleHQpO1xuICBjb25zdCBwcmV2aW91c0FjdGl2YXRvckV2ZW50ID0gdXNlUHJldmlvdXMoYWN0aXZhdG9yRXZlbnQpO1xuICBjb25zdCBwcmV2aW91c0FjdGl2ZUlkID0gdXNlUHJldmlvdXMoYWN0aXZlID09IG51bGwgPyB2b2lkIDAgOiBhY3RpdmUuaWQpOyAvLyBSZXN0b3JlIGtleWJvYXJkIGZvY3VzIG9uIHRoZSBhY3RpdmF0b3Igbm9kZVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFhY3RpdmF0b3JFdmVudCAmJiBwcmV2aW91c0FjdGl2YXRvckV2ZW50ICYmIHByZXZpb3VzQWN0aXZlSWQgIT0gbnVsbCkge1xuICAgICAgaWYgKCFpc0tleWJvYXJkRXZlbnQocHJldmlvdXNBY3RpdmF0b3JFdmVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gcHJldmlvdXNBY3RpdmF0b3JFdmVudC50YXJnZXQpIHtcbiAgICAgICAgLy8gTm8gbmVlZCB0byByZXN0b3JlIGZvY3VzXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZHJhZ2dhYmxlTm9kZSA9IGRyYWdnYWJsZU5vZGVzLmdldChwcmV2aW91c0FjdGl2ZUlkKTtcblxuICAgICAgaWYgKCFkcmFnZ2FibGVOb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qge1xuICAgICAgICBhY3RpdmF0b3JOb2RlLFxuICAgICAgICBub2RlXG4gICAgICB9ID0gZHJhZ2dhYmxlTm9kZTtcblxuICAgICAgaWYgKCFhY3RpdmF0b3JOb2RlLmN1cnJlbnQgJiYgIW5vZGUuY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBbYWN0aXZhdG9yTm9kZS5jdXJyZW50LCBub2RlLmN1cnJlbnRdKSB7XG4gICAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBmb2N1c2FibGVOb2RlID0gZmluZEZpcnN0Rm9jdXNhYmxlTm9kZShlbGVtZW50KTtcblxuICAgICAgICAgIGlmIChmb2N1c2FibGVOb2RlKSB7XG4gICAgICAgICAgICBmb2N1c2FibGVOb2RlLmZvY3VzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FjdGl2YXRvckV2ZW50LCBkaXNhYmxlZCwgZHJhZ2dhYmxlTm9kZXMsIHByZXZpb3VzQWN0aXZlSWQsIHByZXZpb3VzQWN0aXZhdG9yRXZlbnRdKTtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGFwcGx5TW9kaWZpZXJzKG1vZGlmaWVycywgX3JlZikge1xuICBsZXQge1xuICAgIHRyYW5zZm9ybSxcbiAgICAuLi5hcmdzXG4gIH0gPSBfcmVmO1xuICByZXR1cm4gbW9kaWZpZXJzICE9IG51bGwgJiYgbW9kaWZpZXJzLmxlbmd0aCA/IG1vZGlmaWVycy5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBtb2RpZmllcikgPT4ge1xuICAgIHJldHVybiBtb2RpZmllcih7XG4gICAgICB0cmFuc2Zvcm06IGFjY3VtdWxhdG9yLFxuICAgICAgLi4uYXJnc1xuICAgIH0pO1xuICB9LCB0cmFuc2Zvcm0pIDogdHJhbnNmb3JtO1xufVxuXG5mdW5jdGlvbiB1c2VNZWFzdXJpbmdDb25maWd1cmF0aW9uKGNvbmZpZykge1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgIGRyYWdnYWJsZTogeyAuLi5kZWZhdWx0TWVhc3VyaW5nQ29uZmlndXJhdGlvbi5kcmFnZ2FibGUsXG4gICAgICAuLi4oY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcuZHJhZ2dhYmxlKVxuICAgIH0sXG4gICAgZHJvcHBhYmxlOiB7IC4uLmRlZmF1bHRNZWFzdXJpbmdDb25maWd1cmF0aW9uLmRyb3BwYWJsZSxcbiAgICAgIC4uLihjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5kcm9wcGFibGUpXG4gICAgfSxcbiAgICBkcmFnT3ZlcmxheTogeyAuLi5kZWZhdWx0TWVhc3VyaW5nQ29uZmlndXJhdGlvbi5kcmFnT3ZlcmxheSxcbiAgICAgIC4uLihjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5kcmFnT3ZlcmxheSlcbiAgICB9XG4gIH0pLCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIFtjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5kcmFnZ2FibGUsIGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLmRyb3BwYWJsZSwgY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcuZHJhZ092ZXJsYXldKTtcbn1cblxuZnVuY3Rpb24gdXNlTGF5b3V0U2hpZnRTY3JvbGxDb21wZW5zYXRpb24oX3JlZikge1xuICBsZXQge1xuICAgIGFjdGl2ZU5vZGUsXG4gICAgbWVhc3VyZSxcbiAgICBpbml0aWFsUmVjdCxcbiAgICBjb25maWcgPSB0cnVlXG4gIH0gPSBfcmVmO1xuICBjb25zdCBpbml0aWFsaXplZCA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHtcbiAgICB4LFxuICAgIHlcbiAgfSA9IHR5cGVvZiBjb25maWcgPT09ICdib29sZWFuJyA/IHtcbiAgICB4OiBjb25maWcsXG4gICAgeTogY29uZmlnXG4gIH0gOiBjb25maWc7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGRpc2FibGVkID0gIXggJiYgIXk7XG5cbiAgICBpZiAoZGlzYWJsZWQgfHwgIWFjdGl2ZU5vZGUpIHtcbiAgICAgIGluaXRpYWxpemVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW5pdGlhbGl6ZWQuY3VycmVudCB8fCAhaW5pdGlhbFJlY3QpIHtcbiAgICAgIC8vIFJldHVybiBlYXJseSBpZiBsYXlvdXQgc2hpZnQgc2Nyb2xsIGNvbXBlbnNhdGlvbiB3YXMgYWxyZWFkeSBhdHRlbXB0ZWRcbiAgICAgIC8vIG9yIGlmIHRoZXJlIGlzIG5vIGluaXRpYWxSZWN0IHRvIGNvbXBhcmUgdG8uXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBHZXQgdGhlIG1vc3QgdXAgdG8gZGF0ZSBub2RlIHJlZiBmb3IgdGhlIGFjdGl2ZSBkcmFnZ2FibGVcblxuXG4gICAgY29uc3Qgbm9kZSA9IGFjdGl2ZU5vZGUgPT0gbnVsbCA/IHZvaWQgMCA6IGFjdGl2ZU5vZGUubm9kZS5jdXJyZW50O1xuXG4gICAgaWYgKCFub2RlIHx8IG5vZGUuaXNDb25uZWN0ZWQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBSZXR1cm4gZWFybHkgaWYgdGhlcmUgaXMgbm8gYXR0YWNoZWQgbm9kZSByZWYgb3IgaWYgdGhlIG5vZGUgaXNcbiAgICAgIC8vIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBkb2N1bWVudC5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZWN0ID0gbWVhc3VyZShub2RlKTtcbiAgICBjb25zdCByZWN0RGVsdGEgPSBnZXRSZWN0RGVsdGEocmVjdCwgaW5pdGlhbFJlY3QpO1xuXG4gICAgaWYgKCF4KSB7XG4gICAgICByZWN0RGVsdGEueCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF5KSB7XG4gICAgICByZWN0RGVsdGEueSA9IDA7XG4gICAgfSAvLyBPbmx5IHBlcmZvcm0gbGF5b3V0IHNoaWZ0IHNjcm9sbCBjb21wZW5zYXRpb24gb25jZVxuXG5cbiAgICBpbml0aWFsaXplZC5jdXJyZW50ID0gdHJ1ZTtcblxuICAgIGlmIChNYXRoLmFicyhyZWN0RGVsdGEueCkgPiAwIHx8IE1hdGguYWJzKHJlY3REZWx0YS55KSA+IDApIHtcbiAgICAgIGNvbnN0IGZpcnN0U2Nyb2xsYWJsZUFuY2VzdG9yID0gZ2V0Rmlyc3RTY3JvbGxhYmxlQW5jZXN0b3Iobm9kZSk7XG5cbiAgICAgIGlmIChmaXJzdFNjcm9sbGFibGVBbmNlc3Rvcikge1xuICAgICAgICBmaXJzdFNjcm9sbGFibGVBbmNlc3Rvci5zY3JvbGxCeSh7XG4gICAgICAgICAgdG9wOiByZWN0RGVsdGEueSxcbiAgICAgICAgICBsZWZ0OiByZWN0RGVsdGEueFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFthY3RpdmVOb2RlLCB4LCB5LCBpbml0aWFsUmVjdCwgbWVhc3VyZV0pO1xufVxuXG5jb25zdCBBY3RpdmVEcmFnZ2FibGVDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQoeyAuLi5kZWZhdWx0Q29vcmRpbmF0ZXMsXG4gIHNjYWxlWDogMSxcbiAgc2NhbGVZOiAxXG59KTtcbnZhciBTdGF0dXM7XG5cbihmdW5jdGlvbiAoU3RhdHVzKSB7XG4gIFN0YXR1c1tTdGF0dXNbXCJVbmluaXRpYWxpemVkXCJdID0gMF0gPSBcIlVuaW5pdGlhbGl6ZWRcIjtcbiAgU3RhdHVzW1N0YXR1c1tcIkluaXRpYWxpemluZ1wiXSA9IDFdID0gXCJJbml0aWFsaXppbmdcIjtcbiAgU3RhdHVzW1N0YXR1c1tcIkluaXRpYWxpemVkXCJdID0gMl0gPSBcIkluaXRpYWxpemVkXCI7XG59KShTdGF0dXMgfHwgKFN0YXR1cyA9IHt9KSk7XG5cbmNvbnN0IERuZENvbnRleHQgPSAvKiNfX1BVUkVfXyovbWVtbyhmdW5jdGlvbiBEbmRDb250ZXh0KF9yZWYpIHtcbiAgdmFyIF9zZW5zb3JDb250ZXh0JGN1cnJlbiwgX2RyYWdPdmVybGF5JG5vZGVSZWYkLCBfZHJhZ092ZXJsYXkkcmVjdCwgX292ZXIkcmVjdDtcblxuICBsZXQge1xuICAgIGlkLFxuICAgIGFjY2Vzc2liaWxpdHksXG4gICAgYXV0b1Njcm9sbCA9IHRydWUsXG4gICAgY2hpbGRyZW4sXG4gICAgc2Vuc29ycyA9IGRlZmF1bHRTZW5zb3JzLFxuICAgIGNvbGxpc2lvbkRldGVjdGlvbiA9IHJlY3RJbnRlcnNlY3Rpb24sXG4gICAgbWVhc3VyaW5nLFxuICAgIG1vZGlmaWVycyxcbiAgICAuLi5wcm9wc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qgc3RvcmUgPSB1c2VSZWR1Y2VyKHJlZHVjZXIsIHVuZGVmaW5lZCwgZ2V0SW5pdGlhbFN0YXRlKTtcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSBzdG9yZTtcbiAgY29uc3QgW2Rpc3BhdGNoTW9uaXRvckV2ZW50LCByZWdpc3Rlck1vbml0b3JMaXN0ZW5lcl0gPSB1c2VEbmRNb25pdG9yUHJvdmlkZXIoKTtcbiAgY29uc3QgW3N0YXR1cywgc2V0U3RhdHVzXSA9IHVzZVN0YXRlKFN0YXR1cy5VbmluaXRpYWxpemVkKTtcbiAgY29uc3QgaXNJbml0aWFsaXplZCA9IHN0YXR1cyA9PT0gU3RhdHVzLkluaXRpYWxpemVkO1xuICBjb25zdCB7XG4gICAgZHJhZ2dhYmxlOiB7XG4gICAgICBhY3RpdmU6IGFjdGl2ZUlkLFxuICAgICAgbm9kZXM6IGRyYWdnYWJsZU5vZGVzLFxuICAgICAgdHJhbnNsYXRlXG4gICAgfSxcbiAgICBkcm9wcGFibGU6IHtcbiAgICAgIGNvbnRhaW5lcnM6IGRyb3BwYWJsZUNvbnRhaW5lcnNcbiAgICB9XG4gIH0gPSBzdGF0ZTtcbiAgY29uc3Qgbm9kZSA9IGFjdGl2ZUlkICE9IG51bGwgPyBkcmFnZ2FibGVOb2Rlcy5nZXQoYWN0aXZlSWQpIDogbnVsbDtcbiAgY29uc3QgYWN0aXZlUmVjdHMgPSB1c2VSZWYoe1xuICAgIGluaXRpYWw6IG51bGwsXG4gICAgdHJhbnNsYXRlZDogbnVsbFxuICB9KTtcbiAgY29uc3QgYWN0aXZlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgdmFyIF9ub2RlJGRhdGE7XG5cbiAgICByZXR1cm4gYWN0aXZlSWQgIT0gbnVsbCA/IHtcbiAgICAgIGlkOiBhY3RpdmVJZCxcbiAgICAgIC8vIEl0J3MgcG9zc2libGUgZm9yIHRoZSBhY3RpdmUgbm9kZSB0byB1bm1vdW50IHdoaWxlIGRyYWdnaW5nXG4gICAgICBkYXRhOiAoX25vZGUkZGF0YSA9IG5vZGUgPT0gbnVsbCA/IHZvaWQgMCA6IG5vZGUuZGF0YSkgIT0gbnVsbCA/IF9ub2RlJGRhdGEgOiBkZWZhdWx0RGF0YSxcbiAgICAgIHJlY3Q6IGFjdGl2ZVJlY3RzXG4gICAgfSA6IG51bGw7XG4gIH0sIFthY3RpdmVJZCwgbm9kZV0pO1xuICBjb25zdCBhY3RpdmVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFthY3RpdmVTZW5zb3IsIHNldEFjdGl2ZVNlbnNvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2FjdGl2YXRvckV2ZW50LCBzZXRBY3RpdmF0b3JFdmVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgbGF0ZXN0UHJvcHMgPSB1c2VMYXRlc3RWYWx1ZShwcm9wcywgT2JqZWN0LnZhbHVlcyhwcm9wcykpO1xuICBjb25zdCBkcmFnZ2FibGVEZXNjcmliZWRCeUlkID0gdXNlVW5pcXVlSWQoXCJEbmREZXNjcmliZWRCeVwiLCBpZCk7XG4gIGNvbnN0IGVuYWJsZWREcm9wcGFibGVDb250YWluZXJzID0gdXNlTWVtbygoKSA9PiBkcm9wcGFibGVDb250YWluZXJzLmdldEVuYWJsZWQoKSwgW2Ryb3BwYWJsZUNvbnRhaW5lcnNdKTtcbiAgY29uc3QgbWVhc3VyaW5nQ29uZmlndXJhdGlvbiA9IHVzZU1lYXN1cmluZ0NvbmZpZ3VyYXRpb24obWVhc3VyaW5nKTtcbiAgY29uc3Qge1xuICAgIGRyb3BwYWJsZVJlY3RzLFxuICAgIG1lYXN1cmVEcm9wcGFibGVDb250YWluZXJzLFxuICAgIG1lYXN1cmluZ1NjaGVkdWxlZFxuICB9ID0gdXNlRHJvcHBhYmxlTWVhc3VyaW5nKGVuYWJsZWREcm9wcGFibGVDb250YWluZXJzLCB7XG4gICAgZHJhZ2dpbmc6IGlzSW5pdGlhbGl6ZWQsXG4gICAgZGVwZW5kZW5jaWVzOiBbdHJhbnNsYXRlLngsIHRyYW5zbGF0ZS55XSxcbiAgICBjb25maWc6IG1lYXN1cmluZ0NvbmZpZ3VyYXRpb24uZHJvcHBhYmxlXG4gIH0pO1xuICBjb25zdCBhY3RpdmVOb2RlID0gdXNlQ2FjaGVkTm9kZShkcmFnZ2FibGVOb2RlcywgYWN0aXZlSWQpO1xuICBjb25zdCBhY3RpdmF0aW9uQ29vcmRpbmF0ZXMgPSB1c2VNZW1vKCgpID0+IGFjdGl2YXRvckV2ZW50ID8gZ2V0RXZlbnRDb29yZGluYXRlcyhhY3RpdmF0b3JFdmVudCkgOiBudWxsLCBbYWN0aXZhdG9yRXZlbnRdKTtcbiAgY29uc3QgYXV0b1Njcm9sbE9wdGlvbnMgPSBnZXRBdXRvU2Nyb2xsZXJPcHRpb25zKCk7XG4gIGNvbnN0IGluaXRpYWxBY3RpdmVOb2RlUmVjdCA9IHVzZUluaXRpYWxSZWN0KGFjdGl2ZU5vZGUsIG1lYXN1cmluZ0NvbmZpZ3VyYXRpb24uZHJhZ2dhYmxlLm1lYXN1cmUpO1xuICB1c2VMYXlvdXRTaGlmdFNjcm9sbENvbXBlbnNhdGlvbih7XG4gICAgYWN0aXZlTm9kZTogYWN0aXZlSWQgIT0gbnVsbCA/IGRyYWdnYWJsZU5vZGVzLmdldChhY3RpdmVJZCkgOiBudWxsLFxuICAgIGNvbmZpZzogYXV0b1Njcm9sbE9wdGlvbnMubGF5b3V0U2hpZnRDb21wZW5zYXRpb24sXG4gICAgaW5pdGlhbFJlY3Q6IGluaXRpYWxBY3RpdmVOb2RlUmVjdCxcbiAgICBtZWFzdXJlOiBtZWFzdXJpbmdDb25maWd1cmF0aW9uLmRyYWdnYWJsZS5tZWFzdXJlXG4gIH0pO1xuICBjb25zdCBhY3RpdmVOb2RlUmVjdCA9IHVzZVJlY3QoYWN0aXZlTm9kZSwgbWVhc3VyaW5nQ29uZmlndXJhdGlvbi5kcmFnZ2FibGUubWVhc3VyZSwgaW5pdGlhbEFjdGl2ZU5vZGVSZWN0KTtcbiAgY29uc3QgY29udGFpbmVyTm9kZVJlY3QgPSB1c2VSZWN0KGFjdGl2ZU5vZGUgPyBhY3RpdmVOb2RlLnBhcmVudEVsZW1lbnQgOiBudWxsKTtcbiAgY29uc3Qgc2Vuc29yQ29udGV4dCA9IHVzZVJlZih7XG4gICAgYWN0aXZhdG9yRXZlbnQ6IG51bGwsXG4gICAgYWN0aXZlOiBudWxsLFxuICAgIGFjdGl2ZU5vZGUsXG4gICAgY29sbGlzaW9uUmVjdDogbnVsbCxcbiAgICBjb2xsaXNpb25zOiBudWxsLFxuICAgIGRyb3BwYWJsZVJlY3RzLFxuICAgIGRyYWdnYWJsZU5vZGVzLFxuICAgIGRyYWdnaW5nTm9kZTogbnVsbCxcbiAgICBkcmFnZ2luZ05vZGVSZWN0OiBudWxsLFxuICAgIGRyb3BwYWJsZUNvbnRhaW5lcnMsXG4gICAgb3ZlcjogbnVsbCxcbiAgICBzY3JvbGxhYmxlQW5jZXN0b3JzOiBbXSxcbiAgICBzY3JvbGxBZGp1c3RlZFRyYW5zbGF0ZTogbnVsbFxuICB9KTtcbiAgY29uc3Qgb3Zlck5vZGUgPSBkcm9wcGFibGVDb250YWluZXJzLmdldE5vZGVGb3IoKF9zZW5zb3JDb250ZXh0JGN1cnJlbiA9IHNlbnNvckNvbnRleHQuY3VycmVudC5vdmVyKSA9PSBudWxsID8gdm9pZCAwIDogX3NlbnNvckNvbnRleHQkY3VycmVuLmlkKTtcbiAgY29uc3QgZHJhZ092ZXJsYXkgPSB1c2VEcmFnT3ZlcmxheU1lYXN1cmluZyh7XG4gICAgbWVhc3VyZTogbWVhc3VyaW5nQ29uZmlndXJhdGlvbi5kcmFnT3ZlcmxheS5tZWFzdXJlXG4gIH0pOyAvLyBVc2UgdGhlIHJlY3Qgb2YgdGhlIGRyYWcgb3ZlcmxheSBpZiBpdCBpcyBtb3VudGVkXG5cbiAgY29uc3QgZHJhZ2dpbmdOb2RlID0gKF9kcmFnT3ZlcmxheSRub2RlUmVmJCA9IGRyYWdPdmVybGF5Lm5vZGVSZWYuY3VycmVudCkgIT0gbnVsbCA/IF9kcmFnT3ZlcmxheSRub2RlUmVmJCA6IGFjdGl2ZU5vZGU7XG4gIGNvbnN0IGRyYWdnaW5nTm9kZVJlY3QgPSBpc0luaXRpYWxpemVkID8gKF9kcmFnT3ZlcmxheSRyZWN0ID0gZHJhZ092ZXJsYXkucmVjdCkgIT0gbnVsbCA/IF9kcmFnT3ZlcmxheSRyZWN0IDogYWN0aXZlTm9kZVJlY3QgOiBudWxsO1xuICBjb25zdCB1c2VzRHJhZ092ZXJsYXkgPSBCb29sZWFuKGRyYWdPdmVybGF5Lm5vZGVSZWYuY3VycmVudCAmJiBkcmFnT3ZlcmxheS5yZWN0KTsgLy8gVGhlIGRlbHRhIGJldHdlZW4gdGhlIHByZXZpb3VzIGFuZCBuZXcgcG9zaXRpb24gb2YgdGhlIGRyYWdnYWJsZSBub2RlXG4gIC8vIGlzIG9ubHkgcmVsZXZhbnQgd2hlbiB0aGVyZSBpcyBubyBkcmFnIG92ZXJsYXlcblxuICBjb25zdCBub2RlUmVjdERlbHRhID0gdXNlUmVjdERlbHRhKHVzZXNEcmFnT3ZlcmxheSA/IG51bGwgOiBhY3RpdmVOb2RlUmVjdCk7IC8vIEdldCB0aGUgd2luZG93IHJlY3Qgb2YgdGhlIGRyYWdnaW5nIG5vZGVcblxuICBjb25zdCB3aW5kb3dSZWN0ID0gdXNlV2luZG93UmVjdChkcmFnZ2luZ05vZGUgPyBnZXRXaW5kb3coZHJhZ2dpbmdOb2RlKSA6IG51bGwpOyAvLyBHZXQgc2Nyb2xsYWJsZSBhbmNlc3RvcnMgb2YgdGhlIGRyYWdnaW5nIG5vZGVcblxuICBjb25zdCBzY3JvbGxhYmxlQW5jZXN0b3JzID0gdXNlU2Nyb2xsYWJsZUFuY2VzdG9ycyhpc0luaXRpYWxpemVkID8gb3Zlck5vZGUgIT0gbnVsbCA/IG92ZXJOb2RlIDogYWN0aXZlTm9kZSA6IG51bGwpO1xuICBjb25zdCBzY3JvbGxhYmxlQW5jZXN0b3JSZWN0cyA9IHVzZVJlY3RzKHNjcm9sbGFibGVBbmNlc3RvcnMpOyAvLyBBcHBseSBtb2RpZmllcnNcblxuICBjb25zdCBtb2RpZmllZFRyYW5zbGF0ZSA9IGFwcGx5TW9kaWZpZXJzKG1vZGlmaWVycywge1xuICAgIHRyYW5zZm9ybToge1xuICAgICAgeDogdHJhbnNsYXRlLnggLSBub2RlUmVjdERlbHRhLngsXG4gICAgICB5OiB0cmFuc2xhdGUueSAtIG5vZGVSZWN0RGVsdGEueSxcbiAgICAgIHNjYWxlWDogMSxcbiAgICAgIHNjYWxlWTogMVxuICAgIH0sXG4gICAgYWN0aXZhdG9yRXZlbnQsXG4gICAgYWN0aXZlLFxuICAgIGFjdGl2ZU5vZGVSZWN0LFxuICAgIGNvbnRhaW5lck5vZGVSZWN0LFxuICAgIGRyYWdnaW5nTm9kZVJlY3QsXG4gICAgb3Zlcjogc2Vuc29yQ29udGV4dC5jdXJyZW50Lm92ZXIsXG4gICAgb3ZlcmxheU5vZGVSZWN0OiBkcmFnT3ZlcmxheS5yZWN0LFxuICAgIHNjcm9sbGFibGVBbmNlc3RvcnMsXG4gICAgc2Nyb2xsYWJsZUFuY2VzdG9yUmVjdHMsXG4gICAgd2luZG93UmVjdFxuICB9KTtcbiAgY29uc3QgcG9pbnRlckNvb3JkaW5hdGVzID0gYWN0aXZhdGlvbkNvb3JkaW5hdGVzID8gYWRkKGFjdGl2YXRpb25Db29yZGluYXRlcywgdHJhbnNsYXRlKSA6IG51bGw7XG4gIGNvbnN0IHNjcm9sbE9mZnNldHMgPSB1c2VTY3JvbGxPZmZzZXRzKHNjcm9sbGFibGVBbmNlc3RvcnMpOyAvLyBSZXByZXNlbnRzIHRoZSBzY3JvbGwgZGVsdGEgc2luY2UgZHJhZ2dpbmcgd2FzIGluaXRpYXRlZFxuXG4gIGNvbnN0IHNjcm9sbEFkanVzdG1lbnQgPSB1c2VTY3JvbGxPZmZzZXRzRGVsdGEoc2Nyb2xsT2Zmc2V0cyk7IC8vIFJlcHJlc2VudHMgdGhlIHNjcm9sbCBkZWx0YSBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBhY3RpdmUgbm9kZSByZWN0IHdhcyBtZWFzdXJlZFxuXG4gIGNvbnN0IGFjdGl2ZU5vZGVTY3JvbGxEZWx0YSA9IHVzZVNjcm9sbE9mZnNldHNEZWx0YShzY3JvbGxPZmZzZXRzLCBbYWN0aXZlTm9kZVJlY3RdKTtcbiAgY29uc3Qgc2Nyb2xsQWRqdXN0ZWRUcmFuc2xhdGUgPSBhZGQobW9kaWZpZWRUcmFuc2xhdGUsIHNjcm9sbEFkanVzdG1lbnQpO1xuICBjb25zdCBjb2xsaXNpb25SZWN0ID0gZHJhZ2dpbmdOb2RlUmVjdCA/IGdldEFkanVzdGVkUmVjdChkcmFnZ2luZ05vZGVSZWN0LCBtb2RpZmllZFRyYW5zbGF0ZSkgOiBudWxsO1xuICBjb25zdCBjb2xsaXNpb25zID0gYWN0aXZlICYmIGNvbGxpc2lvblJlY3QgPyBjb2xsaXNpb25EZXRlY3Rpb24oe1xuICAgIGFjdGl2ZSxcbiAgICBjb2xsaXNpb25SZWN0LFxuICAgIGRyb3BwYWJsZVJlY3RzLFxuICAgIGRyb3BwYWJsZUNvbnRhaW5lcnM6IGVuYWJsZWREcm9wcGFibGVDb250YWluZXJzLFxuICAgIHBvaW50ZXJDb29yZGluYXRlc1xuICB9KSA6IG51bGw7XG4gIGNvbnN0IG92ZXJJZCA9IGdldEZpcnN0Q29sbGlzaW9uKGNvbGxpc2lvbnMsICdpZCcpO1xuICBjb25zdCBbb3Zlciwgc2V0T3Zlcl0gPSB1c2VTdGF0ZShudWxsKTsgLy8gV2hlbiB0aGVyZSBpcyBubyBkcmFnIG92ZXJsYXkgdXNlZCwgd2UgbmVlZCB0byBhY2NvdW50IGZvciB0aGVcbiAgLy8gd2luZG93IHNjcm9sbCBkZWx0YVxuXG4gIGNvbnN0IGFwcGxpZWRUcmFuc2xhdGUgPSB1c2VzRHJhZ092ZXJsYXkgPyBtb2RpZmllZFRyYW5zbGF0ZSA6IGFkZChtb2RpZmllZFRyYW5zbGF0ZSwgYWN0aXZlTm9kZVNjcm9sbERlbHRhKTtcbiAgY29uc3QgdHJhbnNmb3JtID0gYWRqdXN0U2NhbGUoYXBwbGllZFRyYW5zbGF0ZSwgKF9vdmVyJHJlY3QgPSBvdmVyID09IG51bGwgPyB2b2lkIDAgOiBvdmVyLnJlY3QpICE9IG51bGwgPyBfb3ZlciRyZWN0IDogbnVsbCwgYWN0aXZlTm9kZVJlY3QpO1xuICBjb25zdCBhY3RpdmVTZW5zb3JSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGluc3RhbnRpYXRlU2Vuc29yID0gdXNlQ2FsbGJhY2soKGV2ZW50LCBfcmVmMikgPT4ge1xuICAgIGxldCB7XG4gICAgICBzZW5zb3I6IFNlbnNvcixcbiAgICAgIG9wdGlvbnNcbiAgICB9ID0gX3JlZjI7XG5cbiAgICBpZiAoYWN0aXZlUmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZU5vZGUgPSBkcmFnZ2FibGVOb2Rlcy5nZXQoYWN0aXZlUmVmLmN1cnJlbnQpO1xuXG4gICAgaWYgKCFhY3RpdmVOb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZhdG9yRXZlbnQgPSBldmVudC5uYXRpdmVFdmVudDtcbiAgICBjb25zdCBzZW5zb3JJbnN0YW5jZSA9IG5ldyBTZW5zb3Ioe1xuICAgICAgYWN0aXZlOiBhY3RpdmVSZWYuY3VycmVudCxcbiAgICAgIGFjdGl2ZU5vZGUsXG4gICAgICBldmVudDogYWN0aXZhdG9yRXZlbnQsXG4gICAgICBvcHRpb25zLFxuICAgICAgLy8gU2Vuc29ycyBuZWVkIHRvIGJlIGluc3RhbnRpYXRlZCB3aXRoIHJlZnMgZm9yIGFyZ3VtZW50cyB0aGF0IGNoYW5nZSBvdmVyIHRpbWVcbiAgICAgIC8vIG90aGVyd2lzZSB0aGV5IGFyZSBmcm96ZW4gaW4gdGltZSB3aXRoIHRoZSBzdGFsZSBhcmd1bWVudHNcbiAgICAgIGNvbnRleHQ6IHNlbnNvckNvbnRleHQsXG5cbiAgICAgIG9uQWJvcnQoaWQpIHtcbiAgICAgICAgY29uc3QgZHJhZ2dhYmxlTm9kZSA9IGRyYWdnYWJsZU5vZGVzLmdldChpZCk7XG5cbiAgICAgICAgaWYgKCFkcmFnZ2FibGVOb2RlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIG9uRHJhZ0Fib3J0XG4gICAgICAgIH0gPSBsYXRlc3RQcm9wcy5jdXJyZW50O1xuICAgICAgICBjb25zdCBldmVudCA9IHtcbiAgICAgICAgICBpZFxuICAgICAgICB9O1xuICAgICAgICBvbkRyYWdBYm9ydCA9PSBudWxsID8gdm9pZCAwIDogb25EcmFnQWJvcnQoZXZlbnQpO1xuICAgICAgICBkaXNwYXRjaE1vbml0b3JFdmVudCh7XG4gICAgICAgICAgdHlwZTogJ29uRHJhZ0Fib3J0JyxcbiAgICAgICAgICBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIG9uUGVuZGluZyhpZCwgY29uc3RyYWludCwgaW5pdGlhbENvb3JkaW5hdGVzLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgZHJhZ2dhYmxlTm9kZSA9IGRyYWdnYWJsZU5vZGVzLmdldChpZCk7XG5cbiAgICAgICAgaWYgKCFkcmFnZ2FibGVOb2RlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIG9uRHJhZ1BlbmRpbmdcbiAgICAgICAgfSA9IGxhdGVzdFByb3BzLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGNvbnN0cmFpbnQsXG4gICAgICAgICAgaW5pdGlhbENvb3JkaW5hdGVzLFxuICAgICAgICAgIG9mZnNldFxuICAgICAgICB9O1xuICAgICAgICBvbkRyYWdQZW5kaW5nID09IG51bGwgPyB2b2lkIDAgOiBvbkRyYWdQZW5kaW5nKGV2ZW50KTtcbiAgICAgICAgZGlzcGF0Y2hNb25pdG9yRXZlbnQoe1xuICAgICAgICAgIHR5cGU6ICdvbkRyYWdQZW5kaW5nJyxcbiAgICAgICAgICBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIG9uU3RhcnQoaW5pdGlhbENvb3JkaW5hdGVzKSB7XG4gICAgICAgIGNvbnN0IGlkID0gYWN0aXZlUmVmLmN1cnJlbnQ7XG5cbiAgICAgICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkcmFnZ2FibGVOb2RlID0gZHJhZ2dhYmxlTm9kZXMuZ2V0KGlkKTtcblxuICAgICAgICBpZiAoIWRyYWdnYWJsZU5vZGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgb25EcmFnU3RhcnRcbiAgICAgICAgfSA9IGxhdGVzdFByb3BzLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgICAgIGFjdGl2YXRvckV2ZW50LFxuICAgICAgICAgIGFjdGl2ZToge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBkYXRhOiBkcmFnZ2FibGVOb2RlLmRhdGEsXG4gICAgICAgICAgICByZWN0OiBhY3RpdmVSZWN0c1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICAgIG9uRHJhZ1N0YXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkRyYWdTdGFydChldmVudCk7XG4gICAgICAgICAgc2V0U3RhdHVzKFN0YXR1cy5Jbml0aWFsaXppbmcpO1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFjdGlvbi5EcmFnU3RhcnQsXG4gICAgICAgICAgICBpbml0aWFsQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgICBhY3RpdmU6IGlkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGlzcGF0Y2hNb25pdG9yRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ29uRHJhZ1N0YXJ0JyxcbiAgICAgICAgICAgIGV2ZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0QWN0aXZlU2Vuc29yKGFjdGl2ZVNlbnNvclJlZi5jdXJyZW50KTtcbiAgICAgICAgICBzZXRBY3RpdmF0b3JFdmVudChhY3RpdmF0b3JFdmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgb25Nb3ZlKGNvb3JkaW5hdGVzKSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb24uRHJhZ01vdmUsXG4gICAgICAgICAgY29vcmRpbmF0ZXNcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBvbkVuZDogY3JlYXRlSGFuZGxlcihBY3Rpb24uRHJhZ0VuZCksXG4gICAgICBvbkNhbmNlbDogY3JlYXRlSGFuZGxlcihBY3Rpb24uRHJhZ0NhbmNlbClcbiAgICB9KTtcbiAgICBhY3RpdmVTZW5zb3JSZWYuY3VycmVudCA9IHNlbnNvckluc3RhbmNlO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlSGFuZGxlcih0eXBlKSB7XG4gICAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGFjdGl2ZSxcbiAgICAgICAgICBjb2xsaXNpb25zLFxuICAgICAgICAgIG92ZXIsXG4gICAgICAgICAgc2Nyb2xsQWRqdXN0ZWRUcmFuc2xhdGVcbiAgICAgICAgfSA9IHNlbnNvckNvbnRleHQuY3VycmVudDtcbiAgICAgICAgbGV0IGV2ZW50ID0gbnVsbDtcblxuICAgICAgICBpZiAoYWN0aXZlICYmIHNjcm9sbEFkanVzdGVkVHJhbnNsYXRlKSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2FuY2VsRHJvcFxuICAgICAgICAgIH0gPSBsYXRlc3RQcm9wcy5jdXJyZW50O1xuICAgICAgICAgIGV2ZW50ID0ge1xuICAgICAgICAgICAgYWN0aXZhdG9yRXZlbnQsXG4gICAgICAgICAgICBhY3RpdmU6IGFjdGl2ZSxcbiAgICAgICAgICAgIGNvbGxpc2lvbnMsXG4gICAgICAgICAgICBkZWx0YTogc2Nyb2xsQWRqdXN0ZWRUcmFuc2xhdGUsXG4gICAgICAgICAgICBvdmVyXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICh0eXBlID09PSBBY3Rpb24uRHJhZ0VuZCAmJiB0eXBlb2YgY2FuY2VsRHJvcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkQ2FuY2VsID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGNhbmNlbERyb3AoZXZlbnQpKTtcblxuICAgICAgICAgICAgaWYgKHNob3VsZENhbmNlbCkge1xuICAgICAgICAgICAgICB0eXBlID0gQWN0aW9uLkRyYWdDYW5jZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYWN0aXZlUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldFN0YXR1cyhTdGF0dXMuVW5pbml0aWFsaXplZCk7XG4gICAgICAgICAgc2V0T3ZlcihudWxsKTtcbiAgICAgICAgICBzZXRBY3RpdmVTZW5zb3IobnVsbCk7XG4gICAgICAgICAgc2V0QWN0aXZhdG9yRXZlbnQobnVsbCk7XG4gICAgICAgICAgYWN0aXZlU2Vuc29yUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHR5cGUgPT09IEFjdGlvbi5EcmFnRW5kID8gJ29uRHJhZ0VuZCcgOiAnb25EcmFnQ2FuY2VsJztcblxuICAgICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGxhdGVzdFByb3BzLmN1cnJlbnRbZXZlbnROYW1lXTtcbiAgICAgICAgICAgIGhhbmRsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGhhbmRsZXIoZXZlbnQpO1xuICAgICAgICAgICAgZGlzcGF0Y2hNb25pdG9yRXZlbnQoe1xuICAgICAgICAgICAgICB0eXBlOiBldmVudE5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgW2RyYWdnYWJsZU5vZGVzXSk7XG4gIGNvbnN0IGJpbmRBY3RpdmF0b3JUb1NlbnNvckluc3RhbnRpYXRvciA9IHVzZUNhbGxiYWNrKChoYW5kbGVyLCBzZW5zb3IpID0+IHtcbiAgICByZXR1cm4gKGV2ZW50LCBhY3RpdmUpID0+IHtcbiAgICAgIGNvbnN0IG5hdGl2ZUV2ZW50ID0gZXZlbnQubmF0aXZlRXZlbnQ7XG4gICAgICBjb25zdCBhY3RpdmVEcmFnZ2FibGVOb2RlID0gZHJhZ2dhYmxlTm9kZXMuZ2V0KGFjdGl2ZSk7XG5cbiAgICAgIGlmICggLy8gQW5vdGhlciBzZW5zb3IgaXMgYWxyZWFkeSBpbnN0YW50aWF0aW5nXG4gICAgICBhY3RpdmVSZWYuY3VycmVudCAhPT0gbnVsbCB8fCAvLyBObyBhY3RpdmUgZHJhZ2dhYmxlXG4gICAgICAhYWN0aXZlRHJhZ2dhYmxlTm9kZSB8fCAvLyBFdmVudCBoYXMgYWxyZWFkeSBiZWVuIGNhcHR1cmVkXG4gICAgICBuYXRpdmVFdmVudC5kbmRLaXQgfHwgbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjdGl2YXRpb25Db250ZXh0ID0ge1xuICAgICAgICBhY3RpdmU6IGFjdGl2ZURyYWdnYWJsZU5vZGVcbiAgICAgIH07XG4gICAgICBjb25zdCBzaG91bGRBY3RpdmF0ZSA9IGhhbmRsZXIoZXZlbnQsIHNlbnNvci5vcHRpb25zLCBhY3RpdmF0aW9uQ29udGV4dCk7XG5cbiAgICAgIGlmIChzaG91bGRBY3RpdmF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICBuYXRpdmVFdmVudC5kbmRLaXQgPSB7XG4gICAgICAgICAgY2FwdHVyZWRCeTogc2Vuc29yLnNlbnNvclxuICAgICAgICB9O1xuICAgICAgICBhY3RpdmVSZWYuY3VycmVudCA9IGFjdGl2ZTtcbiAgICAgICAgaW5zdGFudGlhdGVTZW5zb3IoZXZlbnQsIHNlbnNvcik7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2RyYWdnYWJsZU5vZGVzLCBpbnN0YW50aWF0ZVNlbnNvcl0pO1xuICBjb25zdCBhY3RpdmF0b3JzID0gdXNlQ29tYmluZUFjdGl2YXRvcnMoc2Vuc29ycywgYmluZEFjdGl2YXRvclRvU2Vuc29ySW5zdGFudGlhdG9yKTtcbiAgdXNlU2Vuc29yU2V0dXAoc2Vuc29ycyk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhY3RpdmVOb2RlUmVjdCAmJiBzdGF0dXMgPT09IFN0YXR1cy5Jbml0aWFsaXppbmcpIHtcbiAgICAgIHNldFN0YXR1cyhTdGF0dXMuSW5pdGlhbGl6ZWQpO1xuICAgIH1cbiAgfSwgW2FjdGl2ZU5vZGVSZWN0LCBzdGF0dXNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBvbkRyYWdNb3ZlXG4gICAgfSA9IGxhdGVzdFByb3BzLmN1cnJlbnQ7XG4gICAgY29uc3Qge1xuICAgICAgYWN0aXZlLFxuICAgICAgYWN0aXZhdG9yRXZlbnQsXG4gICAgICBjb2xsaXNpb25zLFxuICAgICAgb3ZlclxuICAgIH0gPSBzZW5zb3JDb250ZXh0LmN1cnJlbnQ7XG5cbiAgICBpZiAoIWFjdGl2ZSB8fCAhYWN0aXZhdG9yRXZlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBldmVudCA9IHtcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGFjdGl2YXRvckV2ZW50LFxuICAgICAgY29sbGlzaW9ucyxcbiAgICAgIGRlbHRhOiB7XG4gICAgICAgIHg6IHNjcm9sbEFkanVzdGVkVHJhbnNsYXRlLngsXG4gICAgICAgIHk6IHNjcm9sbEFkanVzdGVkVHJhbnNsYXRlLnlcbiAgICAgIH0sXG4gICAgICBvdmVyXG4gICAgfTtcbiAgICB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICBvbkRyYWdNb3ZlID09IG51bGwgPyB2b2lkIDAgOiBvbkRyYWdNb3ZlKGV2ZW50KTtcbiAgICAgIGRpc3BhdGNoTW9uaXRvckV2ZW50KHtcbiAgICAgICAgdHlwZTogJ29uRHJhZ01vdmUnLFxuICAgICAgICBldmVudFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgW3Njcm9sbEFkanVzdGVkVHJhbnNsYXRlLngsIHNjcm9sbEFkanVzdGVkVHJhbnNsYXRlLnldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBhY3RpdmUsXG4gICAgICBhY3RpdmF0b3JFdmVudCxcbiAgICAgIGNvbGxpc2lvbnMsXG4gICAgICBkcm9wcGFibGVDb250YWluZXJzLFxuICAgICAgc2Nyb2xsQWRqdXN0ZWRUcmFuc2xhdGVcbiAgICB9ID0gc2Vuc29yQ29udGV4dC5jdXJyZW50O1xuXG4gICAgaWYgKCFhY3RpdmUgfHwgYWN0aXZlUmVmLmN1cnJlbnQgPT0gbnVsbCB8fCAhYWN0aXZhdG9yRXZlbnQgfHwgIXNjcm9sbEFkanVzdGVkVHJhbnNsYXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgb25EcmFnT3ZlclxuICAgIH0gPSBsYXRlc3RQcm9wcy5jdXJyZW50O1xuICAgIGNvbnN0IG92ZXJDb250YWluZXIgPSBkcm9wcGFibGVDb250YWluZXJzLmdldChvdmVySWQpO1xuICAgIGNvbnN0IG92ZXIgPSBvdmVyQ29udGFpbmVyICYmIG92ZXJDb250YWluZXIucmVjdC5jdXJyZW50ID8ge1xuICAgICAgaWQ6IG92ZXJDb250YWluZXIuaWQsXG4gICAgICByZWN0OiBvdmVyQ29udGFpbmVyLnJlY3QuY3VycmVudCxcbiAgICAgIGRhdGE6IG92ZXJDb250YWluZXIuZGF0YSxcbiAgICAgIGRpc2FibGVkOiBvdmVyQ29udGFpbmVyLmRpc2FibGVkXG4gICAgfSA6IG51bGw7XG4gICAgY29uc3QgZXZlbnQgPSB7XG4gICAgICBhY3RpdmUsXG4gICAgICBhY3RpdmF0b3JFdmVudCxcbiAgICAgIGNvbGxpc2lvbnMsXG4gICAgICBkZWx0YToge1xuICAgICAgICB4OiBzY3JvbGxBZGp1c3RlZFRyYW5zbGF0ZS54LFxuICAgICAgICB5OiBzY3JvbGxBZGp1c3RlZFRyYW5zbGF0ZS55XG4gICAgICB9LFxuICAgICAgb3ZlclxuICAgIH07XG4gICAgdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgc2V0T3ZlcihvdmVyKTtcbiAgICAgIG9uRHJhZ092ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRHJhZ092ZXIoZXZlbnQpO1xuICAgICAgZGlzcGF0Y2hNb25pdG9yRXZlbnQoe1xuICAgICAgICB0eXBlOiAnb25EcmFnT3ZlcicsXG4gICAgICAgIGV2ZW50XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBbb3ZlcklkXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIHNlbnNvckNvbnRleHQuY3VycmVudCA9IHtcbiAgICAgIGFjdGl2YXRvckV2ZW50LFxuICAgICAgYWN0aXZlLFxuICAgICAgYWN0aXZlTm9kZSxcbiAgICAgIGNvbGxpc2lvblJlY3QsXG4gICAgICBjb2xsaXNpb25zLFxuICAgICAgZHJvcHBhYmxlUmVjdHMsXG4gICAgICBkcmFnZ2FibGVOb2RlcyxcbiAgICAgIGRyYWdnaW5nTm9kZSxcbiAgICAgIGRyYWdnaW5nTm9kZVJlY3QsXG4gICAgICBkcm9wcGFibGVDb250YWluZXJzLFxuICAgICAgb3ZlcixcbiAgICAgIHNjcm9sbGFibGVBbmNlc3RvcnMsXG4gICAgICBzY3JvbGxBZGp1c3RlZFRyYW5zbGF0ZVxuICAgIH07XG4gICAgYWN0aXZlUmVjdHMuY3VycmVudCA9IHtcbiAgICAgIGluaXRpYWw6IGRyYWdnaW5nTm9kZVJlY3QsXG4gICAgICB0cmFuc2xhdGVkOiBjb2xsaXNpb25SZWN0XG4gICAgfTtcbiAgfSwgW2FjdGl2ZSwgYWN0aXZlTm9kZSwgY29sbGlzaW9ucywgY29sbGlzaW9uUmVjdCwgZHJhZ2dhYmxlTm9kZXMsIGRyYWdnaW5nTm9kZSwgZHJhZ2dpbmdOb2RlUmVjdCwgZHJvcHBhYmxlUmVjdHMsIGRyb3BwYWJsZUNvbnRhaW5lcnMsIG92ZXIsIHNjcm9sbGFibGVBbmNlc3RvcnMsIHNjcm9sbEFkanVzdGVkVHJhbnNsYXRlXSk7XG4gIHVzZUF1dG9TY3JvbGxlcih7IC4uLmF1dG9TY3JvbGxPcHRpb25zLFxuICAgIGRlbHRhOiB0cmFuc2xhdGUsXG4gICAgZHJhZ2dpbmdSZWN0OiBjb2xsaXNpb25SZWN0LFxuICAgIHBvaW50ZXJDb29yZGluYXRlcyxcbiAgICBzY3JvbGxhYmxlQW5jZXN0b3JzLFxuICAgIHNjcm9sbGFibGVBbmNlc3RvclJlY3RzXG4gIH0pO1xuICBjb25zdCBwdWJsaWNDb250ZXh0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGFjdGl2ZU5vZGUsXG4gICAgICBhY3RpdmVOb2RlUmVjdCxcbiAgICAgIGFjdGl2YXRvckV2ZW50LFxuICAgICAgY29sbGlzaW9ucyxcbiAgICAgIGNvbnRhaW5lck5vZGVSZWN0LFxuICAgICAgZHJhZ092ZXJsYXksXG4gICAgICBkcmFnZ2FibGVOb2RlcyxcbiAgICAgIGRyb3BwYWJsZUNvbnRhaW5lcnMsXG4gICAgICBkcm9wcGFibGVSZWN0cyxcbiAgICAgIG92ZXIsXG4gICAgICBtZWFzdXJlRHJvcHBhYmxlQ29udGFpbmVycyxcbiAgICAgIHNjcm9sbGFibGVBbmNlc3RvcnMsXG4gICAgICBzY3JvbGxhYmxlQW5jZXN0b3JSZWN0cyxcbiAgICAgIG1lYXN1cmluZ0NvbmZpZ3VyYXRpb24sXG4gICAgICBtZWFzdXJpbmdTY2hlZHVsZWQsXG4gICAgICB3aW5kb3dSZWN0XG4gICAgfTtcbiAgICByZXR1cm4gY29udGV4dDtcbiAgfSwgW2FjdGl2ZSwgYWN0aXZlTm9kZSwgYWN0aXZlTm9kZVJlY3QsIGFjdGl2YXRvckV2ZW50LCBjb2xsaXNpb25zLCBjb250YWluZXJOb2RlUmVjdCwgZHJhZ092ZXJsYXksIGRyYWdnYWJsZU5vZGVzLCBkcm9wcGFibGVDb250YWluZXJzLCBkcm9wcGFibGVSZWN0cywgb3ZlciwgbWVhc3VyZURyb3BwYWJsZUNvbnRhaW5lcnMsIHNjcm9sbGFibGVBbmNlc3RvcnMsIHNjcm9sbGFibGVBbmNlc3RvclJlY3RzLCBtZWFzdXJpbmdDb25maWd1cmF0aW9uLCBtZWFzdXJpbmdTY2hlZHVsZWQsIHdpbmRvd1JlY3RdKTtcbiAgY29uc3QgaW50ZXJuYWxDb250ZXh0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIGFjdGl2YXRvckV2ZW50LFxuICAgICAgYWN0aXZhdG9ycyxcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGFjdGl2ZU5vZGVSZWN0LFxuICAgICAgYXJpYURlc2NyaWJlZEJ5SWQ6IHtcbiAgICAgICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGVEZXNjcmliZWRCeUlkXG4gICAgICB9LFxuICAgICAgZGlzcGF0Y2gsXG4gICAgICBkcmFnZ2FibGVOb2RlcyxcbiAgICAgIG92ZXIsXG4gICAgICBtZWFzdXJlRHJvcHBhYmxlQ29udGFpbmVyc1xuICAgIH07XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH0sIFthY3RpdmF0b3JFdmVudCwgYWN0aXZhdG9ycywgYWN0aXZlLCBhY3RpdmVOb2RlUmVjdCwgZGlzcGF0Y2gsIGRyYWdnYWJsZURlc2NyaWJlZEJ5SWQsIGRyYWdnYWJsZU5vZGVzLCBvdmVyLCBtZWFzdXJlRHJvcHBhYmxlQ29udGFpbmVyc10pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEbmRNb25pdG9yQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiByZWdpc3Rlck1vbml0b3JMaXN0ZW5lclxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEludGVybmFsQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBpbnRlcm5hbENvbnRleHRcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQdWJsaWNDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHB1YmxpY0NvbnRleHRcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChBY3RpdmVEcmFnZ2FibGVDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHRyYW5zZm9ybVxuICB9LCBjaGlsZHJlbikpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJlc3RvcmVGb2N1cywge1xuICAgIGRpc2FibGVkOiAoYWNjZXNzaWJpbGl0eSA9PSBudWxsID8gdm9pZCAwIDogYWNjZXNzaWJpbGl0eS5yZXN0b3JlRm9jdXMpID09PSBmYWxzZVxuICB9KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjZXNzaWJpbGl0eSwgeyAuLi5hY2Nlc3NpYmlsaXR5LFxuICAgIGhpZGRlblRleHREZXNjcmliZWRCeUlkOiBkcmFnZ2FibGVEZXNjcmliZWRCeUlkXG4gIH0pKTtcblxuICBmdW5jdGlvbiBnZXRBdXRvU2Nyb2xsZXJPcHRpb25zKCkge1xuICAgIGNvbnN0IGFjdGl2ZVNlbnNvckRpc2FibGVzQXV0b3Njcm9sbCA9IChhY3RpdmVTZW5zb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGFjdGl2ZVNlbnNvci5hdXRvU2Nyb2xsRW5hYmxlZCkgPT09IGZhbHNlO1xuICAgIGNvbnN0IGF1dG9TY3JvbGxHbG9iYWxseURpc2FibGVkID0gdHlwZW9mIGF1dG9TY3JvbGwgPT09ICdvYmplY3QnID8gYXV0b1Njcm9sbC5lbmFibGVkID09PSBmYWxzZSA6IGF1dG9TY3JvbGwgPT09IGZhbHNlO1xuICAgIGNvbnN0IGVuYWJsZWQgPSBpc0luaXRpYWxpemVkICYmICFhY3RpdmVTZW5zb3JEaXNhYmxlc0F1dG9zY3JvbGwgJiYgIWF1dG9TY3JvbGxHbG9iYWxseURpc2FibGVkO1xuXG4gICAgaWYgKHR5cGVvZiBhdXRvU2Nyb2xsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHsgLi4uYXV0b1Njcm9sbCxcbiAgICAgICAgZW5hYmxlZFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZW5hYmxlZFxuICAgIH07XG4gIH1cbn0pO1xuXG5jb25zdCBOdWxsQ29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgZGVmYXVsdFJvbGUgPSAnYnV0dG9uJztcbmNvbnN0IElEX1BSRUZJWCA9ICdEcmFnZ2FibGUnO1xuZnVuY3Rpb24gdXNlRHJhZ2dhYmxlKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBpZCxcbiAgICBkYXRhLFxuICAgIGRpc2FibGVkID0gZmFsc2UsXG4gICAgYXR0cmlidXRlc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qga2V5ID0gdXNlVW5pcXVlSWQoSURfUFJFRklYKTtcbiAgY29uc3Qge1xuICAgIGFjdGl2YXRvcnMsXG4gICAgYWN0aXZhdG9yRXZlbnQsXG4gICAgYWN0aXZlLFxuICAgIGFjdGl2ZU5vZGVSZWN0LFxuICAgIGFyaWFEZXNjcmliZWRCeUlkLFxuICAgIGRyYWdnYWJsZU5vZGVzLFxuICAgIG92ZXJcbiAgfSA9IHVzZUNvbnRleHQoSW50ZXJuYWxDb250ZXh0KTtcbiAgY29uc3Qge1xuICAgIHJvbGUgPSBkZWZhdWx0Um9sZSxcbiAgICByb2xlRGVzY3JpcHRpb24gPSAnZHJhZ2dhYmxlJyxcbiAgICB0YWJJbmRleCA9IDBcbiAgfSA9IGF0dHJpYnV0ZXMgIT0gbnVsbCA/IGF0dHJpYnV0ZXMgOiB7fTtcbiAgY29uc3QgaXNEcmFnZ2luZyA9IChhY3RpdmUgPT0gbnVsbCA/IHZvaWQgMCA6IGFjdGl2ZS5pZCkgPT09IGlkO1xuICBjb25zdCB0cmFuc2Zvcm0gPSB1c2VDb250ZXh0KGlzRHJhZ2dpbmcgPyBBY3RpdmVEcmFnZ2FibGVDb250ZXh0IDogTnVsbENvbnRleHQpO1xuICBjb25zdCBbbm9kZSwgc2V0Tm9kZVJlZl0gPSB1c2VOb2RlUmVmKCk7XG4gIGNvbnN0IFthY3RpdmF0b3JOb2RlLCBzZXRBY3RpdmF0b3JOb2RlUmVmXSA9IHVzZU5vZGVSZWYoKTtcbiAgY29uc3QgbGlzdGVuZXJzID0gdXNlU3ludGhldGljTGlzdGVuZXJzKGFjdGl2YXRvcnMsIGlkKTtcbiAgY29uc3QgZGF0YVJlZiA9IHVzZUxhdGVzdFZhbHVlKGRhdGEpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBkcmFnZ2FibGVOb2Rlcy5zZXQoaWQsIHtcbiAgICAgIGlkLFxuICAgICAga2V5LFxuICAgICAgbm9kZSxcbiAgICAgIGFjdGl2YXRvck5vZGUsXG4gICAgICBkYXRhOiBkYXRhUmVmXG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IG5vZGUgPSBkcmFnZ2FibGVOb2Rlcy5nZXQoaWQpO1xuXG4gICAgICBpZiAobm9kZSAmJiBub2RlLmtleSA9PT0ga2V5KSB7XG4gICAgICAgIGRyYWdnYWJsZU5vZGVzLmRlbGV0ZShpZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBbZHJhZ2dhYmxlTm9kZXMsIGlkXSk7XG4gIGNvbnN0IG1lbW9pemVkQXR0cmlidXRlcyA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICByb2xlLFxuICAgIHRhYkluZGV4LFxuICAgICdhcmlhLWRpc2FibGVkJzogZGlzYWJsZWQsXG4gICAgJ2FyaWEtcHJlc3NlZCc6IGlzRHJhZ2dpbmcgJiYgcm9sZSA9PT0gZGVmYXVsdFJvbGUgPyB0cnVlIDogdW5kZWZpbmVkLFxuICAgICdhcmlhLXJvbGVkZXNjcmlwdGlvbic6IHJvbGVEZXNjcmlwdGlvbixcbiAgICAnYXJpYS1kZXNjcmliZWRieSc6IGFyaWFEZXNjcmliZWRCeUlkLmRyYWdnYWJsZVxuICB9KSwgW2Rpc2FibGVkLCByb2xlLCB0YWJJbmRleCwgaXNEcmFnZ2luZywgcm9sZURlc2NyaXB0aW9uLCBhcmlhRGVzY3JpYmVkQnlJZC5kcmFnZ2FibGVdKTtcbiAgcmV0dXJuIHtcbiAgICBhY3RpdmUsXG4gICAgYWN0aXZhdG9yRXZlbnQsXG4gICAgYWN0aXZlTm9kZVJlY3QsXG4gICAgYXR0cmlidXRlczogbWVtb2l6ZWRBdHRyaWJ1dGVzLFxuICAgIGlzRHJhZ2dpbmcsXG4gICAgbGlzdGVuZXJzOiBkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGxpc3RlbmVycyxcbiAgICBub2RlLFxuICAgIG92ZXIsXG4gICAgc2V0Tm9kZVJlZixcbiAgICBzZXRBY3RpdmF0b3JOb2RlUmVmLFxuICAgIHRyYW5zZm9ybVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VEbmRDb250ZXh0KCkge1xuICByZXR1cm4gdXNlQ29udGV4dChQdWJsaWNDb250ZXh0KTtcbn1cblxuY29uc3QgSURfUFJFRklYJDEgPSAnRHJvcHBhYmxlJztcbmNvbnN0IGRlZmF1bHRSZXNpemVPYnNlcnZlckNvbmZpZyA9IHtcbiAgdGltZW91dDogMjVcbn07XG5mdW5jdGlvbiB1c2VEcm9wcGFibGUoX3JlZikge1xuICBsZXQge1xuICAgIGRhdGEsXG4gICAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgICBpZCxcbiAgICByZXNpemVPYnNlcnZlckNvbmZpZ1xuICB9ID0gX3JlZjtcbiAgY29uc3Qga2V5ID0gdXNlVW5pcXVlSWQoSURfUFJFRklYJDEpO1xuICBjb25zdCB7XG4gICAgYWN0aXZlLFxuICAgIGRpc3BhdGNoLFxuICAgIG92ZXIsXG4gICAgbWVhc3VyZURyb3BwYWJsZUNvbnRhaW5lcnNcbiAgfSA9IHVzZUNvbnRleHQoSW50ZXJuYWxDb250ZXh0KTtcbiAgY29uc3QgcHJldmlvdXMgPSB1c2VSZWYoe1xuICAgIGRpc2FibGVkXG4gIH0pO1xuICBjb25zdCByZXNpemVPYnNlcnZlckNvbm5lY3RlZCA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHJlY3QgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNhbGxiYWNrSWQgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHtcbiAgICBkaXNhYmxlZDogcmVzaXplT2JzZXJ2ZXJEaXNhYmxlZCxcbiAgICB1cGRhdGVNZWFzdXJlbWVudHNGb3IsXG4gICAgdGltZW91dDogcmVzaXplT2JzZXJ2ZXJUaW1lb3V0XG4gIH0gPSB7IC4uLmRlZmF1bHRSZXNpemVPYnNlcnZlckNvbmZpZyxcbiAgICAuLi5yZXNpemVPYnNlcnZlckNvbmZpZ1xuICB9O1xuICBjb25zdCBpZHMgPSB1c2VMYXRlc3RWYWx1ZSh1cGRhdGVNZWFzdXJlbWVudHNGb3IgIT0gbnVsbCA/IHVwZGF0ZU1lYXN1cmVtZW50c0ZvciA6IGlkKTtcbiAgY29uc3QgaGFuZGxlUmVzaXplID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghcmVzaXplT2JzZXJ2ZXJDb25uZWN0ZWQuY3VycmVudCkge1xuICAgICAgLy8gUmVzaXplT2JzZXJ2ZXIgaW52b2tlcyB0aGUgYGhhbmRsZVJlc2l6ZWAgY2FsbGJhY2sgYXMgc29vbiBhcyBgb2JzZXJ2ZWAgaXMgY2FsbGVkLFxuICAgICAgLy8gYXNzdW1pbmcgdGhlIGVsZW1lbnQgaXMgcmVuZGVyZWQgYW5kIGRpc3BsYXllZC5cbiAgICAgIHJlc2l6ZU9ic2VydmVyQ29ubmVjdGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjYWxsYmFja0lkLmN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGNhbGxiYWNrSWQuY3VycmVudCk7XG4gICAgfVxuXG4gICAgY2FsbGJhY2tJZC5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBtZWFzdXJlRHJvcHBhYmxlQ29udGFpbmVycyhBcnJheS5pc0FycmF5KGlkcy5jdXJyZW50KSA/IGlkcy5jdXJyZW50IDogW2lkcy5jdXJyZW50XSk7XG4gICAgICBjYWxsYmFja0lkLmN1cnJlbnQgPSBudWxsO1xuICAgIH0sIHJlc2l6ZU9ic2VydmVyVGltZW91dCk7XG4gIH0sIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBbcmVzaXplT2JzZXJ2ZXJUaW1lb3V0XSk7XG4gIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gdXNlUmVzaXplT2JzZXJ2ZXIoe1xuICAgIGNhbGxiYWNrOiBoYW5kbGVSZXNpemUsXG4gICAgZGlzYWJsZWQ6IHJlc2l6ZU9ic2VydmVyRGlzYWJsZWQgfHwgIWFjdGl2ZVxuICB9KTtcbiAgY29uc3QgaGFuZGxlTm9kZUNoYW5nZSA9IHVzZUNhbGxiYWNrKChuZXdFbGVtZW50LCBwcmV2aW91c0VsZW1lbnQpID0+IHtcbiAgICBpZiAoIXJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKHByZXZpb3VzRWxlbWVudCk7XG4gICAgICByZXNpemVPYnNlcnZlckNvbm5lY3RlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKG5ld0VsZW1lbnQpIHtcbiAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUobmV3RWxlbWVudCk7XG4gICAgfVxuICB9LCBbcmVzaXplT2JzZXJ2ZXJdKTtcbiAgY29uc3QgW25vZGVSZWYsIHNldE5vZGVSZWZdID0gdXNlTm9kZVJlZihoYW5kbGVOb2RlQ2hhbmdlKTtcbiAgY29uc3QgZGF0YVJlZiA9IHVzZUxhdGVzdFZhbHVlKGRhdGEpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcmVzaXplT2JzZXJ2ZXIgfHwgIW5vZGVSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICByZXNpemVPYnNlcnZlckNvbm5lY3RlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShub2RlUmVmLmN1cnJlbnQpO1xuICB9LCBbbm9kZVJlZiwgcmVzaXplT2JzZXJ2ZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb24uUmVnaXN0ZXJEcm9wcGFibGUsXG4gICAgICBlbGVtZW50OiB7XG4gICAgICAgIGlkLFxuICAgICAgICBrZXksXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICBub2RlOiBub2RlUmVmLFxuICAgICAgICByZWN0LFxuICAgICAgICBkYXRhOiBkYXRhUmVmXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvbi5VbnJlZ2lzdGVyRHJvcHBhYmxlLFxuICAgICAga2V5LFxuICAgICAgaWRcbiAgICB9KTtcbiAgfSwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBbaWRdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGlzYWJsZWQgIT09IHByZXZpb3VzLmN1cnJlbnQuZGlzYWJsZWQpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQWN0aW9uLlNldERyb3BwYWJsZURpc2FibGVkLFxuICAgICAgICBpZCxcbiAgICAgICAga2V5LFxuICAgICAgICBkaXNhYmxlZFxuICAgICAgfSk7XG4gICAgICBwcmV2aW91cy5jdXJyZW50LmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfVxuICB9LCBbaWQsIGtleSwgZGlzYWJsZWQsIGRpc3BhdGNoXSk7XG4gIHJldHVybiB7XG4gICAgYWN0aXZlLFxuICAgIHJlY3QsXG4gICAgaXNPdmVyOiAob3ZlciA9PSBudWxsID8gdm9pZCAwIDogb3Zlci5pZCkgPT09IGlkLFxuICAgIG5vZGU6IG5vZGVSZWYsXG4gICAgb3ZlcixcbiAgICBzZXROb2RlUmVmXG4gIH07XG59XG5cbmZ1bmN0aW9uIEFuaW1hdGlvbk1hbmFnZXIoX3JlZikge1xuICBsZXQge1xuICAgIGFuaW1hdGlvbixcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZjtcbiAgY29uc3QgW2Nsb25lZENoaWxkcmVuLCBzZXRDbG9uZWRDaGlsZHJlbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2VsZW1lbnQsIHNldEVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IHByZXZpb3VzQ2hpbGRyZW4gPSB1c2VQcmV2aW91cyhjaGlsZHJlbik7XG5cbiAgaWYgKCFjaGlsZHJlbiAmJiAhY2xvbmVkQ2hpbGRyZW4gJiYgcHJldmlvdXNDaGlsZHJlbikge1xuICAgIHNldENsb25lZENoaWxkcmVuKHByZXZpb3VzQ2hpbGRyZW4pO1xuICB9XG5cbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gY2xvbmVkQ2hpbGRyZW4gPT0gbnVsbCA/IHZvaWQgMCA6IGNsb25lZENoaWxkcmVuLmtleTtcbiAgICBjb25zdCBpZCA9IGNsb25lZENoaWxkcmVuID09IG51bGwgPyB2b2lkIDAgOiBjbG9uZWRDaGlsZHJlbi5wcm9wcy5pZDtcblxuICAgIGlmIChrZXkgPT0gbnVsbCB8fCBpZCA9PSBudWxsKSB7XG4gICAgICBzZXRDbG9uZWRDaGlsZHJlbihudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBQcm9taXNlLnJlc29sdmUoYW5pbWF0aW9uKGlkLCBlbGVtZW50KSkudGhlbigoKSA9PiB7XG4gICAgICBzZXRDbG9uZWRDaGlsZHJlbihudWxsKTtcbiAgICB9KTtcbiAgfSwgW2FuaW1hdGlvbiwgY2xvbmVkQ2hpbGRyZW4sIGVsZW1lbnRdKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuLCBjbG9uZWRDaGlsZHJlbiA/IGNsb25lRWxlbWVudChjbG9uZWRDaGlsZHJlbiwge1xuICAgIHJlZjogc2V0RWxlbWVudFxuICB9KSA6IG51bGwpO1xufVxuXG5jb25zdCBkZWZhdWx0VHJhbnNmb3JtID0ge1xuICB4OiAwLFxuICB5OiAwLFxuICBzY2FsZVg6IDEsXG4gIHNjYWxlWTogMVxufTtcbmZ1bmN0aW9uIE51bGxpZmllZENvbnRleHRQcm92aWRlcihfcmVmKSB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWY7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEludGVybmFsQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBkZWZhdWx0SW50ZXJuYWxDb250ZXh0XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWN0aXZlRHJhZ2dhYmxlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBkZWZhdWx0VHJhbnNmb3JtXG4gIH0sIGNoaWxkcmVuKSk7XG59XG5cbmNvbnN0IGJhc2VTdHlsZXMgPSB7XG4gIHBvc2l0aW9uOiAnZml4ZWQnLFxuICB0b3VjaEFjdGlvbjogJ25vbmUnXG59O1xuXG5jb25zdCBkZWZhdWx0VHJhbnNpdGlvbiA9IGFjdGl2YXRvckV2ZW50ID0+IHtcbiAgY29uc3QgaXNLZXlib2FyZEFjdGl2YXRvciA9IGlzS2V5Ym9hcmRFdmVudChhY3RpdmF0b3JFdmVudCk7XG4gIHJldHVybiBpc0tleWJvYXJkQWN0aXZhdG9yID8gJ3RyYW5zZm9ybSAyNTBtcyBlYXNlJyA6IHVuZGVmaW5lZDtcbn07XG5cbmNvbnN0IFBvc2l0aW9uZWRPdmVybGF5ID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoKF9yZWYsIHJlZikgPT4ge1xuICBsZXQge1xuICAgIGFzLFxuICAgIGFjdGl2YXRvckV2ZW50LFxuICAgIGFkanVzdFNjYWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZSxcbiAgICByZWN0LFxuICAgIHN0eWxlLFxuICAgIHRyYW5zZm9ybSxcbiAgICB0cmFuc2l0aW9uID0gZGVmYXVsdFRyYW5zaXRpb25cbiAgfSA9IF9yZWY7XG5cbiAgaWYgKCFyZWN0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBzY2FsZUFkanVzdGVkVHJhbnNmb3JtID0gYWRqdXN0U2NhbGUgPyB0cmFuc2Zvcm0gOiB7IC4uLnRyYW5zZm9ybSxcbiAgICBzY2FsZVg6IDEsXG4gICAgc2NhbGVZOiAxXG4gIH07XG4gIGNvbnN0IHN0eWxlcyA9IHsgLi4uYmFzZVN0eWxlcyxcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgIHRvcDogcmVjdC50b3AsXG4gICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgIHRyYW5zZm9ybTogQ1NTLlRyYW5zZm9ybS50b1N0cmluZyhzY2FsZUFkanVzdGVkVHJhbnNmb3JtKSxcbiAgICB0cmFuc2Zvcm1PcmlnaW46IGFkanVzdFNjYWxlICYmIGFjdGl2YXRvckV2ZW50ID8gZ2V0UmVsYXRpdmVUcmFuc2Zvcm1PcmlnaW4oYWN0aXZhdG9yRXZlbnQsIHJlY3QpIDogdW5kZWZpbmVkLFxuICAgIHRyYW5zaXRpb246IHR5cGVvZiB0cmFuc2l0aW9uID09PSAnZnVuY3Rpb24nID8gdHJhbnNpdGlvbihhY3RpdmF0b3JFdmVudCkgOiB0cmFuc2l0aW9uLFxuICAgIC4uLnN0eWxlXG4gIH07XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KGFzLCB7XG4gICAgY2xhc3NOYW1lLFxuICAgIHN0eWxlOiBzdHlsZXMsXG4gICAgcmVmXG4gIH0sIGNoaWxkcmVuKTtcbn0pO1xuXG5jb25zdCBkZWZhdWx0RHJvcEFuaW1hdGlvblNpZGVFZmZlY3RzID0gb3B0aW9ucyA9PiBfcmVmID0+IHtcbiAgbGV0IHtcbiAgICBhY3RpdmUsXG4gICAgZHJhZ092ZXJsYXlcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IG9yaWdpbmFsU3R5bGVzID0ge307XG4gIGNvbnN0IHtcbiAgICBzdHlsZXMsXG4gICAgY2xhc3NOYW1lXG4gIH0gPSBvcHRpb25zO1xuXG4gIGlmIChzdHlsZXMgIT0gbnVsbCAmJiBzdHlsZXMuYWN0aXZlKSB7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzLmFjdGl2ZSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBvcmlnaW5hbFN0eWxlc1trZXldID0gYWN0aXZlLm5vZGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShrZXkpO1xuICAgICAgYWN0aXZlLm5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0eWxlcyAhPSBudWxsICYmIHN0eWxlcy5kcmFnT3ZlcmxheSkge1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlcy5kcmFnT3ZlcmxheSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBkcmFnT3ZlcmxheS5ub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjbGFzc05hbWUgIT0gbnVsbCAmJiBjbGFzc05hbWUuYWN0aXZlKSB7XG4gICAgYWN0aXZlLm5vZGUuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUuYWN0aXZlKTtcbiAgfVxuXG4gIGlmIChjbGFzc05hbWUgIT0gbnVsbCAmJiBjbGFzc05hbWUuZHJhZ092ZXJsYXkpIHtcbiAgICBkcmFnT3ZlcmxheS5ub2RlLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lLmRyYWdPdmVybGF5KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9yaWdpbmFsU3R5bGVzKSkge1xuICAgICAgYWN0aXZlLm5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKGNsYXNzTmFtZSAhPSBudWxsICYmIGNsYXNzTmFtZS5hY3RpdmUpIHtcbiAgICAgIGFjdGl2ZS5ub2RlLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lLmFjdGl2ZSk7XG4gICAgfVxuICB9O1xufTtcblxuY29uc3QgZGVmYXVsdEtleWZyYW1lUmVzb2x2ZXIgPSBfcmVmMiA9PiB7XG4gIGxldCB7XG4gICAgdHJhbnNmb3JtOiB7XG4gICAgICBpbml0aWFsLFxuICAgICAgZmluYWxcbiAgICB9XG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIFt7XG4gICAgdHJhbnNmb3JtOiBDU1MuVHJhbnNmb3JtLnRvU3RyaW5nKGluaXRpYWwpXG4gIH0sIHtcbiAgICB0cmFuc2Zvcm06IENTUy5UcmFuc2Zvcm0udG9TdHJpbmcoZmluYWwpXG4gIH1dO1xufTtcblxuY29uc3QgZGVmYXVsdERyb3BBbmltYXRpb25Db25maWd1cmF0aW9uID0ge1xuICBkdXJhdGlvbjogMjUwLFxuICBlYXNpbmc6ICdlYXNlJyxcbiAga2V5ZnJhbWVzOiBkZWZhdWx0S2V5ZnJhbWVSZXNvbHZlcixcbiAgc2lkZUVmZmVjdHM6IC8qI19fUFVSRV9fKi9kZWZhdWx0RHJvcEFuaW1hdGlvblNpZGVFZmZlY3RzKHtcbiAgICBzdHlsZXM6IHtcbiAgICAgIGFjdGl2ZToge1xuICAgICAgICBvcGFjaXR5OiAnMCdcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59O1xuZnVuY3Rpb24gdXNlRHJvcEFuaW1hdGlvbihfcmVmMykge1xuICBsZXQge1xuICAgIGNvbmZpZyxcbiAgICBkcmFnZ2FibGVOb2RlcyxcbiAgICBkcm9wcGFibGVDb250YWluZXJzLFxuICAgIG1lYXN1cmluZ0NvbmZpZ3VyYXRpb25cbiAgfSA9IF9yZWYzO1xuICByZXR1cm4gdXNlRXZlbnQoKGlkLCBub2RlKSA9PiB7XG4gICAgaWYgKGNvbmZpZyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZURyYWdnYWJsZSA9IGRyYWdnYWJsZU5vZGVzLmdldChpZCk7XG5cbiAgICBpZiAoIWFjdGl2ZURyYWdnYWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZU5vZGUgPSBhY3RpdmVEcmFnZ2FibGUubm9kZS5jdXJyZW50O1xuXG4gICAgaWYgKCFhY3RpdmVOb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWVhc3VyYWJsZU5vZGUgPSBnZXRNZWFzdXJhYmxlTm9kZShub2RlKTtcblxuICAgIGlmICghbWVhc3VyYWJsZU5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICB0cmFuc2Zvcm1cbiAgICB9ID0gZ2V0V2luZG93KG5vZGUpLmdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgY29uc3QgcGFyc2VkVHJhbnNmb3JtID0gcGFyc2VUcmFuc2Zvcm0odHJhbnNmb3JtKTtcblxuICAgIGlmICghcGFyc2VkVHJhbnNmb3JtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYW5pbWF0aW9uID0gdHlwZW9mIGNvbmZpZyA9PT0gJ2Z1bmN0aW9uJyA/IGNvbmZpZyA6IGNyZWF0ZURlZmF1bHREcm9wQW5pbWF0aW9uKGNvbmZpZyk7XG4gICAgc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZChhY3RpdmVOb2RlLCBtZWFzdXJpbmdDb25maWd1cmF0aW9uLmRyYWdnYWJsZS5tZWFzdXJlKTtcbiAgICByZXR1cm4gYW5pbWF0aW9uKHtcbiAgICAgIGFjdGl2ZToge1xuICAgICAgICBpZCxcbiAgICAgICAgZGF0YTogYWN0aXZlRHJhZ2dhYmxlLmRhdGEsXG4gICAgICAgIG5vZGU6IGFjdGl2ZU5vZGUsXG4gICAgICAgIHJlY3Q6IG1lYXN1cmluZ0NvbmZpZ3VyYXRpb24uZHJhZ2dhYmxlLm1lYXN1cmUoYWN0aXZlTm9kZSlcbiAgICAgIH0sXG4gICAgICBkcmFnZ2FibGVOb2RlcyxcbiAgICAgIGRyYWdPdmVybGF5OiB7XG4gICAgICAgIG5vZGUsXG4gICAgICAgIHJlY3Q6IG1lYXN1cmluZ0NvbmZpZ3VyYXRpb24uZHJhZ092ZXJsYXkubWVhc3VyZShtZWFzdXJhYmxlTm9kZSlcbiAgICAgIH0sXG4gICAgICBkcm9wcGFibGVDb250YWluZXJzLFxuICAgICAgbWVhc3VyaW5nQ29uZmlndXJhdGlvbixcbiAgICAgIHRyYW5zZm9ybTogcGFyc2VkVHJhbnNmb3JtXG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0RHJvcEFuaW1hdGlvbihvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBkdXJhdGlvbixcbiAgICBlYXNpbmcsXG4gICAgc2lkZUVmZmVjdHMsXG4gICAga2V5ZnJhbWVzXG4gIH0gPSB7IC4uLmRlZmF1bHREcm9wQW5pbWF0aW9uQ29uZmlndXJhdGlvbixcbiAgICAuLi5vcHRpb25zXG4gIH07XG4gIHJldHVybiBfcmVmNCA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGRyYWdPdmVybGF5LFxuICAgICAgdHJhbnNmb3JtLFxuICAgICAgLi4ucmVzdFxuICAgIH0gPSBfcmVmNDtcblxuICAgIGlmICghZHVyYXRpb24pIHtcbiAgICAgIC8vIERvIG5vdCBhbmltYXRlIGlmIGFuaW1hdGlvbiBkdXJhdGlvbiBpcyB6ZXJvLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgeDogZHJhZ092ZXJsYXkucmVjdC5sZWZ0IC0gYWN0aXZlLnJlY3QubGVmdCxcbiAgICAgIHk6IGRyYWdPdmVybGF5LnJlY3QudG9wIC0gYWN0aXZlLnJlY3QudG9wXG4gICAgfTtcbiAgICBjb25zdCBzY2FsZSA9IHtcbiAgICAgIHNjYWxlWDogdHJhbnNmb3JtLnNjYWxlWCAhPT0gMSA/IGFjdGl2ZS5yZWN0LndpZHRoICogdHJhbnNmb3JtLnNjYWxlWCAvIGRyYWdPdmVybGF5LnJlY3Qud2lkdGggOiAxLFxuICAgICAgc2NhbGVZOiB0cmFuc2Zvcm0uc2NhbGVZICE9PSAxID8gYWN0aXZlLnJlY3QuaGVpZ2h0ICogdHJhbnNmb3JtLnNjYWxlWSAvIGRyYWdPdmVybGF5LnJlY3QuaGVpZ2h0IDogMVxuICAgIH07XG4gICAgY29uc3QgZmluYWxUcmFuc2Zvcm0gPSB7XG4gICAgICB4OiB0cmFuc2Zvcm0ueCAtIGRlbHRhLngsXG4gICAgICB5OiB0cmFuc2Zvcm0ueSAtIGRlbHRhLnksXG4gICAgICAuLi5zY2FsZVxuICAgIH07XG4gICAgY29uc3QgYW5pbWF0aW9uS2V5ZnJhbWVzID0ga2V5ZnJhbWVzKHsgLi4ucmVzdCxcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGRyYWdPdmVybGF5LFxuICAgICAgdHJhbnNmb3JtOiB7XG4gICAgICAgIGluaXRpYWw6IHRyYW5zZm9ybSxcbiAgICAgICAgZmluYWw6IGZpbmFsVHJhbnNmb3JtXG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgW2ZpcnN0S2V5ZnJhbWVdID0gYW5pbWF0aW9uS2V5ZnJhbWVzO1xuICAgIGNvbnN0IGxhc3RLZXlmcmFtZSA9IGFuaW1hdGlvbktleWZyYW1lc1thbmltYXRpb25LZXlmcmFtZXMubGVuZ3RoIC0gMV07XG5cbiAgICBpZiAoSlNPTi5zdHJpbmdpZnkoZmlyc3RLZXlmcmFtZSkgPT09IEpTT04uc3RyaW5naWZ5KGxhc3RLZXlmcmFtZSkpIHtcbiAgICAgIC8vIFRoZSBzdGFydCBhbmQgZW5kIGtleWZyYW1lcyBhcmUgdGhlIHNhbWUsIGluZmVyIHRoYXQgdGhlcmUgaXMgbm8gYW5pbWF0aW9uIG5lZWRlZC5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjbGVhbnVwID0gc2lkZUVmZmVjdHMgPT0gbnVsbCA/IHZvaWQgMCA6IHNpZGVFZmZlY3RzKHtcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGRyYWdPdmVybGF5LFxuICAgICAgLi4ucmVzdFxuICAgIH0pO1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IGRyYWdPdmVybGF5Lm5vZGUuYW5pbWF0ZShhbmltYXRpb25LZXlmcmFtZXMsIHtcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgZWFzaW5nLFxuICAgICAgZmlsbDogJ2ZvcndhcmRzJ1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGFuaW1hdGlvbi5vbmZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgY2xlYW51cCA9PSBudWxsID8gdm9pZCAwIDogY2xlYW51cCgpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xufVxuXG5sZXQga2V5ID0gMDtcbmZ1bmN0aW9uIHVzZUtleShpZCkge1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBrZXkrKztcbiAgICByZXR1cm4ga2V5O1xuICB9LCBbaWRdKTtcbn1cblxuY29uc3QgRHJhZ092ZXJsYXkgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhfcmVmID0+IHtcbiAgbGV0IHtcbiAgICBhZGp1c3RTY2FsZSA9IGZhbHNlLFxuICAgIGNoaWxkcmVuLFxuICAgIGRyb3BBbmltYXRpb246IGRyb3BBbmltYXRpb25Db25maWcsXG4gICAgc3R5bGUsXG4gICAgdHJhbnNpdGlvbixcbiAgICBtb2RpZmllcnMsXG4gICAgd3JhcHBlckVsZW1lbnQgPSAnZGl2JyxcbiAgICBjbGFzc05hbWUsXG4gICAgekluZGV4ID0gOTk5XG4gIH0gPSBfcmVmO1xuICBjb25zdCB7XG4gICAgYWN0aXZhdG9yRXZlbnQsXG4gICAgYWN0aXZlLFxuICAgIGFjdGl2ZU5vZGVSZWN0LFxuICAgIGNvbnRhaW5lck5vZGVSZWN0LFxuICAgIGRyYWdnYWJsZU5vZGVzLFxuICAgIGRyb3BwYWJsZUNvbnRhaW5lcnMsXG4gICAgZHJhZ092ZXJsYXksXG4gICAgb3ZlcixcbiAgICBtZWFzdXJpbmdDb25maWd1cmF0aW9uLFxuICAgIHNjcm9sbGFibGVBbmNlc3RvcnMsXG4gICAgc2Nyb2xsYWJsZUFuY2VzdG9yUmVjdHMsXG4gICAgd2luZG93UmVjdFxuICB9ID0gdXNlRG5kQ29udGV4dCgpO1xuICBjb25zdCB0cmFuc2Zvcm0gPSB1c2VDb250ZXh0KEFjdGl2ZURyYWdnYWJsZUNvbnRleHQpO1xuICBjb25zdCBrZXkgPSB1c2VLZXkoYWN0aXZlID09IG51bGwgPyB2b2lkIDAgOiBhY3RpdmUuaWQpO1xuICBjb25zdCBtb2RpZmllZFRyYW5zZm9ybSA9IGFwcGx5TW9kaWZpZXJzKG1vZGlmaWVycywge1xuICAgIGFjdGl2YXRvckV2ZW50LFxuICAgIGFjdGl2ZSxcbiAgICBhY3RpdmVOb2RlUmVjdCxcbiAgICBjb250YWluZXJOb2RlUmVjdCxcbiAgICBkcmFnZ2luZ05vZGVSZWN0OiBkcmFnT3ZlcmxheS5yZWN0LFxuICAgIG92ZXIsXG4gICAgb3ZlcmxheU5vZGVSZWN0OiBkcmFnT3ZlcmxheS5yZWN0LFxuICAgIHNjcm9sbGFibGVBbmNlc3RvcnMsXG4gICAgc2Nyb2xsYWJsZUFuY2VzdG9yUmVjdHMsXG4gICAgdHJhbnNmb3JtLFxuICAgIHdpbmRvd1JlY3RcbiAgfSk7XG4gIGNvbnN0IGluaXRpYWxSZWN0ID0gdXNlSW5pdGlhbFZhbHVlKGFjdGl2ZU5vZGVSZWN0KTtcbiAgY29uc3QgZHJvcEFuaW1hdGlvbiA9IHVzZURyb3BBbmltYXRpb24oe1xuICAgIGNvbmZpZzogZHJvcEFuaW1hdGlvbkNvbmZpZyxcbiAgICBkcmFnZ2FibGVOb2RlcyxcbiAgICBkcm9wcGFibGVDb250YWluZXJzLFxuICAgIG1lYXN1cmluZ0NvbmZpZ3VyYXRpb25cbiAgfSk7IC8vIFdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIGFjdGl2ZSBub2RlIHRvIGJlIG1lYXN1cmVkIGJlZm9yZSBjb25uZWN0aW5nIHRoZSBkcmFnIG92ZXJsYXkgcmVmXG4gIC8vIG90aGVyd2lzZSBjb2xsaXNpb25zIGNhbiBiZSBjb21wdXRlZCBhZ2FpbnN0IGEgbWlzcG9zaXRpb25lZCBkcmFnIG92ZXJsYXlcblxuICBjb25zdCByZWYgPSBpbml0aWFsUmVjdCA/IGRyYWdPdmVybGF5LnNldFJlZiA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTnVsbGlmaWVkQ29udGV4dFByb3ZpZGVyLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KEFuaW1hdGlvbk1hbmFnZXIsIHtcbiAgICBhbmltYXRpb246IGRyb3BBbmltYXRpb25cbiAgfSwgYWN0aXZlICYmIGtleSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9zaXRpb25lZE92ZXJsYXksIHtcbiAgICBrZXk6IGtleSxcbiAgICBpZDogYWN0aXZlLmlkLFxuICAgIHJlZjogcmVmLFxuICAgIGFzOiB3cmFwcGVyRWxlbWVudCxcbiAgICBhY3RpdmF0b3JFdmVudDogYWN0aXZhdG9yRXZlbnQsXG4gICAgYWRqdXN0U2NhbGU6IGFkanVzdFNjYWxlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24sXG4gICAgcmVjdDogaW5pdGlhbFJlY3QsXG4gICAgc3R5bGU6IHtcbiAgICAgIHpJbmRleCxcbiAgICAgIC4uLnN0eWxlXG4gICAgfSxcbiAgICB0cmFuc2Zvcm06IG1vZGlmaWVkVHJhbnNmb3JtXG4gIH0sIGNoaWxkcmVuKSA6IG51bGwpKTtcbn0pO1xuXG5leHBvcnQgeyBBdXRvU2Nyb2xsQWN0aXZhdG9yLCBEbmRDb250ZXh0LCBEcmFnT3ZlcmxheSwgS2V5Ym9hcmRDb2RlLCBLZXlib2FyZFNlbnNvciwgTWVhc3VyaW5nRnJlcXVlbmN5LCBNZWFzdXJpbmdTdHJhdGVneSwgTW91c2VTZW5zb3IsIFBvaW50ZXJTZW5zb3IsIFRvdWNoU2Vuc29yLCBUcmF2ZXJzYWxPcmRlciwgYXBwbHlNb2RpZmllcnMsIGNsb3Nlc3RDZW50ZXIsIGNsb3Nlc3RDb3JuZXJzLCBkZWZhdWx0QW5ub3VuY2VtZW50cywgZGVmYXVsdENvb3JkaW5hdGVzLCBkZWZhdWx0RHJvcEFuaW1hdGlvbkNvbmZpZ3VyYXRpb24gYXMgZGVmYXVsdERyb3BBbmltYXRpb24sIGRlZmF1bHREcm9wQW5pbWF0aW9uU2lkZUVmZmVjdHMsIGRlZmF1bHRLZXlib2FyZENvb3JkaW5hdGVHZXR0ZXIsIGRlZmF1bHRTY3JlZW5SZWFkZXJJbnN0cnVjdGlvbnMsIGdldENsaWVudFJlY3QsIGdldEZpcnN0Q29sbGlzaW9uLCBnZXRTY3JvbGxhYmxlQW5jZXN0b3JzLCBwb2ludGVyV2l0aGluLCByZWN0SW50ZXJzZWN0aW9uLCB1c2VEbmRDb250ZXh0LCB1c2VEbmRNb25pdG9yLCB1c2VEcmFnZ2FibGUsIHVzZURyb3BwYWJsZSwgdXNlU2Vuc29yLCB1c2VTZW5zb3JzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@dnd-kit/core/dist/core.esm.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@dnd-kit/sortable/dist/sortable.esm.js":
/*!*************************************************************!*\
  !*** ./node_modules/@dnd-kit/sortable/dist/sortable.esm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SortableContext: () => (/* binding */ SortableContext),\n/* harmony export */   arrayMove: () => (/* binding */ arrayMove),\n/* harmony export */   arraySwap: () => (/* binding */ arraySwap),\n/* harmony export */   defaultAnimateLayoutChanges: () => (/* binding */ defaultAnimateLayoutChanges),\n/* harmony export */   defaultNewIndexGetter: () => (/* binding */ defaultNewIndexGetter),\n/* harmony export */   hasSortableData: () => (/* binding */ hasSortableData),\n/* harmony export */   horizontalListSortingStrategy: () => (/* binding */ horizontalListSortingStrategy),\n/* harmony export */   rectSortingStrategy: () => (/* binding */ rectSortingStrategy),\n/* harmony export */   rectSwappingStrategy: () => (/* binding */ rectSwappingStrategy),\n/* harmony export */   sortableKeyboardCoordinates: () => (/* binding */ sortableKeyboardCoordinates),\n/* harmony export */   useSortable: () => (/* binding */ useSortable),\n/* harmony export */   verticalListSortingStrategy: () => (/* binding */ verticalListSortingStrategy)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dnd-kit/core */ \"(app-pages-browser)/./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* harmony import */ var _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/utilities */ \"(app-pages-browser)/./node_modules/@dnd-kit/utilities/dist/utilities.esm.js\");\n\n\n\n\n/**\r\n * Move an array item to a different position. Returns a new array with the item moved to the new position.\r\n */\nfunction arrayMove(array, from, to) {\n  const newArray = array.slice();\n  newArray.splice(to < 0 ? newArray.length + to : to, 0, newArray.splice(from, 1)[0]);\n  return newArray;\n}\n\n/**\r\n * Swap an array item to a different position. Returns a new array with the item swapped to the new position.\r\n */\nfunction arraySwap(array, from, to) {\n  const newArray = array.slice();\n  newArray[from] = array[to];\n  newArray[to] = array[from];\n  return newArray;\n}\n\nfunction getSortedRects(items, rects) {\n  return items.reduce((accumulator, id, index) => {\n    const rect = rects.get(id);\n\n    if (rect) {\n      accumulator[index] = rect;\n    }\n\n    return accumulator;\n  }, Array(items.length));\n}\n\nfunction isValidIndex(index) {\n  return index !== null && index >= 0;\n}\n\nfunction itemsEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction normalizeDisabled(disabled) {\n  if (typeof disabled === 'boolean') {\n    return {\n      draggable: disabled,\n      droppable: disabled\n    };\n  }\n\n  return disabled;\n}\n\n// To-do: We should be calculating scale transformation\nconst defaultScale = {\n  scaleX: 1,\n  scaleY: 1\n};\nconst horizontalListSortingStrategy = _ref => {\n  var _rects$activeIndex;\n\n  let {\n    rects,\n    activeNodeRect: fallbackActiveRect,\n    activeIndex,\n    overIndex,\n    index\n  } = _ref;\n  const activeNodeRect = (_rects$activeIndex = rects[activeIndex]) != null ? _rects$activeIndex : fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  const itemGap = getItemGap(rects, index, activeIndex);\n\n  if (index === activeIndex) {\n    const newIndexRect = rects[overIndex];\n\n    if (!newIndexRect) {\n      return null;\n    }\n\n    return {\n      x: activeIndex < overIndex ? newIndexRect.left + newIndexRect.width - (activeNodeRect.left + activeNodeRect.width) : newIndexRect.left - activeNodeRect.left,\n      y: 0,\n      ...defaultScale\n    };\n  }\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: -activeNodeRect.width - itemGap,\n      y: 0,\n      ...defaultScale\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: activeNodeRect.width + itemGap,\n      y: 0,\n      ...defaultScale\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale\n  };\n};\n\nfunction getItemGap(rects, index, activeIndex) {\n  const currentRect = rects[index];\n  const previousRect = rects[index - 1];\n  const nextRect = rects[index + 1];\n\n  if (!currentRect || !previousRect && !nextRect) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect ? currentRect.left - (previousRect.left + previousRect.width) : nextRect.left - (currentRect.left + currentRect.width);\n  }\n\n  return nextRect ? nextRect.left - (currentRect.left + currentRect.width) : currentRect.left - (previousRect.left + previousRect.width);\n}\n\nconst rectSortingStrategy = _ref => {\n  let {\n    rects,\n    activeIndex,\n    overIndex,\n    index\n  } = _ref;\n  const newRects = arrayMove(rects, overIndex, activeIndex);\n  const oldRect = rects[index];\n  const newRect = newRects[index];\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height\n  };\n};\n\nconst rectSwappingStrategy = _ref => {\n  let {\n    activeIndex,\n    index,\n    rects,\n    overIndex\n  } = _ref;\n  let oldRect;\n  let newRect;\n\n  if (index === activeIndex) {\n    oldRect = rects[index];\n    newRect = rects[overIndex];\n  }\n\n  if (index === overIndex) {\n    oldRect = rects[index];\n    newRect = rects[activeIndex];\n  }\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height\n  };\n};\n\n// To-do: We should be calculating scale transformation\nconst defaultScale$1 = {\n  scaleX: 1,\n  scaleY: 1\n};\nconst verticalListSortingStrategy = _ref => {\n  var _rects$activeIndex;\n\n  let {\n    activeIndex,\n    activeNodeRect: fallbackActiveRect,\n    index,\n    rects,\n    overIndex\n  } = _ref;\n  const activeNodeRect = (_rects$activeIndex = rects[activeIndex]) != null ? _rects$activeIndex : fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  if (index === activeIndex) {\n    const overIndexRect = rects[overIndex];\n\n    if (!overIndexRect) {\n      return null;\n    }\n\n    return {\n      x: 0,\n      y: activeIndex < overIndex ? overIndexRect.top + overIndexRect.height - (activeNodeRect.top + activeNodeRect.height) : overIndexRect.top - activeNodeRect.top,\n      ...defaultScale$1\n    };\n  }\n\n  const itemGap = getItemGap$1(rects, index, activeIndex);\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: 0,\n      y: -activeNodeRect.height - itemGap,\n      ...defaultScale$1\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: 0,\n      y: activeNodeRect.height + itemGap,\n      ...defaultScale$1\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale$1\n  };\n};\n\nfunction getItemGap$1(clientRects, index, activeIndex) {\n  const currentRect = clientRects[index];\n  const previousRect = clientRects[index - 1];\n  const nextRect = clientRects[index + 1];\n\n  if (!currentRect) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect ? currentRect.top - (previousRect.top + previousRect.height) : nextRect ? nextRect.top - (currentRect.top + currentRect.height) : 0;\n  }\n\n  return nextRect ? nextRect.top - (currentRect.top + currentRect.height) : previousRect ? currentRect.top - (previousRect.top + previousRect.height) : 0;\n}\n\nconst ID_PREFIX = 'Sortable';\nconst Context = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext({\n  activeIndex: -1,\n  containerId: ID_PREFIX,\n  disableTransforms: false,\n  items: [],\n  overIndex: -1,\n  useDragOverlay: false,\n  sortedRects: [],\n  strategy: rectSortingStrategy,\n  disabled: {\n    draggable: false,\n    droppable: false\n  }\n});\nfunction SortableContext(_ref) {\n  let {\n    children,\n    id,\n    items: userDefinedItems,\n    strategy = rectSortingStrategy,\n    disabled: disabledProp = false\n  } = _ref;\n  const {\n    active,\n    dragOverlay,\n    droppableRects,\n    over,\n    measureDroppableContainers\n  } = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.useDndContext)();\n  const containerId = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useUniqueId)(ID_PREFIX, id);\n  const useDragOverlay = Boolean(dragOverlay.rect !== null);\n  const items = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => userDefinedItems.map(item => typeof item === 'object' && 'id' in item ? item.id : item), [userDefinedItems]);\n  const isDragging = active != null;\n  const activeIndex = active ? items.indexOf(active.id) : -1;\n  const overIndex = over ? items.indexOf(over.id) : -1;\n  const previousItemsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(items);\n  const itemsHaveChanged = !itemsEqual(items, previousItemsRef.current);\n  const disableTransforms = overIndex !== -1 && activeIndex === -1 || itemsHaveChanged;\n  const disabled = normalizeDisabled(disabledProp);\n  (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(() => {\n    if (itemsHaveChanged && isDragging) {\n      measureDroppableContainers(items);\n    }\n  }, [itemsHaveChanged, items, isDragging, measureDroppableContainers]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    previousItemsRef.current = items;\n  }, [items]);\n  const contextValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    activeIndex,\n    containerId,\n    disabled,\n    disableTransforms,\n    items,\n    overIndex,\n    useDragOverlay,\n    sortedRects: getSortedRects(items, droppableRects),\n    strategy\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [activeIndex, containerId, disabled.draggable, disabled.droppable, disableTransforms, items, overIndex, droppableRects, useDragOverlay, strategy]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nconst defaultNewIndexGetter = _ref => {\n  let {\n    id,\n    items,\n    activeIndex,\n    overIndex\n  } = _ref;\n  return arrayMove(items, activeIndex, overIndex).indexOf(id);\n};\nconst defaultAnimateLayoutChanges = _ref2 => {\n  let {\n    containerId,\n    isSorting,\n    wasDragging,\n    index,\n    items,\n    newIndex,\n    previousItems,\n    previousContainerId,\n    transition\n  } = _ref2;\n\n  if (!transition || !wasDragging) {\n    return false;\n  }\n\n  if (previousItems !== items && index === newIndex) {\n    return false;\n  }\n\n  if (isSorting) {\n    return true;\n  }\n\n  return newIndex !== index && containerId === previousContainerId;\n};\nconst defaultTransition = {\n  duration: 200,\n  easing: 'ease'\n};\nconst transitionProperty = 'transform';\nconst disabledTransition = /*#__PURE__*/_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.CSS.Transition.toString({\n  property: transitionProperty,\n  duration: 0,\n  easing: 'linear'\n});\nconst defaultAttributes = {\n  roleDescription: 'sortable'\n};\n\n/*\r\n * When the index of an item changes while sorting,\r\n * we need to temporarily disable the transforms\r\n */\n\nfunction useDerivedTransform(_ref) {\n  let {\n    disabled,\n    index,\n    node,\n    rect\n  } = _ref;\n  const [derivedTransform, setDerivedtransform] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const previousIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(index);\n  (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(() => {\n    if (!disabled && index !== previousIndex.current && node.current) {\n      const initial = rect.current;\n\n      if (initial) {\n        const current = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.getClientRect)(node.current, {\n          ignoreTransform: true\n        });\n        const delta = {\n          x: initial.left - current.left,\n          y: initial.top - current.top,\n          scaleX: initial.width / current.width,\n          scaleY: initial.height / current.height\n        };\n\n        if (delta.x || delta.y) {\n          setDerivedtransform(delta);\n        }\n      }\n    }\n\n    if (index !== previousIndex.current) {\n      previousIndex.current = index;\n    }\n  }, [disabled, index, node, rect]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (derivedTransform) {\n      setDerivedtransform(null);\n    }\n  }, [derivedTransform]);\n  return derivedTransform;\n}\n\nfunction useSortable(_ref) {\n  let {\n    animateLayoutChanges = defaultAnimateLayoutChanges,\n    attributes: userDefinedAttributes,\n    disabled: localDisabled,\n    data: customData,\n    getNewIndex = defaultNewIndexGetter,\n    id,\n    strategy: localStrategy,\n    resizeObserverConfig,\n    transition = defaultTransition\n  } = _ref;\n  const {\n    items,\n    containerId,\n    activeIndex,\n    disabled: globalDisabled,\n    disableTransforms,\n    sortedRects,\n    overIndex,\n    useDragOverlay,\n    strategy: globalStrategy\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Context);\n  const disabled = normalizeLocalDisabled(localDisabled, globalDisabled);\n  const index = items.indexOf(id);\n  const data = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    sortable: {\n      containerId,\n      index,\n      items\n    },\n    ...customData\n  }), [containerId, customData, index, items]);\n  const itemsAfterCurrentSortable = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => items.slice(items.indexOf(id)), [items, id]);\n  const {\n    rect,\n    node,\n    isOver,\n    setNodeRef: setDroppableNodeRef\n  } = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.useDroppable)({\n    id,\n    data,\n    disabled: disabled.droppable,\n    resizeObserverConfig: {\n      updateMeasurementsFor: itemsAfterCurrentSortable,\n      ...resizeObserverConfig\n    }\n  });\n  const {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes,\n    setNodeRef: setDraggableNodeRef,\n    listeners,\n    isDragging,\n    over,\n    setActivatorNodeRef,\n    transform\n  } = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.useDraggable)({\n    id,\n    data,\n    attributes: { ...defaultAttributes,\n      ...userDefinedAttributes\n    },\n    disabled: disabled.draggable\n  });\n  const setNodeRef = (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.useCombinedRefs)(setDroppableNodeRef, setDraggableNodeRef);\n  const isSorting = Boolean(active);\n  const displaceItem = isSorting && !disableTransforms && isValidIndex(activeIndex) && isValidIndex(overIndex);\n  const shouldDisplaceDragSource = !useDragOverlay && isDragging;\n  const dragSourceDisplacement = shouldDisplaceDragSource && displaceItem ? transform : null;\n  const strategy = localStrategy != null ? localStrategy : globalStrategy;\n  const finalTransform = displaceItem ? dragSourceDisplacement != null ? dragSourceDisplacement : strategy({\n    rects: sortedRects,\n    activeNodeRect,\n    activeIndex,\n    overIndex,\n    index\n  }) : null;\n  const newIndex = isValidIndex(activeIndex) && isValidIndex(overIndex) ? getNewIndex({\n    id,\n    items,\n    activeIndex,\n    overIndex\n  }) : index;\n  const activeId = active == null ? void 0 : active.id;\n  const previous = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    activeId,\n    items,\n    newIndex,\n    containerId\n  });\n  const itemsHaveChanged = items !== previous.current.items;\n  const shouldAnimateLayoutChanges = animateLayoutChanges({\n    active,\n    containerId,\n    isDragging,\n    isSorting,\n    id,\n    index,\n    items,\n    newIndex: previous.current.newIndex,\n    previousItems: previous.current.items,\n    previousContainerId: previous.current.containerId,\n    transition,\n    wasDragging: previous.current.activeId != null\n  });\n  const derivedTransform = useDerivedTransform({\n    disabled: !shouldAnimateLayoutChanges,\n    index,\n    node,\n    rect\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (isSorting && previous.current.newIndex !== newIndex) {\n      previous.current.newIndex = newIndex;\n    }\n\n    if (containerId !== previous.current.containerId) {\n      previous.current.containerId = containerId;\n    }\n\n    if (items !== previous.current.items) {\n      previous.current.items = items;\n    }\n  }, [isSorting, newIndex, containerId, items]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (activeId === previous.current.activeId) {\n      return;\n    }\n\n    if (activeId && !previous.current.activeId) {\n      previous.current.activeId = activeId;\n      return;\n    }\n\n    const timeoutId = setTimeout(() => {\n      previous.current.activeId = activeId;\n    }, 50);\n    return () => clearTimeout(timeoutId);\n  }, [activeId]);\n  return {\n    active,\n    activeIndex,\n    attributes,\n    data,\n    rect,\n    index,\n    newIndex,\n    items,\n    isOver,\n    isSorting,\n    isDragging,\n    listeners,\n    node,\n    overIndex,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    setDroppableNodeRef,\n    setDraggableNodeRef,\n    transform: derivedTransform != null ? derivedTransform : finalTransform,\n    transition: getTransition()\n  };\n\n  function getTransition() {\n    if ( // Temporarily disable transitions for a single frame to set up derived transforms\n    derivedTransform || // Or to prevent items jumping to back to their \"new\" position when items change\n    itemsHaveChanged && previous.current.newIndex === index) {\n      return disabledTransition;\n    }\n\n    if (shouldDisplaceDragSource && !(0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.isKeyboardEvent)(activatorEvent) || !transition) {\n      return undefined;\n    }\n\n    if (isSorting || shouldAnimateLayoutChanges) {\n      return _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.CSS.Transition.toString({ ...transition,\n        property: transitionProperty\n      });\n    }\n\n    return undefined;\n  }\n}\n\nfunction normalizeLocalDisabled(localDisabled, globalDisabled) {\n  var _localDisabled$dragga, _localDisabled$droppa;\n\n  if (typeof localDisabled === 'boolean') {\n    return {\n      draggable: localDisabled,\n      // Backwards compatibility\n      droppable: false\n    };\n  }\n\n  return {\n    draggable: (_localDisabled$dragga = localDisabled == null ? void 0 : localDisabled.draggable) != null ? _localDisabled$dragga : globalDisabled.draggable,\n    droppable: (_localDisabled$droppa = localDisabled == null ? void 0 : localDisabled.droppable) != null ? _localDisabled$droppa : globalDisabled.droppable\n  };\n}\n\nfunction hasSortableData(entry) {\n  if (!entry) {\n    return false;\n  }\n\n  const data = entry.data.current;\n\n  if (data && 'sortable' in data && typeof data.sortable === 'object' && 'containerId' in data.sortable && 'items' in data.sortable && 'index' in data.sortable) {\n    return true;\n  }\n\n  return false;\n}\n\nconst directions = [_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.KeyboardCode.Down, _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.KeyboardCode.Right, _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.KeyboardCode.Up, _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.KeyboardCode.Left];\nconst sortableKeyboardCoordinates = (event, _ref) => {\n  let {\n    context: {\n      active,\n      collisionRect,\n      droppableRects,\n      droppableContainers,\n      over,\n      scrollableAncestors\n    }\n  } = _ref;\n\n  if (directions.includes(event.code)) {\n    event.preventDefault();\n\n    if (!active || !collisionRect) {\n      return;\n    }\n\n    const filteredContainers = [];\n    droppableContainers.getEnabled().forEach(entry => {\n      if (!entry || entry != null && entry.disabled) {\n        return;\n      }\n\n      const rect = droppableRects.get(entry.id);\n\n      if (!rect) {\n        return;\n      }\n\n      switch (event.code) {\n        case _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.KeyboardCode.Down:\n          if (collisionRect.top < rect.top) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n\n        case _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.KeyboardCode.Up:\n          if (collisionRect.top > rect.top) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n\n        case _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.KeyboardCode.Left:\n          if (collisionRect.left > rect.left) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n\n        case _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.KeyboardCode.Right:\n          if (collisionRect.left < rect.left) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n      }\n    });\n    const collisions = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.closestCorners)({\n      active,\n      collisionRect: collisionRect,\n      droppableRects,\n      droppableContainers: filteredContainers,\n      pointerCoordinates: null\n    });\n    let closestId = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.getFirstCollision)(collisions, 'id');\n\n    if (closestId === (over == null ? void 0 : over.id) && collisions.length > 1) {\n      closestId = collisions[1].id;\n    }\n\n    if (closestId != null) {\n      const activeDroppable = droppableContainers.get(active.id);\n      const newDroppable = droppableContainers.get(closestId);\n      const newRect = newDroppable ? droppableRects.get(newDroppable.id) : null;\n      const newNode = newDroppable == null ? void 0 : newDroppable.node.current;\n\n      if (newNode && newRect && activeDroppable && newDroppable) {\n        const newScrollAncestors = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.getScrollableAncestors)(newNode);\n        const hasDifferentScrollAncestors = newScrollAncestors.some((element, index) => scrollableAncestors[index] !== element);\n        const hasSameContainer = isSameContainer(activeDroppable, newDroppable);\n        const isAfterActive = isAfter(activeDroppable, newDroppable);\n        const offset = hasDifferentScrollAncestors || !hasSameContainer ? {\n          x: 0,\n          y: 0\n        } : {\n          x: isAfterActive ? collisionRect.width - newRect.width : 0,\n          y: isAfterActive ? collisionRect.height - newRect.height : 0\n        };\n        const rectCoordinates = {\n          x: newRect.left,\n          y: newRect.top\n        };\n        const newCoordinates = offset.x && offset.y ? rectCoordinates : (0,_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_2__.subtract)(rectCoordinates, offset);\n        return newCoordinates;\n      }\n    }\n  }\n\n  return undefined;\n};\n\nfunction isSameContainer(a, b) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  return a.data.current.sortable.containerId === b.data.current.sortable.containerId;\n}\n\nfunction isAfter(a, b) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  if (!isSameContainer(a, b)) {\n    return false;\n  }\n\n  return a.data.current.sortable.index < b.data.current.sortable.index;\n}\n\n\n//# sourceMappingURL=sortable.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9zb3J0YWJsZS9kaXN0L3NvcnRhYmxlLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdGO0FBQ2tGO0FBQ3JDOztBQUU3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG9CQUFvQix1REFBWSxPQUFPLHVEQUFZLFFBQVEsdURBQVksS0FBSyx1REFBWTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLHVEQUFZO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxhQUFhLHVEQUFZO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxhQUFhLHVEQUFZO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxhQUFhLHVEQUFZO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHVCQUF1Qiw2REFBYztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9CQUFvQixnRUFBaUI7O0FBRXJDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DLHFFQUFzQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsNERBQVE7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUV1UTtBQUN2USIsInNvdXJjZXMiOlsiL1VzZXJzL25hcmVzaC5wZW50YXBhdGkvRG9jdW1lbnRzL1Byb2plY3RzL2ZyYWdyYW5jZUZvcm11bGEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3NvcnRhYmxlL2Rpc3Qvc29ydGFibGUuZXNtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VNZW1vLCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEbmRDb250ZXh0LCBnZXRDbGllbnRSZWN0LCB1c2VEcm9wcGFibGUsIHVzZURyYWdnYWJsZSwgY2xvc2VzdENvcm5lcnMsIGdldEZpcnN0Q29sbGlzaW9uLCBnZXRTY3JvbGxhYmxlQW5jZXN0b3JzLCBLZXlib2FyZENvZGUgfSBmcm9tICdAZG5kLWtpdC9jb3JlJztcbmltcG9ydCB7IHVzZVVuaXF1ZUlkLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LCBDU1MsIHVzZUNvbWJpbmVkUmVmcywgaXNLZXlib2FyZEV2ZW50LCBzdWJ0cmFjdCB9IGZyb20gJ0BkbmQta2l0L3V0aWxpdGllcyc7XG5cbi8qKlxyXG4gKiBNb3ZlIGFuIGFycmF5IGl0ZW0gdG8gYSBkaWZmZXJlbnQgcG9zaXRpb24uIFJldHVybnMgYSBuZXcgYXJyYXkgd2l0aCB0aGUgaXRlbSBtb3ZlZCB0byB0aGUgbmV3IHBvc2l0aW9uLlxyXG4gKi9cbmZ1bmN0aW9uIGFycmF5TW92ZShhcnJheSwgZnJvbSwgdG8pIHtcbiAgY29uc3QgbmV3QXJyYXkgPSBhcnJheS5zbGljZSgpO1xuICBuZXdBcnJheS5zcGxpY2UodG8gPCAwID8gbmV3QXJyYXkubGVuZ3RoICsgdG8gOiB0bywgMCwgbmV3QXJyYXkuc3BsaWNlKGZyb20sIDEpWzBdKTtcbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG4vKipcclxuICogU3dhcCBhbiBhcnJheSBpdGVtIHRvIGEgZGlmZmVyZW50IHBvc2l0aW9uLiBSZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggdGhlIGl0ZW0gc3dhcHBlZCB0byB0aGUgbmV3IHBvc2l0aW9uLlxyXG4gKi9cbmZ1bmN0aW9uIGFycmF5U3dhcChhcnJheSwgZnJvbSwgdG8pIHtcbiAgY29uc3QgbmV3QXJyYXkgPSBhcnJheS5zbGljZSgpO1xuICBuZXdBcnJheVtmcm9tXSA9IGFycmF5W3RvXTtcbiAgbmV3QXJyYXlbdG9dID0gYXJyYXlbZnJvbV07XG4gIHJldHVybiBuZXdBcnJheTtcbn1cblxuZnVuY3Rpb24gZ2V0U29ydGVkUmVjdHMoaXRlbXMsIHJlY3RzKSB7XG4gIHJldHVybiBpdGVtcy5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBpZCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCByZWN0ID0gcmVjdHMuZ2V0KGlkKTtcblxuICAgIGlmIChyZWN0KSB7XG4gICAgICBhY2N1bXVsYXRvcltpbmRleF0gPSByZWN0O1xuICAgIH1cblxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfSwgQXJyYXkoaXRlbXMubGVuZ3RoKSk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRJbmRleChpbmRleCkge1xuICByZXR1cm4gaW5kZXggIT09IG51bGwgJiYgaW5kZXggPj0gMDtcbn1cblxuZnVuY3Rpb24gaXRlbXNFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGlzYWJsZWQoZGlzYWJsZWQpIHtcbiAgaWYgKHR5cGVvZiBkaXNhYmxlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRyYWdnYWJsZTogZGlzYWJsZWQsXG4gICAgICBkcm9wcGFibGU6IGRpc2FibGVkXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBkaXNhYmxlZDtcbn1cblxuLy8gVG8tZG86IFdlIHNob3VsZCBiZSBjYWxjdWxhdGluZyBzY2FsZSB0cmFuc2Zvcm1hdGlvblxuY29uc3QgZGVmYXVsdFNjYWxlID0ge1xuICBzY2FsZVg6IDEsXG4gIHNjYWxlWTogMVxufTtcbmNvbnN0IGhvcml6b250YWxMaXN0U29ydGluZ1N0cmF0ZWd5ID0gX3JlZiA9PiB7XG4gIHZhciBfcmVjdHMkYWN0aXZlSW5kZXg7XG5cbiAgbGV0IHtcbiAgICByZWN0cyxcbiAgICBhY3RpdmVOb2RlUmVjdDogZmFsbGJhY2tBY3RpdmVSZWN0LFxuICAgIGFjdGl2ZUluZGV4LFxuICAgIG92ZXJJbmRleCxcbiAgICBpbmRleFxuICB9ID0gX3JlZjtcbiAgY29uc3QgYWN0aXZlTm9kZVJlY3QgPSAoX3JlY3RzJGFjdGl2ZUluZGV4ID0gcmVjdHNbYWN0aXZlSW5kZXhdKSAhPSBudWxsID8gX3JlY3RzJGFjdGl2ZUluZGV4IDogZmFsbGJhY2tBY3RpdmVSZWN0O1xuXG4gIGlmICghYWN0aXZlTm9kZVJlY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGl0ZW1HYXAgPSBnZXRJdGVtR2FwKHJlY3RzLCBpbmRleCwgYWN0aXZlSW5kZXgpO1xuXG4gIGlmIChpbmRleCA9PT0gYWN0aXZlSW5kZXgpIHtcbiAgICBjb25zdCBuZXdJbmRleFJlY3QgPSByZWN0c1tvdmVySW5kZXhdO1xuXG4gICAgaWYgKCFuZXdJbmRleFJlY3QpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB4OiBhY3RpdmVJbmRleCA8IG92ZXJJbmRleCA/IG5ld0luZGV4UmVjdC5sZWZ0ICsgbmV3SW5kZXhSZWN0LndpZHRoIC0gKGFjdGl2ZU5vZGVSZWN0LmxlZnQgKyBhY3RpdmVOb2RlUmVjdC53aWR0aCkgOiBuZXdJbmRleFJlY3QubGVmdCAtIGFjdGl2ZU5vZGVSZWN0LmxlZnQsXG4gICAgICB5OiAwLFxuICAgICAgLi4uZGVmYXVsdFNjYWxlXG4gICAgfTtcbiAgfVxuXG4gIGlmIChpbmRleCA+IGFjdGl2ZUluZGV4ICYmIGluZGV4IDw9IG92ZXJJbmRleCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiAtYWN0aXZlTm9kZVJlY3Qud2lkdGggLSBpdGVtR2FwLFxuICAgICAgeTogMCxcbiAgICAgIC4uLmRlZmF1bHRTY2FsZVxuICAgIH07XG4gIH1cblxuICBpZiAoaW5kZXggPCBhY3RpdmVJbmRleCAmJiBpbmRleCA+PSBvdmVySW5kZXgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogYWN0aXZlTm9kZVJlY3Qud2lkdGggKyBpdGVtR2FwLFxuICAgICAgeTogMCxcbiAgICAgIC4uLmRlZmF1bHRTY2FsZVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICAuLi5kZWZhdWx0U2NhbGVcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldEl0ZW1HYXAocmVjdHMsIGluZGV4LCBhY3RpdmVJbmRleCkge1xuICBjb25zdCBjdXJyZW50UmVjdCA9IHJlY3RzW2luZGV4XTtcbiAgY29uc3QgcHJldmlvdXNSZWN0ID0gcmVjdHNbaW5kZXggLSAxXTtcbiAgY29uc3QgbmV4dFJlY3QgPSByZWN0c1tpbmRleCArIDFdO1xuXG4gIGlmICghY3VycmVudFJlY3QgfHwgIXByZXZpb3VzUmVjdCAmJiAhbmV4dFJlY3QpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmIChhY3RpdmVJbmRleCA8IGluZGV4KSB7XG4gICAgcmV0dXJuIHByZXZpb3VzUmVjdCA/IGN1cnJlbnRSZWN0LmxlZnQgLSAocHJldmlvdXNSZWN0LmxlZnQgKyBwcmV2aW91c1JlY3Qud2lkdGgpIDogbmV4dFJlY3QubGVmdCAtIChjdXJyZW50UmVjdC5sZWZ0ICsgY3VycmVudFJlY3Qud2lkdGgpO1xuICB9XG5cbiAgcmV0dXJuIG5leHRSZWN0ID8gbmV4dFJlY3QubGVmdCAtIChjdXJyZW50UmVjdC5sZWZ0ICsgY3VycmVudFJlY3Qud2lkdGgpIDogY3VycmVudFJlY3QubGVmdCAtIChwcmV2aW91c1JlY3QubGVmdCArIHByZXZpb3VzUmVjdC53aWR0aCk7XG59XG5cbmNvbnN0IHJlY3RTb3J0aW5nU3RyYXRlZ3kgPSBfcmVmID0+IHtcbiAgbGV0IHtcbiAgICByZWN0cyxcbiAgICBhY3RpdmVJbmRleCxcbiAgICBvdmVySW5kZXgsXG4gICAgaW5kZXhcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IG5ld1JlY3RzID0gYXJyYXlNb3ZlKHJlY3RzLCBvdmVySW5kZXgsIGFjdGl2ZUluZGV4KTtcbiAgY29uc3Qgb2xkUmVjdCA9IHJlY3RzW2luZGV4XTtcbiAgY29uc3QgbmV3UmVjdCA9IG5ld1JlY3RzW2luZGV4XTtcblxuICBpZiAoIW5ld1JlY3QgfHwgIW9sZFJlY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogbmV3UmVjdC5sZWZ0IC0gb2xkUmVjdC5sZWZ0LFxuICAgIHk6IG5ld1JlY3QudG9wIC0gb2xkUmVjdC50b3AsXG4gICAgc2NhbGVYOiBuZXdSZWN0LndpZHRoIC8gb2xkUmVjdC53aWR0aCxcbiAgICBzY2FsZVk6IG5ld1JlY3QuaGVpZ2h0IC8gb2xkUmVjdC5oZWlnaHRcbiAgfTtcbn07XG5cbmNvbnN0IHJlY3RTd2FwcGluZ1N0cmF0ZWd5ID0gX3JlZiA9PiB7XG4gIGxldCB7XG4gICAgYWN0aXZlSW5kZXgsXG4gICAgaW5kZXgsXG4gICAgcmVjdHMsXG4gICAgb3ZlckluZGV4XG4gIH0gPSBfcmVmO1xuICBsZXQgb2xkUmVjdDtcbiAgbGV0IG5ld1JlY3Q7XG5cbiAgaWYgKGluZGV4ID09PSBhY3RpdmVJbmRleCkge1xuICAgIG9sZFJlY3QgPSByZWN0c1tpbmRleF07XG4gICAgbmV3UmVjdCA9IHJlY3RzW292ZXJJbmRleF07XG4gIH1cblxuICBpZiAoaW5kZXggPT09IG92ZXJJbmRleCkge1xuICAgIG9sZFJlY3QgPSByZWN0c1tpbmRleF07XG4gICAgbmV3UmVjdCA9IHJlY3RzW2FjdGl2ZUluZGV4XTtcbiAgfVxuXG4gIGlmICghbmV3UmVjdCB8fCAhb2xkUmVjdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBuZXdSZWN0LmxlZnQgLSBvbGRSZWN0LmxlZnQsXG4gICAgeTogbmV3UmVjdC50b3AgLSBvbGRSZWN0LnRvcCxcbiAgICBzY2FsZVg6IG5ld1JlY3Qud2lkdGggLyBvbGRSZWN0LndpZHRoLFxuICAgIHNjYWxlWTogbmV3UmVjdC5oZWlnaHQgLyBvbGRSZWN0LmhlaWdodFxuICB9O1xufTtcblxuLy8gVG8tZG86IFdlIHNob3VsZCBiZSBjYWxjdWxhdGluZyBzY2FsZSB0cmFuc2Zvcm1hdGlvblxuY29uc3QgZGVmYXVsdFNjYWxlJDEgPSB7XG4gIHNjYWxlWDogMSxcbiAgc2NhbGVZOiAxXG59O1xuY29uc3QgdmVydGljYWxMaXN0U29ydGluZ1N0cmF0ZWd5ID0gX3JlZiA9PiB7XG4gIHZhciBfcmVjdHMkYWN0aXZlSW5kZXg7XG5cbiAgbGV0IHtcbiAgICBhY3RpdmVJbmRleCxcbiAgICBhY3RpdmVOb2RlUmVjdDogZmFsbGJhY2tBY3RpdmVSZWN0LFxuICAgIGluZGV4LFxuICAgIHJlY3RzLFxuICAgIG92ZXJJbmRleFxuICB9ID0gX3JlZjtcbiAgY29uc3QgYWN0aXZlTm9kZVJlY3QgPSAoX3JlY3RzJGFjdGl2ZUluZGV4ID0gcmVjdHNbYWN0aXZlSW5kZXhdKSAhPSBudWxsID8gX3JlY3RzJGFjdGl2ZUluZGV4IDogZmFsbGJhY2tBY3RpdmVSZWN0O1xuXG4gIGlmICghYWN0aXZlTm9kZVJlY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChpbmRleCA9PT0gYWN0aXZlSW5kZXgpIHtcbiAgICBjb25zdCBvdmVySW5kZXhSZWN0ID0gcmVjdHNbb3ZlckluZGV4XTtcblxuICAgIGlmICghb3ZlckluZGV4UmVjdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiBhY3RpdmVJbmRleCA8IG92ZXJJbmRleCA/IG92ZXJJbmRleFJlY3QudG9wICsgb3ZlckluZGV4UmVjdC5oZWlnaHQgLSAoYWN0aXZlTm9kZVJlY3QudG9wICsgYWN0aXZlTm9kZVJlY3QuaGVpZ2h0KSA6IG92ZXJJbmRleFJlY3QudG9wIC0gYWN0aXZlTm9kZVJlY3QudG9wLFxuICAgICAgLi4uZGVmYXVsdFNjYWxlJDFcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgaXRlbUdhcCA9IGdldEl0ZW1HYXAkMShyZWN0cywgaW5kZXgsIGFjdGl2ZUluZGV4KTtcblxuICBpZiAoaW5kZXggPiBhY3RpdmVJbmRleCAmJiBpbmRleCA8PSBvdmVySW5kZXgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IC1hY3RpdmVOb2RlUmVjdC5oZWlnaHQgLSBpdGVtR2FwLFxuICAgICAgLi4uZGVmYXVsdFNjYWxlJDFcbiAgICB9O1xuICB9XG5cbiAgaWYgKGluZGV4IDwgYWN0aXZlSW5kZXggJiYgaW5kZXggPj0gb3ZlckluZGV4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiBhY3RpdmVOb2RlUmVjdC5oZWlnaHQgKyBpdGVtR2FwLFxuICAgICAgLi4uZGVmYXVsdFNjYWxlJDFcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgLi4uZGVmYXVsdFNjYWxlJDFcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldEl0ZW1HYXAkMShjbGllbnRSZWN0cywgaW5kZXgsIGFjdGl2ZUluZGV4KSB7XG4gIGNvbnN0IGN1cnJlbnRSZWN0ID0gY2xpZW50UmVjdHNbaW5kZXhdO1xuICBjb25zdCBwcmV2aW91c1JlY3QgPSBjbGllbnRSZWN0c1tpbmRleCAtIDFdO1xuICBjb25zdCBuZXh0UmVjdCA9IGNsaWVudFJlY3RzW2luZGV4ICsgMV07XG5cbiAgaWYgKCFjdXJyZW50UmVjdCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKGFjdGl2ZUluZGV4IDwgaW5kZXgpIHtcbiAgICByZXR1cm4gcHJldmlvdXNSZWN0ID8gY3VycmVudFJlY3QudG9wIC0gKHByZXZpb3VzUmVjdC50b3AgKyBwcmV2aW91c1JlY3QuaGVpZ2h0KSA6IG5leHRSZWN0ID8gbmV4dFJlY3QudG9wIC0gKGN1cnJlbnRSZWN0LnRvcCArIGN1cnJlbnRSZWN0LmhlaWdodCkgOiAwO1xuICB9XG5cbiAgcmV0dXJuIG5leHRSZWN0ID8gbmV4dFJlY3QudG9wIC0gKGN1cnJlbnRSZWN0LnRvcCArIGN1cnJlbnRSZWN0LmhlaWdodCkgOiBwcmV2aW91c1JlY3QgPyBjdXJyZW50UmVjdC50b3AgLSAocHJldmlvdXNSZWN0LnRvcCArIHByZXZpb3VzUmVjdC5oZWlnaHQpIDogMDtcbn1cblxuY29uc3QgSURfUFJFRklYID0gJ1NvcnRhYmxlJztcbmNvbnN0IENvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gIGFjdGl2ZUluZGV4OiAtMSxcbiAgY29udGFpbmVySWQ6IElEX1BSRUZJWCxcbiAgZGlzYWJsZVRyYW5zZm9ybXM6IGZhbHNlLFxuICBpdGVtczogW10sXG4gIG92ZXJJbmRleDogLTEsXG4gIHVzZURyYWdPdmVybGF5OiBmYWxzZSxcbiAgc29ydGVkUmVjdHM6IFtdLFxuICBzdHJhdGVneTogcmVjdFNvcnRpbmdTdHJhdGVneSxcbiAgZGlzYWJsZWQ6IHtcbiAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgIGRyb3BwYWJsZTogZmFsc2VcbiAgfVxufSk7XG5mdW5jdGlvbiBTb3J0YWJsZUNvbnRleHQoX3JlZikge1xuICBsZXQge1xuICAgIGNoaWxkcmVuLFxuICAgIGlkLFxuICAgIGl0ZW1zOiB1c2VyRGVmaW5lZEl0ZW1zLFxuICAgIHN0cmF0ZWd5ID0gcmVjdFNvcnRpbmdTdHJhdGVneSxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWRQcm9wID0gZmFsc2VcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmUsXG4gICAgZHJhZ092ZXJsYXksXG4gICAgZHJvcHBhYmxlUmVjdHMsXG4gICAgb3ZlcixcbiAgICBtZWFzdXJlRHJvcHBhYmxlQ29udGFpbmVyc1xuICB9ID0gdXNlRG5kQ29udGV4dCgpO1xuICBjb25zdCBjb250YWluZXJJZCA9IHVzZVVuaXF1ZUlkKElEX1BSRUZJWCwgaWQpO1xuICBjb25zdCB1c2VEcmFnT3ZlcmxheSA9IEJvb2xlYW4oZHJhZ092ZXJsYXkucmVjdCAhPT0gbnVsbCk7XG4gIGNvbnN0IGl0ZW1zID0gdXNlTWVtbygoKSA9PiB1c2VyRGVmaW5lZEl0ZW1zLm1hcChpdGVtID0+IHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiAnaWQnIGluIGl0ZW0gPyBpdGVtLmlkIDogaXRlbSksIFt1c2VyRGVmaW5lZEl0ZW1zXSk7XG4gIGNvbnN0IGlzRHJhZ2dpbmcgPSBhY3RpdmUgIT0gbnVsbDtcbiAgY29uc3QgYWN0aXZlSW5kZXggPSBhY3RpdmUgPyBpdGVtcy5pbmRleE9mKGFjdGl2ZS5pZCkgOiAtMTtcbiAgY29uc3Qgb3ZlckluZGV4ID0gb3ZlciA/IGl0ZW1zLmluZGV4T2Yob3Zlci5pZCkgOiAtMTtcbiAgY29uc3QgcHJldmlvdXNJdGVtc1JlZiA9IHVzZVJlZihpdGVtcyk7XG4gIGNvbnN0IGl0ZW1zSGF2ZUNoYW5nZWQgPSAhaXRlbXNFcXVhbChpdGVtcywgcHJldmlvdXNJdGVtc1JlZi5jdXJyZW50KTtcbiAgY29uc3QgZGlzYWJsZVRyYW5zZm9ybXMgPSBvdmVySW5kZXggIT09IC0xICYmIGFjdGl2ZUluZGV4ID09PSAtMSB8fCBpdGVtc0hhdmVDaGFuZ2VkO1xuICBjb25zdCBkaXNhYmxlZCA9IG5vcm1hbGl6ZURpc2FibGVkKGRpc2FibGVkUHJvcCk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpdGVtc0hhdmVDaGFuZ2VkICYmIGlzRHJhZ2dpbmcpIHtcbiAgICAgIG1lYXN1cmVEcm9wcGFibGVDb250YWluZXJzKGl0ZW1zKTtcbiAgICB9XG4gIH0sIFtpdGVtc0hhdmVDaGFuZ2VkLCBpdGVtcywgaXNEcmFnZ2luZywgbWVhc3VyZURyb3BwYWJsZUNvbnRhaW5lcnNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBwcmV2aW91c0l0ZW1zUmVmLmN1cnJlbnQgPSBpdGVtcztcbiAgfSwgW2l0ZW1zXSk7XG4gIGNvbnN0IGNvbnRleHRWYWx1ZSA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICBhY3RpdmVJbmRleCxcbiAgICBjb250YWluZXJJZCxcbiAgICBkaXNhYmxlZCxcbiAgICBkaXNhYmxlVHJhbnNmb3JtcyxcbiAgICBpdGVtcyxcbiAgICBvdmVySW5kZXgsXG4gICAgdXNlRHJhZ092ZXJsYXksXG4gICAgc29ydGVkUmVjdHM6IGdldFNvcnRlZFJlY3RzKGl0ZW1zLCBkcm9wcGFibGVSZWN0cyksXG4gICAgc3RyYXRlZ3lcbiAgfSksIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgW2FjdGl2ZUluZGV4LCBjb250YWluZXJJZCwgZGlzYWJsZWQuZHJhZ2dhYmxlLCBkaXNhYmxlZC5kcm9wcGFibGUsIGRpc2FibGVUcmFuc2Zvcm1zLCBpdGVtcywgb3ZlckluZGV4LCBkcm9wcGFibGVSZWN0cywgdXNlRHJhZ092ZXJsYXksIHN0cmF0ZWd5XSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY29udGV4dFZhbHVlXG4gIH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgZGVmYXVsdE5ld0luZGV4R2V0dGVyID0gX3JlZiA9PiB7XG4gIGxldCB7XG4gICAgaWQsXG4gICAgaXRlbXMsXG4gICAgYWN0aXZlSW5kZXgsXG4gICAgb3ZlckluZGV4XG4gIH0gPSBfcmVmO1xuICByZXR1cm4gYXJyYXlNb3ZlKGl0ZW1zLCBhY3RpdmVJbmRleCwgb3ZlckluZGV4KS5pbmRleE9mKGlkKTtcbn07XG5jb25zdCBkZWZhdWx0QW5pbWF0ZUxheW91dENoYW5nZXMgPSBfcmVmMiA9PiB7XG4gIGxldCB7XG4gICAgY29udGFpbmVySWQsXG4gICAgaXNTb3J0aW5nLFxuICAgIHdhc0RyYWdnaW5nLFxuICAgIGluZGV4LFxuICAgIGl0ZW1zLFxuICAgIG5ld0luZGV4LFxuICAgIHByZXZpb3VzSXRlbXMsXG4gICAgcHJldmlvdXNDb250YWluZXJJZCxcbiAgICB0cmFuc2l0aW9uXG4gIH0gPSBfcmVmMjtcblxuICBpZiAoIXRyYW5zaXRpb24gfHwgIXdhc0RyYWdnaW5nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHByZXZpb3VzSXRlbXMgIT09IGl0ZW1zICYmIGluZGV4ID09PSBuZXdJbmRleCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpc1NvcnRpbmcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBuZXdJbmRleCAhPT0gaW5kZXggJiYgY29udGFpbmVySWQgPT09IHByZXZpb3VzQ29udGFpbmVySWQ7XG59O1xuY29uc3QgZGVmYXVsdFRyYW5zaXRpb24gPSB7XG4gIGR1cmF0aW9uOiAyMDAsXG4gIGVhc2luZzogJ2Vhc2UnXG59O1xuY29uc3QgdHJhbnNpdGlvblByb3BlcnR5ID0gJ3RyYW5zZm9ybSc7XG5jb25zdCBkaXNhYmxlZFRyYW5zaXRpb24gPSAvKiNfX1BVUkVfXyovQ1NTLlRyYW5zaXRpb24udG9TdHJpbmcoe1xuICBwcm9wZXJ0eTogdHJhbnNpdGlvblByb3BlcnR5LFxuICBkdXJhdGlvbjogMCxcbiAgZWFzaW5nOiAnbGluZWFyJ1xufSk7XG5jb25zdCBkZWZhdWx0QXR0cmlidXRlcyA9IHtcbiAgcm9sZURlc2NyaXB0aW9uOiAnc29ydGFibGUnXG59O1xuXG4vKlxyXG4gKiBXaGVuIHRoZSBpbmRleCBvZiBhbiBpdGVtIGNoYW5nZXMgd2hpbGUgc29ydGluZyxcclxuICogd2UgbmVlZCB0byB0ZW1wb3JhcmlseSBkaXNhYmxlIHRoZSB0cmFuc2Zvcm1zXHJcbiAqL1xuXG5mdW5jdGlvbiB1c2VEZXJpdmVkVHJhbnNmb3JtKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBkaXNhYmxlZCxcbiAgICBpbmRleCxcbiAgICBub2RlLFxuICAgIHJlY3RcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IFtkZXJpdmVkVHJhbnNmb3JtLCBzZXREZXJpdmVkdHJhbnNmb3JtXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBwcmV2aW91c0luZGV4ID0gdXNlUmVmKGluZGV4KTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFkaXNhYmxlZCAmJiBpbmRleCAhPT0gcHJldmlvdXNJbmRleC5jdXJyZW50ICYmIG5vZGUuY3VycmVudCkge1xuICAgICAgY29uc3QgaW5pdGlhbCA9IHJlY3QuY3VycmVudDtcblxuICAgICAgaWYgKGluaXRpYWwpIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGdldENsaWVudFJlY3Qobm9kZS5jdXJyZW50LCB7XG4gICAgICAgICAgaWdub3JlVHJhbnNmb3JtOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBkZWx0YSA9IHtcbiAgICAgICAgICB4OiBpbml0aWFsLmxlZnQgLSBjdXJyZW50LmxlZnQsXG4gICAgICAgICAgeTogaW5pdGlhbC50b3AgLSBjdXJyZW50LnRvcCxcbiAgICAgICAgICBzY2FsZVg6IGluaXRpYWwud2lkdGggLyBjdXJyZW50LndpZHRoLFxuICAgICAgICAgIHNjYWxlWTogaW5pdGlhbC5oZWlnaHQgLyBjdXJyZW50LmhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChkZWx0YS54IHx8IGRlbHRhLnkpIHtcbiAgICAgICAgICBzZXREZXJpdmVkdHJhbnNmb3JtKGRlbHRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbmRleCAhPT0gcHJldmlvdXNJbmRleC5jdXJyZW50KSB7XG4gICAgICBwcmV2aW91c0luZGV4LmN1cnJlbnQgPSBpbmRleDtcbiAgICB9XG4gIH0sIFtkaXNhYmxlZCwgaW5kZXgsIG5vZGUsIHJlY3RdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGVyaXZlZFRyYW5zZm9ybSkge1xuICAgICAgc2V0RGVyaXZlZHRyYW5zZm9ybShudWxsKTtcbiAgICB9XG4gIH0sIFtkZXJpdmVkVHJhbnNmb3JtXSk7XG4gIHJldHVybiBkZXJpdmVkVHJhbnNmb3JtO1xufVxuXG5mdW5jdGlvbiB1c2VTb3J0YWJsZShfcmVmKSB7XG4gIGxldCB7XG4gICAgYW5pbWF0ZUxheW91dENoYW5nZXMgPSBkZWZhdWx0QW5pbWF0ZUxheW91dENoYW5nZXMsXG4gICAgYXR0cmlidXRlczogdXNlckRlZmluZWRBdHRyaWJ1dGVzLFxuICAgIGRpc2FibGVkOiBsb2NhbERpc2FibGVkLFxuICAgIGRhdGE6IGN1c3RvbURhdGEsXG4gICAgZ2V0TmV3SW5kZXggPSBkZWZhdWx0TmV3SW5kZXhHZXR0ZXIsXG4gICAgaWQsXG4gICAgc3RyYXRlZ3k6IGxvY2FsU3RyYXRlZ3ksXG4gICAgcmVzaXplT2JzZXJ2ZXJDb25maWcsXG4gICAgdHJhbnNpdGlvbiA9IGRlZmF1bHRUcmFuc2l0aW9uXG4gIH0gPSBfcmVmO1xuICBjb25zdCB7XG4gICAgaXRlbXMsXG4gICAgY29udGFpbmVySWQsXG4gICAgYWN0aXZlSW5kZXgsXG4gICAgZGlzYWJsZWQ6IGdsb2JhbERpc2FibGVkLFxuICAgIGRpc2FibGVUcmFuc2Zvcm1zLFxuICAgIHNvcnRlZFJlY3RzLFxuICAgIG92ZXJJbmRleCxcbiAgICB1c2VEcmFnT3ZlcmxheSxcbiAgICBzdHJhdGVneTogZ2xvYmFsU3RyYXRlZ3lcbiAgfSA9IHVzZUNvbnRleHQoQ29udGV4dCk7XG4gIGNvbnN0IGRpc2FibGVkID0gbm9ybWFsaXplTG9jYWxEaXNhYmxlZChsb2NhbERpc2FibGVkLCBnbG9iYWxEaXNhYmxlZCk7XG4gIGNvbnN0IGluZGV4ID0gaXRlbXMuaW5kZXhPZihpZCk7XG4gIGNvbnN0IGRhdGEgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgc29ydGFibGU6IHtcbiAgICAgIGNvbnRhaW5lcklkLFxuICAgICAgaW5kZXgsXG4gICAgICBpdGVtc1xuICAgIH0sXG4gICAgLi4uY3VzdG9tRGF0YVxuICB9KSwgW2NvbnRhaW5lcklkLCBjdXN0b21EYXRhLCBpbmRleCwgaXRlbXNdKTtcbiAgY29uc3QgaXRlbXNBZnRlckN1cnJlbnRTb3J0YWJsZSA9IHVzZU1lbW8oKCkgPT4gaXRlbXMuc2xpY2UoaXRlbXMuaW5kZXhPZihpZCkpLCBbaXRlbXMsIGlkXSk7XG4gIGNvbnN0IHtcbiAgICByZWN0LFxuICAgIG5vZGUsXG4gICAgaXNPdmVyLFxuICAgIHNldE5vZGVSZWY6IHNldERyb3BwYWJsZU5vZGVSZWZcbiAgfSA9IHVzZURyb3BwYWJsZSh7XG4gICAgaWQsXG4gICAgZGF0YSxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQuZHJvcHBhYmxlLFxuICAgIHJlc2l6ZU9ic2VydmVyQ29uZmlnOiB7XG4gICAgICB1cGRhdGVNZWFzdXJlbWVudHNGb3I6IGl0ZW1zQWZ0ZXJDdXJyZW50U29ydGFibGUsXG4gICAgICAuLi5yZXNpemVPYnNlcnZlckNvbmZpZ1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmUsXG4gICAgYWN0aXZhdG9yRXZlbnQsXG4gICAgYWN0aXZlTm9kZVJlY3QsXG4gICAgYXR0cmlidXRlcyxcbiAgICBzZXROb2RlUmVmOiBzZXREcmFnZ2FibGVOb2RlUmVmLFxuICAgIGxpc3RlbmVycyxcbiAgICBpc0RyYWdnaW5nLFxuICAgIG92ZXIsXG4gICAgc2V0QWN0aXZhdG9yTm9kZVJlZixcbiAgICB0cmFuc2Zvcm1cbiAgfSA9IHVzZURyYWdnYWJsZSh7XG4gICAgaWQsXG4gICAgZGF0YSxcbiAgICBhdHRyaWJ1dGVzOiB7IC4uLmRlZmF1bHRBdHRyaWJ1dGVzLFxuICAgICAgLi4udXNlckRlZmluZWRBdHRyaWJ1dGVzXG4gICAgfSxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQuZHJhZ2dhYmxlXG4gIH0pO1xuICBjb25zdCBzZXROb2RlUmVmID0gdXNlQ29tYmluZWRSZWZzKHNldERyb3BwYWJsZU5vZGVSZWYsIHNldERyYWdnYWJsZU5vZGVSZWYpO1xuICBjb25zdCBpc1NvcnRpbmcgPSBCb29sZWFuKGFjdGl2ZSk7XG4gIGNvbnN0IGRpc3BsYWNlSXRlbSA9IGlzU29ydGluZyAmJiAhZGlzYWJsZVRyYW5zZm9ybXMgJiYgaXNWYWxpZEluZGV4KGFjdGl2ZUluZGV4KSAmJiBpc1ZhbGlkSW5kZXgob3ZlckluZGV4KTtcbiAgY29uc3Qgc2hvdWxkRGlzcGxhY2VEcmFnU291cmNlID0gIXVzZURyYWdPdmVybGF5ICYmIGlzRHJhZ2dpbmc7XG4gIGNvbnN0IGRyYWdTb3VyY2VEaXNwbGFjZW1lbnQgPSBzaG91bGREaXNwbGFjZURyYWdTb3VyY2UgJiYgZGlzcGxhY2VJdGVtID8gdHJhbnNmb3JtIDogbnVsbDtcbiAgY29uc3Qgc3RyYXRlZ3kgPSBsb2NhbFN0cmF0ZWd5ICE9IG51bGwgPyBsb2NhbFN0cmF0ZWd5IDogZ2xvYmFsU3RyYXRlZ3k7XG4gIGNvbnN0IGZpbmFsVHJhbnNmb3JtID0gZGlzcGxhY2VJdGVtID8gZHJhZ1NvdXJjZURpc3BsYWNlbWVudCAhPSBudWxsID8gZHJhZ1NvdXJjZURpc3BsYWNlbWVudCA6IHN0cmF0ZWd5KHtcbiAgICByZWN0czogc29ydGVkUmVjdHMsXG4gICAgYWN0aXZlTm9kZVJlY3QsXG4gICAgYWN0aXZlSW5kZXgsXG4gICAgb3ZlckluZGV4LFxuICAgIGluZGV4XG4gIH0pIDogbnVsbDtcbiAgY29uc3QgbmV3SW5kZXggPSBpc1ZhbGlkSW5kZXgoYWN0aXZlSW5kZXgpICYmIGlzVmFsaWRJbmRleChvdmVySW5kZXgpID8gZ2V0TmV3SW5kZXgoe1xuICAgIGlkLFxuICAgIGl0ZW1zLFxuICAgIGFjdGl2ZUluZGV4LFxuICAgIG92ZXJJbmRleFxuICB9KSA6IGluZGV4O1xuICBjb25zdCBhY3RpdmVJZCA9IGFjdGl2ZSA9PSBudWxsID8gdm9pZCAwIDogYWN0aXZlLmlkO1xuICBjb25zdCBwcmV2aW91cyA9IHVzZVJlZih7XG4gICAgYWN0aXZlSWQsXG4gICAgaXRlbXMsXG4gICAgbmV3SW5kZXgsXG4gICAgY29udGFpbmVySWRcbiAgfSk7XG4gIGNvbnN0IGl0ZW1zSGF2ZUNoYW5nZWQgPSBpdGVtcyAhPT0gcHJldmlvdXMuY3VycmVudC5pdGVtcztcbiAgY29uc3Qgc2hvdWxkQW5pbWF0ZUxheW91dENoYW5nZXMgPSBhbmltYXRlTGF5b3V0Q2hhbmdlcyh7XG4gICAgYWN0aXZlLFxuICAgIGNvbnRhaW5lcklkLFxuICAgIGlzRHJhZ2dpbmcsXG4gICAgaXNTb3J0aW5nLFxuICAgIGlkLFxuICAgIGluZGV4LFxuICAgIGl0ZW1zLFxuICAgIG5ld0luZGV4OiBwcmV2aW91cy5jdXJyZW50Lm5ld0luZGV4LFxuICAgIHByZXZpb3VzSXRlbXM6IHByZXZpb3VzLmN1cnJlbnQuaXRlbXMsXG4gICAgcHJldmlvdXNDb250YWluZXJJZDogcHJldmlvdXMuY3VycmVudC5jb250YWluZXJJZCxcbiAgICB0cmFuc2l0aW9uLFxuICAgIHdhc0RyYWdnaW5nOiBwcmV2aW91cy5jdXJyZW50LmFjdGl2ZUlkICE9IG51bGxcbiAgfSk7XG4gIGNvbnN0IGRlcml2ZWRUcmFuc2Zvcm0gPSB1c2VEZXJpdmVkVHJhbnNmb3JtKHtcbiAgICBkaXNhYmxlZDogIXNob3VsZEFuaW1hdGVMYXlvdXRDaGFuZ2VzLFxuICAgIGluZGV4LFxuICAgIG5vZGUsXG4gICAgcmVjdFxuICB9KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNTb3J0aW5nICYmIHByZXZpb3VzLmN1cnJlbnQubmV3SW5kZXggIT09IG5ld0luZGV4KSB7XG4gICAgICBwcmV2aW91cy5jdXJyZW50Lm5ld0luZGV4ID0gbmV3SW5kZXg7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRhaW5lcklkICE9PSBwcmV2aW91cy5jdXJyZW50LmNvbnRhaW5lcklkKSB7XG4gICAgICBwcmV2aW91cy5jdXJyZW50LmNvbnRhaW5lcklkID0gY29udGFpbmVySWQ7XG4gICAgfVxuXG4gICAgaWYgKGl0ZW1zICE9PSBwcmV2aW91cy5jdXJyZW50Lml0ZW1zKSB7XG4gICAgICBwcmV2aW91cy5jdXJyZW50Lml0ZW1zID0gaXRlbXM7XG4gICAgfVxuICB9LCBbaXNTb3J0aW5nLCBuZXdJbmRleCwgY29udGFpbmVySWQsIGl0ZW1zXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZUlkID09PSBwcmV2aW91cy5jdXJyZW50LmFjdGl2ZUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZUlkICYmICFwcmV2aW91cy5jdXJyZW50LmFjdGl2ZUlkKSB7XG4gICAgICBwcmV2aW91cy5jdXJyZW50LmFjdGl2ZUlkID0gYWN0aXZlSWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBwcmV2aW91cy5jdXJyZW50LmFjdGl2ZUlkID0gYWN0aXZlSWQ7XG4gICAgfSwgNTApO1xuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgfSwgW2FjdGl2ZUlkXSk7XG4gIHJldHVybiB7XG4gICAgYWN0aXZlLFxuICAgIGFjdGl2ZUluZGV4LFxuICAgIGF0dHJpYnV0ZXMsXG4gICAgZGF0YSxcbiAgICByZWN0LFxuICAgIGluZGV4LFxuICAgIG5ld0luZGV4LFxuICAgIGl0ZW1zLFxuICAgIGlzT3ZlcixcbiAgICBpc1NvcnRpbmcsXG4gICAgaXNEcmFnZ2luZyxcbiAgICBsaXN0ZW5lcnMsXG4gICAgbm9kZSxcbiAgICBvdmVySW5kZXgsXG4gICAgb3ZlcixcbiAgICBzZXROb2RlUmVmLFxuICAgIHNldEFjdGl2YXRvck5vZGVSZWYsXG4gICAgc2V0RHJvcHBhYmxlTm9kZVJlZixcbiAgICBzZXREcmFnZ2FibGVOb2RlUmVmLFxuICAgIHRyYW5zZm9ybTogZGVyaXZlZFRyYW5zZm9ybSAhPSBudWxsID8gZGVyaXZlZFRyYW5zZm9ybSA6IGZpbmFsVHJhbnNmb3JtLFxuICAgIHRyYW5zaXRpb246IGdldFRyYW5zaXRpb24oKVxuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFRyYW5zaXRpb24oKSB7XG4gICAgaWYgKCAvLyBUZW1wb3JhcmlseSBkaXNhYmxlIHRyYW5zaXRpb25zIGZvciBhIHNpbmdsZSBmcmFtZSB0byBzZXQgdXAgZGVyaXZlZCB0cmFuc2Zvcm1zXG4gICAgZGVyaXZlZFRyYW5zZm9ybSB8fCAvLyBPciB0byBwcmV2ZW50IGl0ZW1zIGp1bXBpbmcgdG8gYmFjayB0byB0aGVpciBcIm5ld1wiIHBvc2l0aW9uIHdoZW4gaXRlbXMgY2hhbmdlXG4gICAgaXRlbXNIYXZlQ2hhbmdlZCAmJiBwcmV2aW91cy5jdXJyZW50Lm5ld0luZGV4ID09PSBpbmRleCkge1xuICAgICAgcmV0dXJuIGRpc2FibGVkVHJhbnNpdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkRGlzcGxhY2VEcmFnU291cmNlICYmICFpc0tleWJvYXJkRXZlbnQoYWN0aXZhdG9yRXZlbnQpIHx8ICF0cmFuc2l0aW9uKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChpc1NvcnRpbmcgfHwgc2hvdWxkQW5pbWF0ZUxheW91dENoYW5nZXMpIHtcbiAgICAgIHJldHVybiBDU1MuVHJhbnNpdGlvbi50b1N0cmluZyh7IC4uLnRyYW5zaXRpb24sXG4gICAgICAgIHByb3BlcnR5OiB0cmFuc2l0aW9uUHJvcGVydHlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxEaXNhYmxlZChsb2NhbERpc2FibGVkLCBnbG9iYWxEaXNhYmxlZCkge1xuICB2YXIgX2xvY2FsRGlzYWJsZWQkZHJhZ2dhLCBfbG9jYWxEaXNhYmxlZCRkcm9wcGE7XG5cbiAgaWYgKHR5cGVvZiBsb2NhbERpc2FibGVkID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZHJhZ2dhYmxlOiBsb2NhbERpc2FibGVkLFxuICAgICAgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgIGRyb3BwYWJsZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkcmFnZ2FibGU6IChfbG9jYWxEaXNhYmxlZCRkcmFnZ2EgPSBsb2NhbERpc2FibGVkID09IG51bGwgPyB2b2lkIDAgOiBsb2NhbERpc2FibGVkLmRyYWdnYWJsZSkgIT0gbnVsbCA/IF9sb2NhbERpc2FibGVkJGRyYWdnYSA6IGdsb2JhbERpc2FibGVkLmRyYWdnYWJsZSxcbiAgICBkcm9wcGFibGU6IChfbG9jYWxEaXNhYmxlZCRkcm9wcGEgPSBsb2NhbERpc2FibGVkID09IG51bGwgPyB2b2lkIDAgOiBsb2NhbERpc2FibGVkLmRyb3BwYWJsZSkgIT0gbnVsbCA/IF9sb2NhbERpc2FibGVkJGRyb3BwYSA6IGdsb2JhbERpc2FibGVkLmRyb3BwYWJsZVxuICB9O1xufVxuXG5mdW5jdGlvbiBoYXNTb3J0YWJsZURhdGEoZW50cnkpIHtcbiAgaWYgKCFlbnRyeSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGRhdGEgPSBlbnRyeS5kYXRhLmN1cnJlbnQ7XG5cbiAgaWYgKGRhdGEgJiYgJ3NvcnRhYmxlJyBpbiBkYXRhICYmIHR5cGVvZiBkYXRhLnNvcnRhYmxlID09PSAnb2JqZWN0JyAmJiAnY29udGFpbmVySWQnIGluIGRhdGEuc29ydGFibGUgJiYgJ2l0ZW1zJyBpbiBkYXRhLnNvcnRhYmxlICYmICdpbmRleCcgaW4gZGF0YS5zb3J0YWJsZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb25zdCBkaXJlY3Rpb25zID0gW0tleWJvYXJkQ29kZS5Eb3duLCBLZXlib2FyZENvZGUuUmlnaHQsIEtleWJvYXJkQ29kZS5VcCwgS2V5Ym9hcmRDb2RlLkxlZnRdO1xuY29uc3Qgc29ydGFibGVLZXlib2FyZENvb3JkaW5hdGVzID0gKGV2ZW50LCBfcmVmKSA9PiB7XG4gIGxldCB7XG4gICAgY29udGV4dDoge1xuICAgICAgYWN0aXZlLFxuICAgICAgY29sbGlzaW9uUmVjdCxcbiAgICAgIGRyb3BwYWJsZVJlY3RzLFxuICAgICAgZHJvcHBhYmxlQ29udGFpbmVycyxcbiAgICAgIG92ZXIsXG4gICAgICBzY3JvbGxhYmxlQW5jZXN0b3JzXG4gICAgfVxuICB9ID0gX3JlZjtcblxuICBpZiAoZGlyZWN0aW9ucy5pbmNsdWRlcyhldmVudC5jb2RlKSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoIWFjdGl2ZSB8fCAhY29sbGlzaW9uUmVjdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbHRlcmVkQ29udGFpbmVycyA9IFtdO1xuICAgIGRyb3BwYWJsZUNvbnRhaW5lcnMuZ2V0RW5hYmxlZCgpLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgaWYgKCFlbnRyeSB8fCBlbnRyeSAhPSBudWxsICYmIGVudHJ5LmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVjdCA9IGRyb3BwYWJsZVJlY3RzLmdldChlbnRyeS5pZCk7XG5cbiAgICAgIGlmICghcmVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoZXZlbnQuY29kZSkge1xuICAgICAgICBjYXNlIEtleWJvYXJkQ29kZS5Eb3duOlxuICAgICAgICAgIGlmIChjb2xsaXNpb25SZWN0LnRvcCA8IHJlY3QudG9wKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZENvbnRhaW5lcnMucHVzaChlbnRyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBLZXlib2FyZENvZGUuVXA6XG4gICAgICAgICAgaWYgKGNvbGxpc2lvblJlY3QudG9wID4gcmVjdC50b3ApIHtcbiAgICAgICAgICAgIGZpbHRlcmVkQ29udGFpbmVycy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEtleWJvYXJkQ29kZS5MZWZ0OlxuICAgICAgICAgIGlmIChjb2xsaXNpb25SZWN0LmxlZnQgPiByZWN0LmxlZnQpIHtcbiAgICAgICAgICAgIGZpbHRlcmVkQ29udGFpbmVycy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEtleWJvYXJkQ29kZS5SaWdodDpcbiAgICAgICAgICBpZiAoY29sbGlzaW9uUmVjdC5sZWZ0IDwgcmVjdC5sZWZ0KSB7XG4gICAgICAgICAgICBmaWx0ZXJlZENvbnRhaW5lcnMucHVzaChlbnRyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY29sbGlzaW9ucyA9IGNsb3Nlc3RDb3JuZXJzKHtcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGNvbGxpc2lvblJlY3Q6IGNvbGxpc2lvblJlY3QsXG4gICAgICBkcm9wcGFibGVSZWN0cyxcbiAgICAgIGRyb3BwYWJsZUNvbnRhaW5lcnM6IGZpbHRlcmVkQ29udGFpbmVycyxcbiAgICAgIHBvaW50ZXJDb29yZGluYXRlczogbnVsbFxuICAgIH0pO1xuICAgIGxldCBjbG9zZXN0SWQgPSBnZXRGaXJzdENvbGxpc2lvbihjb2xsaXNpb25zLCAnaWQnKTtcblxuICAgIGlmIChjbG9zZXN0SWQgPT09IChvdmVyID09IG51bGwgPyB2b2lkIDAgOiBvdmVyLmlkKSAmJiBjb2xsaXNpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNsb3Nlc3RJZCA9IGNvbGxpc2lvbnNbMV0uaWQ7XG4gICAgfVxuXG4gICAgaWYgKGNsb3Nlc3RJZCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBhY3RpdmVEcm9wcGFibGUgPSBkcm9wcGFibGVDb250YWluZXJzLmdldChhY3RpdmUuaWQpO1xuICAgICAgY29uc3QgbmV3RHJvcHBhYmxlID0gZHJvcHBhYmxlQ29udGFpbmVycy5nZXQoY2xvc2VzdElkKTtcbiAgICAgIGNvbnN0IG5ld1JlY3QgPSBuZXdEcm9wcGFibGUgPyBkcm9wcGFibGVSZWN0cy5nZXQobmV3RHJvcHBhYmxlLmlkKSA6IG51bGw7XG4gICAgICBjb25zdCBuZXdOb2RlID0gbmV3RHJvcHBhYmxlID09IG51bGwgPyB2b2lkIDAgOiBuZXdEcm9wcGFibGUubm9kZS5jdXJyZW50O1xuXG4gICAgICBpZiAobmV3Tm9kZSAmJiBuZXdSZWN0ICYmIGFjdGl2ZURyb3BwYWJsZSAmJiBuZXdEcm9wcGFibGUpIHtcbiAgICAgICAgY29uc3QgbmV3U2Nyb2xsQW5jZXN0b3JzID0gZ2V0U2Nyb2xsYWJsZUFuY2VzdG9ycyhuZXdOb2RlKTtcbiAgICAgICAgY29uc3QgaGFzRGlmZmVyZW50U2Nyb2xsQW5jZXN0b3JzID0gbmV3U2Nyb2xsQW5jZXN0b3JzLnNvbWUoKGVsZW1lbnQsIGluZGV4KSA9PiBzY3JvbGxhYmxlQW5jZXN0b3JzW2luZGV4XSAhPT0gZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IGhhc1NhbWVDb250YWluZXIgPSBpc1NhbWVDb250YWluZXIoYWN0aXZlRHJvcHBhYmxlLCBuZXdEcm9wcGFibGUpO1xuICAgICAgICBjb25zdCBpc0FmdGVyQWN0aXZlID0gaXNBZnRlcihhY3RpdmVEcm9wcGFibGUsIG5ld0Ryb3BwYWJsZSk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGhhc0RpZmZlcmVudFNjcm9sbEFuY2VzdG9ycyB8fCAhaGFzU2FtZUNvbnRhaW5lciA/IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICB4OiBpc0FmdGVyQWN0aXZlID8gY29sbGlzaW9uUmVjdC53aWR0aCAtIG5ld1JlY3Qud2lkdGggOiAwLFxuICAgICAgICAgIHk6IGlzQWZ0ZXJBY3RpdmUgPyBjb2xsaXNpb25SZWN0LmhlaWdodCAtIG5ld1JlY3QuaGVpZ2h0IDogMFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZWN0Q29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgeDogbmV3UmVjdC5sZWZ0LFxuICAgICAgICAgIHk6IG5ld1JlY3QudG9wXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5ld0Nvb3JkaW5hdGVzID0gb2Zmc2V0LnggJiYgb2Zmc2V0LnkgPyByZWN0Q29vcmRpbmF0ZXMgOiBzdWJ0cmFjdChyZWN0Q29vcmRpbmF0ZXMsIG9mZnNldCk7XG4gICAgICAgIHJldHVybiBuZXdDb29yZGluYXRlcztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuZnVuY3Rpb24gaXNTYW1lQ29udGFpbmVyKGEsIGIpIHtcbiAgaWYgKCFoYXNTb3J0YWJsZURhdGEoYSkgfHwgIWhhc1NvcnRhYmxlRGF0YShiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBhLmRhdGEuY3VycmVudC5zb3J0YWJsZS5jb250YWluZXJJZCA9PT0gYi5kYXRhLmN1cnJlbnQuc29ydGFibGUuY29udGFpbmVySWQ7XG59XG5cbmZ1bmN0aW9uIGlzQWZ0ZXIoYSwgYikge1xuICBpZiAoIWhhc1NvcnRhYmxlRGF0YShhKSB8fCAhaGFzU29ydGFibGVEYXRhKGIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFpc1NhbWVDb250YWluZXIoYSwgYikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gYS5kYXRhLmN1cnJlbnQuc29ydGFibGUuaW5kZXggPCBiLmRhdGEuY3VycmVudC5zb3J0YWJsZS5pbmRleDtcbn1cblxuZXhwb3J0IHsgU29ydGFibGVDb250ZXh0LCBhcnJheU1vdmUsIGFycmF5U3dhcCwgZGVmYXVsdEFuaW1hdGVMYXlvdXRDaGFuZ2VzLCBkZWZhdWx0TmV3SW5kZXhHZXR0ZXIsIGhhc1NvcnRhYmxlRGF0YSwgaG9yaXpvbnRhbExpc3RTb3J0aW5nU3RyYXRlZ3ksIHJlY3RTb3J0aW5nU3RyYXRlZ3ksIHJlY3RTd2FwcGluZ1N0cmF0ZWd5LCBzb3J0YWJsZUtleWJvYXJkQ29vcmRpbmF0ZXMsIHVzZVNvcnRhYmxlLCB2ZXJ0aWNhbExpc3RTb3J0aW5nU3RyYXRlZ3kgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNvcnRhYmxlLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@dnd-kit/utilities/dist/utilities.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/@dnd-kit/utilities/dist/utilities.esm.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSS: () => (/* binding */ CSS),\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   canUseDOM: () => (/* binding */ canUseDOM),\n/* harmony export */   findFirstFocusableNode: () => (/* binding */ findFirstFocusableNode),\n/* harmony export */   getEventCoordinates: () => (/* binding */ getEventCoordinates),\n/* harmony export */   getOwnerDocument: () => (/* binding */ getOwnerDocument),\n/* harmony export */   getWindow: () => (/* binding */ getWindow),\n/* harmony export */   hasViewportRelativeCoordinates: () => (/* binding */ hasViewportRelativeCoordinates),\n/* harmony export */   isDocument: () => (/* binding */ isDocument),\n/* harmony export */   isHTMLElement: () => (/* binding */ isHTMLElement),\n/* harmony export */   isKeyboardEvent: () => (/* binding */ isKeyboardEvent),\n/* harmony export */   isNode: () => (/* binding */ isNode),\n/* harmony export */   isSVGElement: () => (/* binding */ isSVGElement),\n/* harmony export */   isTouchEvent: () => (/* binding */ isTouchEvent),\n/* harmony export */   isWindow: () => (/* binding */ isWindow),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   useCombinedRefs: () => (/* binding */ useCombinedRefs),\n/* harmony export */   useEvent: () => (/* binding */ useEvent),\n/* harmony export */   useInterval: () => (/* binding */ useInterval),\n/* harmony export */   useIsomorphicLayoutEffect: () => (/* binding */ useIsomorphicLayoutEffect),\n/* harmony export */   useLatestValue: () => (/* binding */ useLatestValue),\n/* harmony export */   useLazyMemo: () => (/* binding */ useLazyMemo),\n/* harmony export */   useNodeRef: () => (/* binding */ useNodeRef),\n/* harmony export */   usePrevious: () => (/* binding */ usePrevious),\n/* harmony export */   useUniqueId: () => (/* binding */ useUniqueId)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction useCombinedRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => node => {\n    refs.forEach(ref => ref(node));\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  refs);\n}\n\n// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nconst canUseDOM = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined';\n\nfunction isWindow(element) {\n  const elementString = Object.prototype.toString.call(element);\n  return elementString === '[object Window]' || // In Electron context the Window object serializes to [object global]\n  elementString === '[object global]';\n}\n\nfunction isNode(node) {\n  return 'nodeType' in node;\n}\n\nfunction getWindow(target) {\n  var _target$ownerDocument, _target$ownerDocument2;\n\n  if (!target) {\n    return window;\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (!isNode(target)) {\n    return window;\n  }\n\n  return (_target$ownerDocument = (_target$ownerDocument2 = target.ownerDocument) == null ? void 0 : _target$ownerDocument2.defaultView) != null ? _target$ownerDocument : window;\n}\n\nfunction isDocument(node) {\n  const {\n    Document\n  } = getWindow(node);\n  return node instanceof Document;\n}\n\nfunction isHTMLElement(node) {\n  if (isWindow(node)) {\n    return false;\n  }\n\n  return node instanceof getWindow(node).HTMLElement;\n}\n\nfunction isSVGElement(node) {\n  return node instanceof getWindow(node).SVGElement;\n}\n\nfunction getOwnerDocument(target) {\n  if (!target) {\n    return document;\n  }\n\n  if (isWindow(target)) {\n    return target.document;\n  }\n\n  if (!isNode(target)) {\n    return document;\n  }\n\n  if (isDocument(target)) {\n    return target;\n  }\n\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n\n  return document;\n}\n\n/**\r\n * A hook that resolves to useEffect on the server and useLayoutEffect on the client\r\n * @param callback {function} Callback function that is invoked when the dependencies of the hook change\r\n */\n\nconst useIsomorphicLayoutEffect = canUseDOM ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n\nfunction useEvent(handler) {\n  const handlerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(handler);\n  useIsomorphicLayoutEffect(() => {\n    handlerRef.current = handler;\n  });\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return handlerRef.current == null ? void 0 : handlerRef.current(...args);\n  }, []);\n}\n\nfunction useInterval() {\n  const intervalRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const set = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((listener, duration) => {\n    intervalRef.current = setInterval(listener, duration);\n  }, []);\n  const clear = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (intervalRef.current !== null) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  }, []);\n  return [set, clear];\n}\n\nfunction useLatestValue(value, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [value];\n  }\n\n  const valueRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);\n  useIsomorphicLayoutEffect(() => {\n    if (valueRef.current !== value) {\n      valueRef.current = value;\n    }\n  }, dependencies);\n  return valueRef;\n}\n\nfunction useLazyMemo(callback, dependencies) {\n  const valueRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const newValue = callback(valueRef.current);\n    valueRef.current = newValue;\n    return newValue;\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [...dependencies]);\n}\n\nfunction useNodeRef(onChange) {\n  const onChangeHandler = useEvent(onChange);\n  const node = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const setNodeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(element => {\n    if (element !== node.current) {\n      onChangeHandler == null ? void 0 : onChangeHandler(element, node.current);\n    }\n\n    node.current = element;\n  }, //eslint-disable-next-line\n  []);\n  return [node, setNodeRef];\n}\n\nfunction usePrevious(value) {\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\nlet ids = {};\nfunction useUniqueId(prefix, value) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (value) {\n      return value;\n    }\n\n    const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n    ids[prefix] = id;\n    return prefix + \"-\" + id;\n  }, [prefix, value]);\n}\n\nfunction createAdjustmentFn(modifier) {\n  return function (object) {\n    for (var _len = arguments.length, adjustments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      adjustments[_key - 1] = arguments[_key];\n    }\n\n    return adjustments.reduce((accumulator, adjustment) => {\n      const entries = Object.entries(adjustment);\n\n      for (const [key, valueAdjustment] of entries) {\n        const value = accumulator[key];\n\n        if (value != null) {\n          accumulator[key] = value + modifier * valueAdjustment;\n        }\n      }\n\n      return accumulator;\n    }, { ...object\n    });\n  };\n}\n\nconst add = /*#__PURE__*/createAdjustmentFn(1);\nconst subtract = /*#__PURE__*/createAdjustmentFn(-1);\n\nfunction hasViewportRelativeCoordinates(event) {\n  return 'clientX' in event && 'clientY' in event;\n}\n\nfunction isKeyboardEvent(event) {\n  if (!event) {\n    return false;\n  }\n\n  const {\n    KeyboardEvent\n  } = getWindow(event.target);\n  return KeyboardEvent && event instanceof KeyboardEvent;\n}\n\nfunction isTouchEvent(event) {\n  if (!event) {\n    return false;\n  }\n\n  const {\n    TouchEvent\n  } = getWindow(event.target);\n  return TouchEvent && event instanceof TouchEvent;\n}\n\n/**\r\n * Returns the normalized x and y coordinates for mouse and touch events.\r\n */\n\nfunction getEventCoordinates(event) {\n  if (isTouchEvent(event)) {\n    if (event.touches && event.touches.length) {\n      const {\n        clientX: x,\n        clientY: y\n      } = event.touches[0];\n      return {\n        x,\n        y\n      };\n    } else if (event.changedTouches && event.changedTouches.length) {\n      const {\n        clientX: x,\n        clientY: y\n      } = event.changedTouches[0];\n      return {\n        x,\n        y\n      };\n    }\n  }\n\n  if (hasViewportRelativeCoordinates(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY\n    };\n  }\n\n  return null;\n}\n\nconst CSS = /*#__PURE__*/Object.freeze({\n  Translate: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      const {\n        x,\n        y\n      } = transform;\n      return \"translate3d(\" + (x ? Math.round(x) : 0) + \"px, \" + (y ? Math.round(y) : 0) + \"px, 0)\";\n    }\n\n  },\n  Scale: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      const {\n        scaleX,\n        scaleY\n      } = transform;\n      return \"scaleX(\" + scaleX + \") scaleY(\" + scaleY + \")\";\n    }\n\n  },\n  Transform: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      return [CSS.Translate.toString(transform), CSS.Scale.toString(transform)].join(' ');\n    }\n\n  },\n  Transition: {\n    toString(_ref) {\n      let {\n        property,\n        duration,\n        easing\n      } = _ref;\n      return property + \" \" + duration + \"ms \" + easing;\n    }\n\n  }\n});\n\nconst SELECTOR = 'a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]';\nfunction findFirstFocusableNode(element) {\n  if (element.matches(SELECTOR)) {\n    return element;\n  }\n\n  return element.querySelector(SELECTOR);\n}\n\n\n//# sourceMappingURL=utilities.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZG5kLWtpdC91dGlsaXRpZXMvZGlzdC91dGlsaXRpZXMuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRjs7QUFFakY7QUFDQSxzRUFBc0UsYUFBYTtBQUNuRjtBQUNBOztBQUVBLFNBQVMsOENBQU87QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7O0FBRUEsOENBQThDLGtEQUFlLEdBQUcsNENBQVM7O0FBRXpFO0FBQ0EscUJBQXFCLDZDQUFNO0FBQzNCO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyxrREFBVztBQUNwQix3RUFBd0UsYUFBYTtBQUNyRjtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0Esc0JBQXNCLDZDQUFNO0FBQzVCLGNBQWMsa0RBQVc7QUFDekI7QUFDQSxHQUFHO0FBQ0gsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLDZDQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsNkNBQU07QUFDekIsU0FBUyw4Q0FBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSw2Q0FBTTtBQUNyQixxQkFBcUIsa0RBQVc7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsNkNBQU07QUFDcEIsRUFBRSxnREFBUztBQUNYO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVMsOENBQU87QUFDaEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0Esa0dBQWtHLGFBQWE7QUFDL0c7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLLElBQUk7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFbVg7QUFDblgiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYXJlc2gucGVudGFwYXRpL0RvY3VtZW50cy9Qcm9qZWN0cy9mcmFncmFuY2VGb3JtdWxhL25vZGVfbW9kdWxlcy9AZG5kLWtpdC91dGlsaXRpZXMvZGlzdC91dGlsaXRpZXMuZXNtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZU1lbW8sIHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiB1c2VDb21iaW5lZFJlZnMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZWZzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHJlZnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gdXNlTWVtbygoKSA9PiBub2RlID0+IHtcbiAgICByZWZzLmZvckVhY2gocmVmID0+IHJlZihub2RlKSk7XG4gIH0sIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgcmVmcyk7XG59XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvRXhlY3V0aW9uRW52aXJvbm1lbnQuanNcbmNvbnN0IGNhblVzZURPTSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmZ1bmN0aW9uIGlzV2luZG93KGVsZW1lbnQpIHtcbiAgY29uc3QgZWxlbWVudFN0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlbGVtZW50KTtcbiAgcmV0dXJuIGVsZW1lbnRTdHJpbmcgPT09ICdbb2JqZWN0IFdpbmRvd10nIHx8IC8vIEluIEVsZWN0cm9uIGNvbnRleHQgdGhlIFdpbmRvdyBvYmplY3Qgc2VyaWFsaXplcyB0byBbb2JqZWN0IGdsb2JhbF1cbiAgZWxlbWVudFN0cmluZyA9PT0gJ1tvYmplY3QgZ2xvYmFsXSc7XG59XG5cbmZ1bmN0aW9uIGlzTm9kZShub2RlKSB7XG4gIHJldHVybiAnbm9kZVR5cGUnIGluIG5vZGU7XG59XG5cbmZ1bmN0aW9uIGdldFdpbmRvdyh0YXJnZXQpIHtcbiAgdmFyIF90YXJnZXQkb3duZXJEb2N1bWVudCwgX3RhcmdldCRvd25lckRvY3VtZW50MjtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cblxuICBpZiAoaXNXaW5kb3codGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBpZiAoIWlzTm9kZSh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuXG4gIHJldHVybiAoX3RhcmdldCRvd25lckRvY3VtZW50ID0gKF90YXJnZXQkb3duZXJEb2N1bWVudDIgPSB0YXJnZXQub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90YXJnZXQkb3duZXJEb2N1bWVudDIuZGVmYXVsdFZpZXcpICE9IG51bGwgPyBfdGFyZ2V0JG93bmVyRG9jdW1lbnQgOiB3aW5kb3c7XG59XG5cbmZ1bmN0aW9uIGlzRG9jdW1lbnQobm9kZSkge1xuICBjb25zdCB7XG4gICAgRG9jdW1lbnRcbiAgfSA9IGdldFdpbmRvdyhub2RlKTtcbiAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBEb2N1bWVudDtcbn1cblxuZnVuY3Rpb24gaXNIVE1MRWxlbWVudChub2RlKSB7XG4gIGlmIChpc1dpbmRvdyhub2RlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgZ2V0V2luZG93KG5vZGUpLkhUTUxFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBpc1NWR0VsZW1lbnQobm9kZSkge1xuICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIGdldFdpbmRvdyhub2RlKS5TVkdFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBnZXRPd25lckRvY3VtZW50KHRhcmdldCkge1xuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybiBkb2N1bWVudDtcbiAgfVxuXG4gIGlmIChpc1dpbmRvdyh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHRhcmdldC5kb2N1bWVudDtcbiAgfVxuXG4gIGlmICghaXNOb2RlKHRhcmdldCkpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQ7XG4gIH1cblxuICBpZiAoaXNEb2N1bWVudCh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGlmIChpc0hUTUxFbGVtZW50KHRhcmdldCkgfHwgaXNTVkdFbGVtZW50KHRhcmdldCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG4gIH1cblxuICByZXR1cm4gZG9jdW1lbnQ7XG59XG5cbi8qKlxyXG4gKiBBIGhvb2sgdGhhdCByZXNvbHZlcyB0byB1c2VFZmZlY3Qgb24gdGhlIHNlcnZlciBhbmQgdXNlTGF5b3V0RWZmZWN0IG9uIHRoZSBjbGllbnRcclxuICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn0gQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBpbnZva2VkIHdoZW4gdGhlIGRlcGVuZGVuY2llcyBvZiB0aGUgaG9vayBjaGFuZ2VcclxuICovXG5cbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSBjYW5Vc2VET00gPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7XG5cbmZ1bmN0aW9uIHVzZUV2ZW50KGhhbmRsZXIpIHtcbiAgY29uc3QgaGFuZGxlclJlZiA9IHVzZVJlZihoYW5kbGVyKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaGFuZGxlclJlZi5jdXJyZW50ID0gaGFuZGxlcjtcbiAgfSk7XG4gIHJldHVybiB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBoYW5kbGVyUmVmLmN1cnJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGhhbmRsZXJSZWYuY3VycmVudCguLi5hcmdzKTtcbiAgfSwgW10pO1xufVxuXG5mdW5jdGlvbiB1c2VJbnRlcnZhbCgpIHtcbiAgY29uc3QgaW50ZXJ2YWxSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHNldCA9IHVzZUNhbGxiYWNrKChsaXN0ZW5lciwgZHVyYXRpb24pID0+IHtcbiAgICBpbnRlcnZhbFJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwobGlzdGVuZXIsIGR1cmF0aW9uKTtcbiAgfSwgW10pO1xuICBjb25zdCBjbGVhciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoaW50ZXJ2YWxSZWYuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfSwgW10pO1xuICByZXR1cm4gW3NldCwgY2xlYXJdO1xufVxuXG5mdW5jdGlvbiB1c2VMYXRlc3RWYWx1ZSh2YWx1ZSwgZGVwZW5kZW5jaWVzKSB7XG4gIGlmIChkZXBlbmRlbmNpZXMgPT09IHZvaWQgMCkge1xuICAgIGRlcGVuZGVuY2llcyA9IFt2YWx1ZV07XG4gIH1cblxuICBjb25zdCB2YWx1ZVJlZiA9IHVzZVJlZih2YWx1ZSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2YWx1ZVJlZi5jdXJyZW50ICE9PSB2YWx1ZSkge1xuICAgICAgdmFsdWVSZWYuY3VycmVudCA9IHZhbHVlO1xuICAgIH1cbiAgfSwgZGVwZW5kZW5jaWVzKTtcbiAgcmV0dXJuIHZhbHVlUmVmO1xufVxuXG5mdW5jdGlvbiB1c2VMYXp5TWVtbyhjYWxsYmFjaywgZGVwZW5kZW5jaWVzKSB7XG4gIGNvbnN0IHZhbHVlUmVmID0gdXNlUmVmKCk7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IGNhbGxiYWNrKHZhbHVlUmVmLmN1cnJlbnQpO1xuICAgIHZhbHVlUmVmLmN1cnJlbnQgPSBuZXdWYWx1ZTtcbiAgICByZXR1cm4gbmV3VmFsdWU7XG4gIH0sIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgWy4uLmRlcGVuZGVuY2llc10pO1xufVxuXG5mdW5jdGlvbiB1c2VOb2RlUmVmKG9uQ2hhbmdlKSB7XG4gIGNvbnN0IG9uQ2hhbmdlSGFuZGxlciA9IHVzZUV2ZW50KG9uQ2hhbmdlKTtcbiAgY29uc3Qgbm9kZSA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgc2V0Tm9kZVJlZiA9IHVzZUNhbGxiYWNrKGVsZW1lbnQgPT4ge1xuICAgIGlmIChlbGVtZW50ICE9PSBub2RlLmN1cnJlbnQpIHtcbiAgICAgIG9uQ2hhbmdlSGFuZGxlciA9PSBudWxsID8gdm9pZCAwIDogb25DaGFuZ2VIYW5kbGVyKGVsZW1lbnQsIG5vZGUuY3VycmVudCk7XG4gICAgfVxuXG4gICAgbm9kZS5jdXJyZW50ID0gZWxlbWVudDtcbiAgfSwgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgW10pO1xuICByZXR1cm4gW25vZGUsIHNldE5vZGVSZWZdO1xufVxuXG5mdW5jdGlvbiB1c2VQcmV2aW91cyh2YWx1ZSkge1xuICBjb25zdCByZWYgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICB9LCBbdmFsdWVdKTtcbiAgcmV0dXJuIHJlZi5jdXJyZW50O1xufVxuXG5sZXQgaWRzID0ge307XG5mdW5jdGlvbiB1c2VVbmlxdWVJZChwcmVmaXgsIHZhbHVlKSB7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBpZCA9IGlkc1twcmVmaXhdID09IG51bGwgPyAwIDogaWRzW3ByZWZpeF0gKyAxO1xuICAgIGlkc1twcmVmaXhdID0gaWQ7XG4gICAgcmV0dXJuIHByZWZpeCArIFwiLVwiICsgaWQ7XG4gIH0sIFtwcmVmaXgsIHZhbHVlXSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFkanVzdG1lbnRGbihtb2RpZmllcikge1xuICByZXR1cm4gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhZGp1c3RtZW50cyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhZGp1c3RtZW50c1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkanVzdG1lbnRzLnJlZHVjZSgoYWNjdW11bGF0b3IsIGFkanVzdG1lbnQpID0+IHtcbiAgICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhhZGp1c3RtZW50KTtcblxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZUFkanVzdG1lbnRdIG9mIGVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhY2N1bXVsYXRvcltrZXldO1xuXG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlICsgbW9kaWZpZXIgKiB2YWx1ZUFkanVzdG1lbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH0sIHsgLi4ub2JqZWN0XG4gICAgfSk7XG4gIH07XG59XG5cbmNvbnN0IGFkZCA9IC8qI19fUFVSRV9fKi9jcmVhdGVBZGp1c3RtZW50Rm4oMSk7XG5jb25zdCBzdWJ0cmFjdCA9IC8qI19fUFVSRV9fKi9jcmVhdGVBZGp1c3RtZW50Rm4oLTEpO1xuXG5mdW5jdGlvbiBoYXNWaWV3cG9ydFJlbGF0aXZlQ29vcmRpbmF0ZXMoZXZlbnQpIHtcbiAgcmV0dXJuICdjbGllbnRYJyBpbiBldmVudCAmJiAnY2xpZW50WScgaW4gZXZlbnQ7XG59XG5cbmZ1bmN0aW9uIGlzS2V5Ym9hcmRFdmVudChldmVudCkge1xuICBpZiAoIWV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qge1xuICAgIEtleWJvYXJkRXZlbnRcbiAgfSA9IGdldFdpbmRvdyhldmVudC50YXJnZXQpO1xuICByZXR1cm4gS2V5Ym9hcmRFdmVudCAmJiBldmVudCBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQ7XG59XG5cbmZ1bmN0aW9uIGlzVG91Y2hFdmVudChldmVudCkge1xuICBpZiAoIWV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qge1xuICAgIFRvdWNoRXZlbnRcbiAgfSA9IGdldFdpbmRvdyhldmVudC50YXJnZXQpO1xuICByZXR1cm4gVG91Y2hFdmVudCAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQ7XG59XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBub3JtYWxpemVkIHggYW5kIHkgY29vcmRpbmF0ZXMgZm9yIG1vdXNlIGFuZCB0b3VjaCBldmVudHMuXHJcbiAqL1xuXG5mdW5jdGlvbiBnZXRFdmVudENvb3JkaW5hdGVzKGV2ZW50KSB7XG4gIGlmIChpc1RvdWNoRXZlbnQoZXZlbnQpKSB7XG4gICAgaWYgKGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY2xpZW50WDogeCxcbiAgICAgICAgY2xpZW50WTogeVxuICAgICAgfSA9IGV2ZW50LnRvdWNoZXNbMF07XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4LFxuICAgICAgICB5XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZXZlbnQuY2hhbmdlZFRvdWNoZXMgJiYgZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNsaWVudFg6IHgsXG4gICAgICAgIGNsaWVudFk6IHlcbiAgICAgIH0gPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHgsXG4gICAgICAgIHlcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgaWYgKGhhc1ZpZXdwb3J0UmVsYXRpdmVDb29yZGluYXRlcyhldmVudCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IENTUyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgVHJhbnNsYXRlOiB7XG4gICAgdG9TdHJpbmcodHJhbnNmb3JtKSB7XG4gICAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgfSA9IHRyYW5zZm9ybTtcbiAgICAgIHJldHVybiBcInRyYW5zbGF0ZTNkKFwiICsgKHggPyBNYXRoLnJvdW5kKHgpIDogMCkgKyBcInB4LCBcIiArICh5ID8gTWF0aC5yb3VuZCh5KSA6IDApICsgXCJweCwgMClcIjtcbiAgICB9XG5cbiAgfSxcbiAgU2NhbGU6IHtcbiAgICB0b1N0cmluZyh0cmFuc2Zvcm0pIHtcbiAgICAgIGlmICghdHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qge1xuICAgICAgICBzY2FsZVgsXG4gICAgICAgIHNjYWxlWVxuICAgICAgfSA9IHRyYW5zZm9ybTtcbiAgICAgIHJldHVybiBcInNjYWxlWChcIiArIHNjYWxlWCArIFwiKSBzY2FsZVkoXCIgKyBzY2FsZVkgKyBcIilcIjtcbiAgICB9XG5cbiAgfSxcbiAgVHJhbnNmb3JtOiB7XG4gICAgdG9TdHJpbmcodHJhbnNmb3JtKSB7XG4gICAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbQ1NTLlRyYW5zbGF0ZS50b1N0cmluZyh0cmFuc2Zvcm0pLCBDU1MuU2NhbGUudG9TdHJpbmcodHJhbnNmb3JtKV0uam9pbignICcpO1xuICAgIH1cblxuICB9LFxuICBUcmFuc2l0aW9uOiB7XG4gICAgdG9TdHJpbmcoX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgcHJvcGVydHksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmdcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgcmV0dXJuIHByb3BlcnR5ICsgXCIgXCIgKyBkdXJhdGlvbiArIFwibXMgXCIgKyBlYXNpbmc7XG4gICAgfVxuXG4gIH1cbn0pO1xuXG5jb25zdCBTRUxFQ1RPUiA9ICdhLGZyYW1lLGlmcmFtZSxpbnB1dDpub3QoW3R5cGU9aGlkZGVuXSk6bm90KDpkaXNhYmxlZCksc2VsZWN0Om5vdCg6ZGlzYWJsZWQpLHRleHRhcmVhOm5vdCg6ZGlzYWJsZWQpLGJ1dHRvbjpub3QoOmRpc2FibGVkKSwqW3RhYmluZGV4XSc7XG5mdW5jdGlvbiBmaW5kRmlyc3RGb2N1c2FibGVOb2RlKGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQubWF0Y2hlcyhTRUxFQ1RPUikpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1IpO1xufVxuXG5leHBvcnQgeyBDU1MsIGFkZCwgY2FuVXNlRE9NLCBmaW5kRmlyc3RGb2N1c2FibGVOb2RlLCBnZXRFdmVudENvb3JkaW5hdGVzLCBnZXRPd25lckRvY3VtZW50LCBnZXRXaW5kb3csIGhhc1ZpZXdwb3J0UmVsYXRpdmVDb29yZGluYXRlcywgaXNEb2N1bWVudCwgaXNIVE1MRWxlbWVudCwgaXNLZXlib2FyZEV2ZW50LCBpc05vZGUsIGlzU1ZHRWxlbWVudCwgaXNUb3VjaEV2ZW50LCBpc1dpbmRvdywgc3VidHJhY3QsIHVzZUNvbWJpbmVkUmVmcywgdXNlRXZlbnQsIHVzZUludGVydmFsLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LCB1c2VMYXRlc3RWYWx1ZSwgdXNlTGF6eU1lbW8sIHVzZU5vZGVSZWYsIHVzZVByZXZpb3VzLCB1c2VVbmlxdWVJZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbGl0aWVzLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@dnd-kit/utilities/dist/utilities.esm.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fnaresh.pentapati%2FDocuments%2FProjects%2FfragranceFormula%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!*******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fnaresh.pentapati%2FDocuments%2FProjects%2FfragranceFormula%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \*******************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(app-pages-browser)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZuYXJlc2gucGVudGFwYXRpJTJGRG9jdW1lbnRzJTJGUHJvamVjdHMlMkZmcmFncmFuY2VGb3JtdWxhJTJGYXBwJTJGcGFnZS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPWZhbHNlISIsIm1hcHBpbmdzIjoiQUFBQSxzSkFBNkciLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9uYXJlc2gucGVudGFwYXRpL0RvY3VtZW50cy9Qcm9qZWN0cy9mcmFncmFuY2VGb3JtdWxhL2FwcC9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fnaresh.pentapati%2FDocuments%2FProjects%2FfragranceFormula%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n true &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return (type.displayName || \"Context\") + \".Provider\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(\n      type,\n      key,\n      self,\n      source,\n      owner,\n      props,\n      debugStack,\n      debugTask\n    ) {\n      self = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== self ? self : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        self,\n        source,\n        getOwner(),\n        maybeKey,\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n    Symbol.for(\"react.provider\");\n    var REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      \"react-stack-bottom-frame\": function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React[\"react-stack-bottom-frame\"].bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self\n    ) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        isStaticChildren,\n        source,\n        self,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7QUFDYixLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFnRDtBQUNoRSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0EsZ0NBQWdDLGtDQUFrQyxPQUFPO0FBQ3pFO0FBQ0EsZ0dBQWdHLFNBQVMsVUFBVSxzRkFBc0YsYUFBYSxVQUFVLFVBQVU7QUFDMU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQU8sQ0FBQyxzR0FBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdCQUFnQjtBQUNwQixJQUFJLGNBQWM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHIiwic291cmNlcyI6WyIvVXNlcnMvbmFyZXNoLnBlbnRhcGF0aS9Eb2N1bWVudHMvUHJvamVjdHMvZnJhZ3JhbmNlRm9ybXVsYS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFza05hbWUodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHJldHVybiBcIjw+XCI7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFXG4gICAgICApXG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIG5hbWUgPyBcIjxcIiArIG5hbWUgKyBcIj5cIiA6IFwiPC4uLj5cIjtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiPC4uLj5cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFVua25vd25Pd25lcigpIHtcbiAgICAgIHJldHVybiBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQoXG4gICAgICB0eXBlLFxuICAgICAga2V5LFxuICAgICAgc2VsZixcbiAgICAgIHNvdXJjZSxcbiAgICAgIG93bmVyLFxuICAgICAgcHJvcHMsXG4gICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgZGVidWdUYXNrXG4gICAgKSB7XG4gICAgICBzZWxmID0gcHJvcHMucmVmO1xuICAgICAgdHlwZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIG51bGwgIT09ICh2b2lkIDAgIT09IHNlbGYgPyBzZWxmIDogbnVsbClcbiAgICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQ6IGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwgeyBlbnVtZXJhYmxlOiAhMSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICB0eXBlLl9zdG9yZSA9IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUuX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z0luZm9cIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdTdGFja1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1N0YWNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1Rhc2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdUYXNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGpzeERFVkltcGwoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZixcbiAgICAgIGRlYnVnU3RhY2ssXG4gICAgICBkZWJ1Z1Rhc2tcbiAgICApIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcbiAgICAgIGlmICh2b2lkIDAgIT09IGNoaWxkcmVuKVxuICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbilcbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID0gMDtcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA8IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbisrXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuW2lzU3RhdGljQ2hpbGRyZW5dKTtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZHJlbik7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuIFlvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgZWxzZSB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbik7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIGNoaWxkcmVuID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNvbmZpZykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5XCIgIT09IGs7XG4gICAgICAgIH0pO1xuICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID1cbiAgICAgICAgICAwIDwga2V5cy5sZW5ndGhcbiAgICAgICAgICAgID8gXCJ7a2V5OiBzb21lS2V5LCBcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiXG4gICAgICAgICAgICA6IFwie2tleTogc29tZUtleX1cIjtcbiAgICAgICAgZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gfHxcbiAgICAgICAgICAoKGtleXMgPVxuICAgICAgICAgICAgMCA8IGtleXMubGVuZ3RoID8gXCJ7XCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIiA6IFwie31cIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdBIHByb3BzIG9iamVjdCBjb250YWluaW5nIGEgXCJrZXlcIiBwcm9wIGlzIGJlaW5nIHNwcmVhZCBpbnRvIEpTWDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIHsuLi5wcm9wc30gLz5cXG5SZWFjdCBrZXlzIG11c3QgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIEpTWCB3aXRob3V0IHVzaW5nIHNwcmVhZDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIGtleT17c29tZUtleX0gey4uLnByb3BzfSAvPicsXG4gICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBrZXlzLFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2b2lkIDAgIT09IG1heWJlS2V5ICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIG1heWJlS2V5KSk7XG4gICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgaWYgKFwia2V5XCIgaW4gY29uZmlnKSB7XG4gICAgICAgIG1heWJlS2V5ID0ge307XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJiAobWF5YmVLZXlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9IGVsc2UgbWF5YmVLZXkgPSBjb25maWc7XG4gICAgICBjaGlsZHJlbiAmJlxuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihcbiAgICAgICAgICBtYXliZUtleSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBzZWxmLFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGdldE93bmVyKCksXG4gICAgICAgIG1heWJlS2V5LFxuICAgICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgICBkZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUpIHtcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBub2RlICYmXG4gICAgICAgIG51bGwgIT09IG5vZGUgJiZcbiAgICAgICAgbm9kZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFICYmXG4gICAgICAgIG5vZGUuX3N0b3JlICYmXG4gICAgICAgIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICB9XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKSxcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC50cmFuc2l0aW9uYWwuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksXG4gICAgICBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLFxuICAgICAgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik7XG4gICAgdmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29uc3VtZXJcIiksXG4gICAgICBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxcbiAgICAgIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksXG4gICAgICBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSxcbiAgICAgIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLFxuICAgICAgUkVBQ1RfQUNUSVZJVFlfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5hY3Rpdml0eVwiKSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgY3JlYXRlVGFzayA9IGNvbnNvbGUuY3JlYXRlVGFza1xuICAgICAgICA/IGNvbnNvbGUuY3JlYXRlVGFza1xuICAgICAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH07XG4gICAgUmVhY3QgPSB7XG4gICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoY2FsbFN0YWNrRm9yRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxTdGFja0ZvckVycm9yKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd247XG4gICAgdmFyIGRpZFdhcm5BYm91dEVsZW1lbnRSZWYgPSB7fTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdTdGFjayA9IFJlYWN0W1wicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJdLmJpbmQoXG4gICAgICBSZWFjdCxcbiAgICAgIFVua25vd25Pd25lclxuICAgICkoKTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdUYXNrID0gY3JlYXRlVGFzayhnZXRUYXNrTmFtZShVbmtub3duT3duZXIpKTtcbiAgICB2YXIgZGlkV2FybkFib3V0S2V5U3ByZWFkID0ge307XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5qc3hERVYgPSBmdW5jdGlvbiAoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZlxuICAgICkge1xuICAgICAgdmFyIHRyYWNrQWN0dWFsT3duZXIgPVxuICAgICAgICAxZTQgPiBSZWFjdFNoYXJlZEludGVybmFscy5yZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrcysrO1xuICAgICAgcmV0dXJuIGpzeERFVkltcGwoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgbWF5YmVLZXksXG4gICAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgc2VsZixcbiAgICAgICAgdHJhY2tBY3R1YWxPd25lclxuICAgICAgICAgID8gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIilcbiAgICAgICAgICA6IHVua25vd25Pd25lckRlYnVnU3RhY2ssXG4gICAgICAgIHRyYWNrQWN0dWFsT3duZXIgPyBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKHR5cGUpKSA6IHVua25vd25Pd25lckRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9O1xuICB9KSgpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYXJlc2gucGVudGFwYXRpL0RvY3VtZW50cy9Qcm9qZWN0cy9mcmFncmFuY2VGb3JtdWxhL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUucHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fnaresh.pentapati%2FDocuments%2FProjects%2FfragranceFormula%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);